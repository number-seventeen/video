{"remainingRequest":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/babel-loader/lib/index.js!/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zbywjq/Desktop/cloudwork/VideoBatches/src/views/components/DialogSelectSource.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/src/views/components/DialogSelectSource.vue","mtime":1596418914801},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc2VhcmNoIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IEFtU291cmNlU2VsZWN0IGZyb20gJ2FtLXNvdXJjZS1zZWxlY3QnOwppbXBvcnQgTWVzc2FnZUFsZXJ0IGZyb20gJy4vTWVzc2FnZUFsZXJ0JzsKaW1wb3J0ICogYXMgSW50ZXJmYWNlIGZyb20gJy4uLy4uL3N0b3JlL2ludGVyZmFjZVVybC5qcyc7CmltcG9ydCBnbG9iYWwgZnJvbSAnLi4vLi4vcGx1Z2lucy9nbG9iYWwnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2RpYWxvZy1zZWxlY3Qtc291cmNlJywKICBjb21wb25lbnRzOiB7CiAgICBBbVNvdXJjZVNlbGVjdDogQW1Tb3VyY2VTZWxlY3QsCiAgICBNZXNzYWdlQWxlcnQ6IE1lc3NhZ2VBbGVydAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBlbmFibGVkVHlwZTogJ2FsbCx2aWRlbyxhdWRpbyxpbWFnZScsCiAgICAgIGVuYWJsZWRSYWRpbzogZmFsc2UsCiAgICAgIGNhbGxiYWNrOiBudWxsLAogICAgICBwcm9tcHRUZXh0OiAnJwogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHNob3c6IGZ1bmN0aW9uIHNob3cob3B0aW9ucywgY2FsbGJhY2spIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICAgIHRoaXMuZW5hYmxlZFR5cGUgPSBvcHRpb25zLmVuYWJsZWRUeXBlOwogICAgICB0aGlzLmVuYWJsZWRSYWRpbyA9ICEhb3B0aW9ucy5lbmFibGVkUmFkaW87CiAgICAgIHRoaXMucHJvbXB0VGV4dCA9IG9wdGlvbnMucHJvbXB0VGV4dCB8fCAnJzsKCiAgICAgIGlmIChvcHRpb25zLmlzQ2xlYXJDaGVja2VkICYmIHRoaXMuJHJlZnMuc291cmNlU2VsZWN0KSB7CiAgICAgICAgdGhpcy4kcmVmcy5zb3VyY2VTZWxlY3QuY2xlYXJDaGVja2VkKCk7CiAgICAgIH0KCiAgICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjazsKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLmZsdXNoTGlzdEhhbmRsZXIoX3RoaXMuJHJlZnMuc291cmNlU2VsZWN0LmZpbHRlclBhcmFtcyk7CiAgICAgIH0pOwogICAgfSwKICAgIGZsdXNoTGlzdEhhbmRsZXI6IGZ1bmN0aW9uIGZsdXNoTGlzdEhhbmRsZXIocGFyYW1zKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgLy8gL3N2aXAvcmVzb3VyY2VzL291dGVyLXJlc291cmNlcwogICAgICBjb25zb2xlLmxvZygnZmx1c2hMaXN0SGFuZGxlcicsIHBhcmFtcyk7CiAgICAgIHdpbmRvdy5heGlvcy5wb3N0KEludGVyZmFjZS5nZXRNZWRpYUxpc3QgKyBnbG9iYWwuc2VhcmNoLCBwYXJhbXMpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAvLyBjb25zb2xlLmxvZygnZGF0YScsZGF0YSkKICAgICAgICAvLyB0aGlzLnJldHVybkRhdGEgPSBkYXRhOwogICAgICAgIF90aGlzMi4kcmVmcy5zb3VyY2VTZWxlY3Quc2V0UmV0dXJuRGF0YShkYXRhLnJldHVybkRhdGEpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7fSk7CiAgICB9LAogICAgb25DYW5jZWxIYW5kbGVyOiBmdW5jdGlvbiBvbkNhbmNlbEhhbmRsZXIoKSB7CiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IGZhbHNlOwogICAgfSwKICAgIG9uT2tIYW5kbGVyOiBmdW5jdGlvbiBvbk9rSGFuZGxlcigpIHsKICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gZmFsc2U7CiAgICAgIHZhciBhcnIgPSB0aGlzLiRyZWZzLnNvdXJjZVNlbGVjdC5nZXRTZWxlY3RTb3VyY2UoKTsKCiAgICAgIGlmICh0aGlzLmNhbGxiYWNrICYmIGFyci5sZW5ndGggPiAwKSB7CiAgICAgICAgdGhpcy5jYWxsYmFjayhhcnIpOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["DialogSelectSource.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA,OAAA,cAAA,MAAA,kBAAA;AACA,OAAA,YAAA,MAAA,gBAAA;AACA,OAAA,KAAA,SAAA,MAAA,6BAAA;AACA,OAAA,MAAA,MAAA,sBAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,sBADA;AAEA,EAAA,UAAA,EAAA;AAAA,IAAA,cAAA,EAAA,cAAA;AAAA,IAAA,YAAA,EAAA;AAAA,GAFA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,aAAA,EAAA,KADA;AAEA,MAAA,WAAA,EAAA,uBAFA;AAGA,MAAA,YAAA,EAAA,KAHA;AAIA,MAAA,QAAA,EAAA,IAJA;AAKA,MAAA,UAAA,EAAA;AALA,KAAA;AAOA,GAXA;AAYA,EAAA,OAAA,EAAA;AACA,IAAA,IADA,gBACA,OADA,EACA,QADA,EACA;AAAA;;AACA,WAAA,aAAA,GAAA,IAAA;AACA,WAAA,WAAA,GAAA,OAAA,CAAA,WAAA;AACA,WAAA,YAAA,GAAA,CAAA,CAAA,OAAA,CAAA,YAAA;AACA,WAAA,UAAA,GAAA,OAAA,CAAA,UAAA,IAAA,EAAA;;AACA,UAAA,OAAA,CAAA,cAAA,IAAA,KAAA,KAAA,CAAA,YAAA,EAAA;AACA,aAAA,KAAA,CAAA,YAAA,CAAA,YAAA;AACA;;AACA,WAAA,QAAA,GAAA,QAAA;AACA,WAAA,SAAA,CAAA,YAAA;AACA,QAAA,KAAA,CAAA,gBAAA,CAAA,KAAA,CAAA,KAAA,CAAA,YAAA,CAAA,YAAA;AACA,OAFA;AAGA,KAbA;AAcA,IAAA,gBAdA,4BAcA,MAdA,EAcA;AAAA;;AACA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,kBAAA,EAAA,MAAA;AACA,MAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,SAAA,CAAA,YAAA,GAAA,MAAA,CAAA,MAAA,EAAA,MAAA,EACA,IADA,CACA,UAAA,IAAA,EAAA;AACA;AACA;AACA,QAAA,MAAA,CAAA,KAAA,CAAA,YAAA,CAAA,aAAA,CAAA,IAAA,CAAA,UAAA;AACA,OALA,EAKA,KALA,CAKA,YAAA,CAEA,CAPA;AAQA,KAzBA;AA0BA,IAAA,eA1BA,6BA0BA;AACA,WAAA,aAAA,GAAA,KAAA;AACA,KA5BA;AA6BA,IAAA,WA7BA,yBA6BA;AACA,WAAA,aAAA,GAAA,KAAA;AACA,UAAA,GAAA,GAAA,KAAA,KAAA,CAAA,YAAA,CAAA,eAAA,EAAA;;AACA,UAAA,KAAA,QAAA,IAAA,GAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,aAAA,QAAA,CAAA,GAAA;AACA;AACA;AAnCA;AAZA,CAAA","sourcesContent":["<template>\n    <el-dialog\n        title=\"选择素材\"\n        :visible.sync=\"dialogVisible\"\n        width=\"940px\"\n        :append-to-body=\"true\"\n        class=\"dialog-select-source\">\n        <div class=\"dss-center\">\n            <AmSourceSelect \n            ref=\"sourceSelect\"\n            :enabledType=\"enabledType\"\n            :enabledRadio=\"enabledRadio\"\n            :propPageSize=\"60\"\n            @flushList=\"flushListHandler\"/>\n        </div>\n        <div class=\"dss-footer\">\n            <div class=\"dssf-left\">\n                <MessageAlert v-show=\"promptText.length>0\" :promptText=\"promptText\" :hasClose=\"false\"/>\n            </div>\n            <div class=\"dssf-right\">\n                <el-button type=\"primary\" size=\"small\" @click=\"onCancelHandler\">取消</el-button>\n                <el-button type=\"primary\" size=\"small\" @click=\"onOkHandler\">确定</el-button>\n            </div>\n        </div>\n        \n    </el-dialog>\n</template>\n\n<script>\nimport AmSourceSelect from 'am-source-select';\nimport MessageAlert from './MessageAlert';\nimport * as Interface from '../../store/interfaceUrl.js';\nimport global from '../../plugins/global';\nexport default {\n    name:'dialog-select-source',\n    components:{AmSourceSelect,MessageAlert},\n    data(){\n        return {\n            dialogVisible:false,\n            enabledType:'all,video,audio,image',\n            enabledRadio:false,\n            callback:null,\n            promptText:''\n        }\n    },\n    methods:{\n        show(options,callback){\n            this.dialogVisible = true;\n            this.enabledType = options.enabledType;\n            this.enabledRadio = !!options.enabledRadio;\n            this.promptText = options.promptText || '';\n            if(options.isClearChecked && this.$refs.sourceSelect){\n                this.$refs.sourceSelect.clearChecked();\n            }\n            this.callback = callback;\n            this.$nextTick(()=>{\n                this.flushListHandler(this.$refs.sourceSelect.filterParams);\n            })\n        },\n        flushListHandler(params){\n            // /svip/resources/outer-resources\n            console.log('flushListHandler',params)\n\t\t\twindow.axios.post(Interface.getMediaList+global.search,params)\n\t\t\t.then((data)=>{\n\t\t\t\t// console.log('data',data)\n                // this.returnData = data;\n                this.$refs.sourceSelect.setReturnData(data.returnData);\n\t\t\t}).catch( ()=>{\n\n\t\t\t})\n        },\n        onCancelHandler(){\n            this.dialogVisible = false;\n        },\n        onOkHandler(){\n            this.dialogVisible = false;\n            const arr = this.$refs.sourceSelect.getSelectSource();\n            if(this.callback && arr.length > 0){\n                this.callback(arr);\n            }\n        }\n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.dialog-select-source{\n    ::v-deep >.el-dialog>.el-dialog__body{\n        padding: 5px;\n    }\n    ::v-deep .el-dialog__header{\n        border-bottom: 1px solid #eeeeee;\n    }\n\n    .dss-center{\n        width: 100%;\n        height: 600px;\n    }\n\n    .dss-footer{\n        width: 100%;\n        height: 50px;\n        display: flex;\n        justify-content: space-between;\n        // align-items: center;\n        padding: 0px 20px;\n\n        .dssf-left{\n            width: 270px;\n        }\n        .dssf-right{\n            width: 160px;\n\n            >*{\n                margin-left: 20px;\n            }\n        }\n    }\n}\n</style>"],"sourceRoot":"src/views/components"}]}