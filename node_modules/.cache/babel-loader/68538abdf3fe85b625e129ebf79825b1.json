{"remainingRequest":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/babel-loader/lib/index.js!/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zbywjq/Desktop/cloudwork/VideoBatches/src/views/components/DialogSelectSource.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/src/views/components/DialogSelectSource.vue","mtime":1597110466756},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc2VhcmNoIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IEFtU291cmNlU2VsZWN0IGZyb20gJ2FtLXNvdXJjZS1zZWxlY3QnOwppbXBvcnQgTWVzc2FnZUFsZXJ0IGZyb20gJy4vTWVzc2FnZUFsZXJ0JzsKaW1wb3J0ICogYXMgSW50ZXJmYWNlIGZyb20gJy4uLy4uL3N0b3JlL2ludGVyZmFjZVVybC5qcyc7CmltcG9ydCBnbG9iYWwgZnJvbSAnLi4vLi4vcGx1Z2lucy9nbG9iYWwnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2RpYWxvZy1zZWxlY3Qtc291cmNlJywKICBjb21wb25lbnRzOiB7CiAgICBBbVNvdXJjZVNlbGVjdDogQW1Tb3VyY2VTZWxlY3QsCiAgICBNZXNzYWdlQWxlcnQ6IE1lc3NhZ2VBbGVydAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBlbmFibGVkVHlwZTogJ3ZpZGVvJywKICAgICAgZW5hYmxlZFJhZGlvOiBmYWxzZSwKICAgICAgY2FsbGJhY2s6IG51bGwsCiAgICAgIHByb21wdFRleHQ6ICcnCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgc2hvdzogZnVuY3Rpb24gc2hvdyhvcHRpb25zLCBjYWxsYmFjaykgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgICAgdGhpcy5lbmFibGVkVHlwZSA9IG9wdGlvbnMuZW5hYmxlZFR5cGU7CiAgICAgIHRoaXMuZW5hYmxlZFJhZGlvID0gISFvcHRpb25zLmVuYWJsZWRSYWRpbzsKICAgICAgdGhpcy5wcm9tcHRUZXh0ID0gb3B0aW9ucy5wcm9tcHRUZXh0IHx8ICcnOwogICAgICBjb25zb2xlLmxvZygpOwoKICAgICAgaWYgKG9wdGlvbnMuaXNDbGVhckNoZWNrZWQgJiYgdGhpcy4kcmVmcy5zb3VyY2VTZWxlY3QpIHsKICAgICAgICB0aGlzLiRyZWZzLnNvdXJjZVNlbGVjdC5jbGVhckNoZWNrZWQoKTsKICAgICAgfQoKICAgICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrOwogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMuZmx1c2hMaXN0SGFuZGxlcihfdGhpcy4kcmVmcy5zb3VyY2VTZWxlY3QuZmlsdGVyUGFyYW1zKTsKICAgICAgfSk7CiAgICB9LAogICAgZmx1c2hMaXN0SGFuZGxlcjogZnVuY3Rpb24gZmx1c2hMaXN0SGFuZGxlcihwYXJhbXMpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICAvLyAvc3ZpcC9yZXNvdXJjZXMvb3V0ZXItcmVzb3VyY2VzCiAgICAgIGNvbnNvbGUubG9nKCdmbHVzaExpc3RIYW5kbGVyJywgcGFyYW1zKTsKICAgICAgd2luZG93LmF4aW9zLnBvc3QoSW50ZXJmYWNlLmdldE1lZGlhTGlzdCArIGdsb2JhbC5zZWFyY2gsIHBhcmFtcykudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIC8vIGNvbnNvbGUubG9nKCdkYXRhJyxkYXRhKQogICAgICAgIC8vIHRoaXMucmV0dXJuRGF0YSA9IGRhdGE7CiAgICAgICAgX3RoaXMyLiRyZWZzLnNvdXJjZVNlbGVjdC5zZXRSZXR1cm5EYXRhKGRhdGEucmV0dXJuRGF0YSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHt9KTsKICAgIH0sCiAgICBvbkNhbmNlbEhhbmRsZXI6IGZ1bmN0aW9uIG9uQ2FuY2VsSGFuZGxlcigpIHsKICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gZmFsc2U7CiAgICB9LAogICAgb25Pa0hhbmRsZXI6IGZ1bmN0aW9uIG9uT2tIYW5kbGVyKCkgewogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSBmYWxzZTsKICAgICAgdmFyIGFyciA9IHRoaXMuJHJlZnMuc291cmNlU2VsZWN0LmdldFNlbGVjdFNvdXJjZSgpOwoKICAgICAgaWYgKHRoaXMuY2FsbGJhY2sgJiYgYXJyLmxlbmd0aCA+IDApIHsKICAgICAgICB0aGlzLmNhbGxiYWNrKGFycik7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["DialogSelectSource.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA,OAAA,cAAA,MAAA,kBAAA;AACA,OAAA,YAAA,MAAA,gBAAA;AACA,OAAA,KAAA,SAAA,MAAA,6BAAA;AACA,OAAA,MAAA,MAAA,sBAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,sBADA;AAEA,EAAA,UAAA,EAAA;AAAA,IAAA,cAAA,EAAA,cAAA;AAAA,IAAA,YAAA,EAAA;AAAA,GAFA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,aAAA,EAAA,KADA;AAEA,MAAA,WAAA,EAAA,OAFA;AAGA,MAAA,YAAA,EAAA,KAHA;AAIA,MAAA,QAAA,EAAA,IAJA;AAKA,MAAA,UAAA,EAAA;AALA,KAAA;AAOA,GAXA;AAYA,EAAA,OAAA,EAAA;AACA,IAAA,IADA,gBACA,OADA,EACA,QADA,EACA;AAAA;;AACA,WAAA,aAAA,GAAA,IAAA;AACA,WAAA,WAAA,GAAA,OAAA,CAAA,WAAA;AACA,WAAA,YAAA,GAAA,CAAA,CAAA,OAAA,CAAA,YAAA;AACA,WAAA,UAAA,GAAA,OAAA,CAAA,UAAA,IAAA,EAAA;AACA,MAAA,OAAA,CAAA,GAAA;;AACA,UAAA,OAAA,CAAA,cAAA,IAAA,KAAA,KAAA,CAAA,YAAA,EAAA;AACA,aAAA,KAAA,CAAA,YAAA,CAAA,YAAA;AACA;;AACA,WAAA,QAAA,GAAA,QAAA;AACA,WAAA,SAAA,CAAA,YAAA;AACA,QAAA,KAAA,CAAA,gBAAA,CAAA,KAAA,CAAA,KAAA,CAAA,YAAA,CAAA,YAAA;AACA,OAFA;AAGA,KAdA;AAeA,IAAA,gBAfA,4BAeA,MAfA,EAeA;AAAA;;AACA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,kBAAA,EAAA,MAAA;AACA,MAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,SAAA,CAAA,YAAA,GAAA,MAAA,CAAA,MAAA,EAAA,MAAA,EACA,IADA,CACA,UAAA,IAAA,EAAA;AACA;AACA;AACA,QAAA,MAAA,CAAA,KAAA,CAAA,YAAA,CAAA,aAAA,CAAA,IAAA,CAAA,UAAA;AACA,OALA,EAKA,KALA,CAKA,YAAA,CAEA,CAPA;AAQA,KA1BA;AA2BA,IAAA,eA3BA,6BA2BA;AACA,WAAA,aAAA,GAAA,KAAA;AACA,KA7BA;AA8BA,IAAA,WA9BA,yBA8BA;AACA,WAAA,aAAA,GAAA,KAAA;AACA,UAAA,GAAA,GAAA,KAAA,KAAA,CAAA,YAAA,CAAA,eAAA,EAAA;;AACA,UAAA,KAAA,QAAA,IAAA,GAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,aAAA,QAAA,CAAA,GAAA;AAEA;AACA;AArCA;AAZA,CAAA","sourcesContent":["<template>\n    <el-dialog\n        title=\"选择素材\"\n        :visible.sync=\"dialogVisible\"\n        width=\"940px\"\n        :append-to-body=\"true\"\n        class=\"dialog-select-source\">\n        <div class=\"dss-center\">\n            <AmSourceSelect \n            ref=\"sourceSelect\"\n            :enabledType=\"enabledType\"\n            :enabledRadio=\"enabledRadio\"\n            :propPageSize=\"60\"\n            @flushList=\"flushListHandler\"/>\n        </div>\n        <div class=\"dss-footer\">\n            <div class=\"dssf-left\">\n                <MessageAlert v-show=\"promptText.length>0\" :promptText=\"promptText\" :hasClose=\"false\"/>\n            </div>\n            <div class=\"dssf-right\">\n                <el-button type=\"primary\" size=\"small\" @click=\"onCancelHandler\">取消</el-button>\n                <el-button type=\"primary\" size=\"small\" @click=\"onOkHandler\">确定</el-button>\n            </div>\n        </div>\n        \n    </el-dialog>\n</template>\n\n<script>\nimport AmSourceSelect from 'am-source-select';\nimport MessageAlert from './MessageAlert';\nimport * as Interface from '../../store/interfaceUrl.js';\nimport global from '../../plugins/global';\nexport default {\n    name:'dialog-select-source',\n    components:{AmSourceSelect,MessageAlert},\n    data(){\n        return {\n            dialogVisible:false,\n            enabledType:'video',\n            enabledRadio:false,\n            callback:null,\n            promptText:''\n        }\n    },\n    methods:{\n        show(options,callback){\n            this.dialogVisible = true;\n            this.enabledType = options.enabledType;\n            this.enabledRadio = !!options.enabledRadio;\n            this.promptText = options.promptText || '';\n            console.log()\n            if(options.isClearChecked && this.$refs.sourceSelect){\n                this.$refs.sourceSelect.clearChecked();\n            }\n            this.callback = callback;\n            this.$nextTick(()=>{\n                this.flushListHandler(this.$refs.sourceSelect.filterParams);\n            })\n        },\n        flushListHandler(params){\n            // /svip/resources/outer-resources\n            console.log('flushListHandler',params)\n\t\t\twindow.axios.post(Interface.getMediaList+global.search,params)\n\t\t\t.then((data)=>{\n\t\t\t\t// console.log('data',data)\n                // this.returnData = data;\n                this.$refs.sourceSelect.setReturnData(data.returnData);\n\t\t\t}).catch( ()=>{\n\n\t\t\t})\n        },\n        onCancelHandler(){\n            this.dialogVisible = false;\n        },\n        onOkHandler(){\n            this.dialogVisible = false;\n            const arr = this.$refs.sourceSelect.getSelectSource();\n            if(this.callback && arr.length > 0){\n                this.callback(arr);\n                \n            }\n        }\n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.dialog-select-source{\n    ::v-deep >.el-dialog>.el-dialog__body{\n        padding: 5px;\n    }\n    ::v-deep .el-dialog__header{\n        border-bottom: 1px solid #eeeeee;\n    }\n\n    .dss-center{\n        width: 100%;\n        height: 600px;\n    }\n\n    .dss-footer{\n        width: 100%;\n        height: 50px;\n        display: flex;\n        justify-content: space-between;\n        // align-items: center;\n        padding: 0px 20px;\n\n        .dssf-left{\n            width: 270px;\n        }\n        .dssf-right{\n            width: 160px;\n\n            >*{\n                margin-left: 20px;\n            }\n        }\n    }\n}\n</style>"],"sourceRoot":"src/views/components"}]}