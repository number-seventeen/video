{"remainingRequest":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/babel-loader/lib/index.js!/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zbywjq/Desktop/cloudwork/VideoBatches/src/views/source/PageSource.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/src/views/source/PageSource.vue","mtime":1596419580307},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc2VhcmNoIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL3pieXdqcS9EZXNrdG9wL2Nsb3Vkd29yay9WaWRlb0JhdGNoZXMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgTWFpbkhlYWRlciBmcm9tICdAL3ZpZXdzL2NvbXBvbmVudHMvTWFpbkhlYWRlcic7CmltcG9ydCBBbVNvdXJjZVNlbGVjdCBmcm9tICdhbS1zb3VyY2Utc2VsZWN0JzsKaW1wb3J0ICogYXMgSW50ZXJmYWNlIGZyb20gJy4uLy4uL3N0b3JlL2ludGVyZmFjZVVybC5qcyc7CmltcG9ydCAqIGFzIHR5cGVzIGZyb20gJy4uLy4uL3N0b3JlL211dGF0aW9uVHlwZXMuanMnOwppbXBvcnQgZ2xvYmFsIGZyb20gJy4uLy4uL3BsdWdpbnMvZ2xvYmFsJzsKaW1wb3J0IHsgbWFwU3RhdGUsIG1hcE11dGF0aW9ucyB9IGZyb20gJ3Z1ZXgnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgTWFpbkhlYWRlcjogTWFpbkhlYWRlciwKICAgIEFtU291cmNlU2VsZWN0OiBBbVNvdXJjZVNlbGVjdAogIH0sCiAgcHJvcHM6IHsvLyBoYXNCYWNrOnsKICAgIC8vICAgICB0eXBlOkJvb2xlYW4sCiAgICAvLyAgICAgZGVmYXVsdDogZmFsc2UKICAgIC8vIH0sCiAgICAvLyB0aXRsZTp7CiAgICAvLyAgICAgdHlwZTpTdHJpbmcsCiAgICAvLyAgICAgZGVmYXVsdDonJwogICAgLy8gfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGVuYWJsZWRUeXBlOiAndmlkZW8nLAogICAgICBlbmFibGVkQ2hlY2tCb3g6IHRydWUKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIGNvbmZpZyA9IHRoaXMuJHN0b3JlLnN0YXRlLmFwcFN0b3JlLmNvbmZpZzsKICAgIGNvbnNvbGUubG9nKCdjb25maWcnLCBjb25maWcpOwogIH0sCiAgbWV0aG9kczogX29iamVjdFNwcmVhZCh7fSwgbWFwTXV0YXRpb25zKHsKICAgIHNldEN1cnJlbnRNZWRpYTogdHlwZXMuU0VUX0NVUlJFTlRfTUVESUEKICB9KSwgewogICAgc2VsZWN0ZWRIYW5kbGVyOiBmdW5jdGlvbiBzZWxlY3RlZEhhbmRsZXIoKSB7CiAgICAgIHZhciBhcnIgPSB0aGlzLiRyZWZzLnNvdXJjZVNlbGVjdC5nZXRTZWxlY3RTb3VyY2UoKTsKCiAgICAgIGlmIChhcnIubGVuZ3RoID4gMCkgewogICAgICAgIHZhciBtZWRpYSA9IGFyclswXTsKICAgICAgICB0aGlzLnNldEN1cnJlbnRNZWRpYShtZWRpYSk7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgbmFtZTogJ2VkaXQnLAogICAgICAgICAgcXVlcnk6IGdsb2JhbC5wYXJhbXMKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICdlcnJvcicsCiAgICAgICAgICBtZXNzYWdlOiAn6K+35YWI6YCJ5oup6KeG6aKRJwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgZmx1c2hMaXN0SGFuZGxlcjogZnVuY3Rpb24gZmx1c2hMaXN0SGFuZGxlcihwYXJhbXMpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIC8vIC9zdmlwL3Jlc291cmNlcy9vdXRlci1yZXNvdXJjZXMKICAgICAgY29uc29sZS5sb2coJ2ZsdXNoTGlzdEhhbmRsZXInLCBwYXJhbXMpOwogICAgICB3aW5kb3cuYXhpb3MucG9zdChJbnRlcmZhY2UuZ2V0TWVkaWFMaXN0ICsgZ2xvYmFsLnNlYXJjaCwgcGFyYW1zKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgLy8gY29uc29sZS5sb2coJ2RhdGEnLGRhdGEpCiAgICAgICAgLy8gdGhpcy5yZXR1cm5EYXRhID0gZGF0YTsKICAgICAgICBfdGhpcy4kcmVmcy5zb3VyY2VTZWxlY3Quc2V0UmV0dXJuRGF0YShkYXRhLnJldHVybkRhdGEpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7fSk7CiAgICB9CiAgfSkKfTs="},{"version":3,"sources":["PageSource.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAqBA,OAAA,UAAA,MAAA,+BAAA;AACA,OAAA,cAAA,MAAA,kBAAA;AACA,OAAA,KAAA,SAAA,MAAA,6BAAA;AACA,OAAA,KAAA,KAAA,MAAA,8BAAA;AACA,OAAA,MAAA,MAAA,sBAAA;AACA,SAAA,QAAA,EAAA,YAAA,QAAA,MAAA;AACA,eAAA;AACA,EAAA,UAAA,EAAA;AAAA,IAAA,UAAA,EAAA,UAAA;AAAA,IAAA,cAAA,EAAA;AAAA,GADA;AAEA,EAAA,KAAA,EAAA,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA,GAFA;AAYA,EAAA,IAZA,kBAYA;AACA,WAAA;AACA,MAAA,WAAA,EAAA,OADA;AAEA,MAAA,eAAA,EAAA;AAFA,KAAA;AAIA,GAjBA;AAkBA,EAAA,OAlBA,qBAkBA;AACA,QAAA,MAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA,QAAA,CAAA,MAAA;AACA,IAAA,OAAA,CAAA,GAAA,CAAA,QAAA,EAAA,MAAA;AACA,GArBA;AAsBA,EAAA,OAAA,oBACA,YAAA,CAAA;AACA,IAAA,eAAA,EAAA,KAAA,CAAA;AADA,GAAA,CADA;AAIA,IAAA,eAJA,6BAIA;AACA,UAAA,GAAA,GAAA,KAAA,KAAA,CAAA,YAAA,CAAA,eAAA,EAAA;;AACA,UAAA,GAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,YAAA,KAAA,GAAA,GAAA,CAAA,CAAA,CAAA;AACA,aAAA,eAAA,CAAA,KAAA;AACA,aAAA,OAAA,CAAA,IAAA,CAAA;AAAA,UAAA,IAAA,EAAA,MAAA;AAAA,UAAA,KAAA,EAAA,MAAA,CAAA;AAAA,SAAA;AACA,OAJA,MAIA;AACA,aAAA,QAAA,CAAA;AACA,UAAA,IAAA,EAAA,OADA;AAEA,UAAA,OAAA,EAAA;AAFA,SAAA;AAIA;AACA,KAhBA;AAiBA,IAAA,gBAjBA,4BAiBA,MAjBA,EAiBA;AAAA;;AACA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,kBAAA,EAAA,MAAA;AACA,MAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,SAAA,CAAA,YAAA,GAAA,MAAA,CAAA,MAAA,EAAA,MAAA,EACA,IADA,CACA,UAAA,IAAA,EAAA;AACA;AACA;AACA,QAAA,KAAA,CAAA,KAAA,CAAA,YAAA,CAAA,aAAA,CAAA,IAAA,CAAA,UAAA;AACA,OALA,EAKA,KALA,CAKA,YAAA,CAEA,CAPA;AAQA;AA5BA;AAtBA,CAAA","sourcesContent":["<template>\n    <div class=\"page-source\">\n        <MainHeader :hasBack=\"false\" title=\"海报视频模板\" :hasTaskBtn=\"false\" :hasHelpBtn=\"false\">\n            <div class=\"edit-top-btns\">\n                <el-button type=\"primary\" size=\"small\" @click=\"selectedHandler\">选用</el-button>\n            </div>\n        </MainHeader>\n        <div class=\"page-content\">\n            <div class=\"page-source-list\">\n                <AmSourceSelect \n                ref=\"sourceSelect\"\n                :enabledType=\"enabledType\"\n                :enabledCheckBox=\"enabledCheckBox\"\n                :propPageSize=\"60\"\n                @flushList=\"flushListHandler\"/>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport MainHeader from '@/views/components/MainHeader';\nimport AmSourceSelect from 'am-source-select';\nimport * as Interface from '../../store/interfaceUrl.js';\nimport * as types from '../../store/mutationTypes.js';\nimport global from '../../plugins/global';\nimport {mapState,mapMutations} from 'vuex';\nexport default {\n    components:{MainHeader,AmSourceSelect},\n    props:{\n        // hasBack:{\n        //     type:Boolean,\n        //     default: false\n        // },\n        // title:{\n        //     type:String,\n        //     default:''\n        // }\n    },\n    data(){\n        return {\n            enabledType:'video',\n            enabledCheckBox:true,\n        }\n    },\n    created(){\n        let config = this.$store.state.appStore.config;\n        console.log('config',config)\n    },\n    methods:{\n        ...mapMutations({\n\t\t\tsetCurrentMedia: types.SET_CURRENT_MEDIA,\n\t\t}),\n        selectedHandler(){\n            const arr = this.$refs.sourceSelect.getSelectSource();\n            if(arr.length > 0){\n                let media = arr[0];\n                this.setCurrentMedia(media);\n                this.$router.push({name:'edit',query:global.params});\n            }else{\n                this.$message({\n                    type: 'error',\n                    message: '请先选择视频'\n                });\n            }\n        },\n        flushListHandler(params){\n            // /svip/resources/outer-resources\n            console.log('flushListHandler',params)\n\t\t\twindow.axios.post(Interface.getMediaList+global.search,params)\n\t\t\t.then((data)=>{\n\t\t\t\t// console.log('data',data)\n                // this.returnData = data;\n                this.$refs.sourceSelect.setReturnData(data.returnData);\n\t\t\t}).catch( ()=>{\n\n\t\t\t})\n        },\n    }\n}\n</script>\n\n\n<style lang=\"scss\" scoped>\n.page-source{\n    width: 100%;\n    height: 100%;\n    background-color: #f5f5f5;\n\n    .edit-top-btns{\n        width: 100%;\n        height: 100%;\n        display: flex;\n        align-items: center;\n        justify-content: flex-end;\n    }\n    \n    .page-content{\n        width: 100%;\n        height: calc(100% - 50px);\n        padding: 15px;\n\n        .page-source-list{\n            width: 100%;\n            height: 100%;\n            background: #ffffff;\n        }\n    }\n}\n</style>"],"sourceRoot":"src/views/source"}]}