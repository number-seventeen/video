{"remainingRequest":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/babel-loader/lib/index.js!/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zbywjq/Desktop/cloudwork/VideoBatches/src/views/components/titleTail/DialogChangePos.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/src/views/components/titleTail/DialogChangePos.vue","mtime":1597199451793},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IE1lc3NhZ2VBbGVydCBmcm9tICcuLi9NZXNzYWdlQWxlcnQnOwppbXBvcnQgTXlEZWZUb29sIGZyb20gJy4uL015RGVmVG9vbCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnZGlhbG9nLWNoYW5nZS1wb3MnLAogIGNvbXBvbmVudHM6IHsKICAgIE15RGVmVG9vbDogTXlEZWZUb29sLAogICAgTWVzc2FnZUFsZXJ0OiBNZXNzYWdlQWxlcnQKICB9LAogIHByb3BzOiB7Ly8gaGFzQmFjazp7CiAgICAvLyAgICAgdHlwZTpCb29sZWFuLAogICAgLy8gICAgIGRlZmF1bHQ6IGZhbHNlCiAgICAvLyB9LAogICAgLy8gdGl0bGU6ewogICAgLy8gICAgIHR5cGU6U3RyaW5nLAogICAgLy8gICAgIGRlZmF1bHQ6JycKICAgIC8vIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgY2FsbGJhY2s6IG51bGwsCiAgICAgIHByZXZpZXdVcmw6ICcnLAogICAgICBjdXJyZW50VGltZTogMCwKICAgICAgZG9tV2lkdGg6IDAsCiAgICAgIGRvbUhlaWdodDogMCwKICAgICAgc2NhbGVXSDogJzA6MCcsCiAgICAgIHBvczogewogICAgICAgIHg6IDAsCiAgICAgICAgeTogMCwKICAgICAgICB3OiAxLAogICAgICAgIGg6IDEKICAgICAgfQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICAvLyAuLi5tYXBTdGF0ZSh7CiAgICAvLyAgICAgY3VyRWRpdFRlbXBsYXRlOiBzdGF0ZSA9PiBzdGF0ZS5hcHBTdG9yZS5jdXJFZGl0VGVtcGxhdGUKICAgIC8vIH0pCiAgICBpbWdQb3NTdHlsZTogZnVuY3Rpb24gaW1nUG9zU3R5bGUoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgbGVmdDogdGhpcy5wb3MueCAqIDEwMCArICclJywKICAgICAgICB0b3A6IHRoaXMucG9zLnkgKiAxMDAgKyAnJScsCiAgICAgICAgd2lkdGg6IHRoaXMucG9zLncgKiAxMDAgKyAnJScsCiAgICAgICAgaGVpZ2h0OiB0aGlzLnBvcy5oICogMTAwICsgJyUnCiAgICAgIH07CiAgICB9CiAgfSwKICB3YXRjaDogey8vIGRpYWxvZ1Zpc2libGU6ewogICAgLy8gICAgIGRlZXA6dHJ1ZSwKICAgIC8vICAgICBoYW5kbGVyOmZ1bmN0aW9uIChuZXdWYWwpewogICAgLy8gICAgICAgICBpZighbmV3VmFsKXsKICAgIC8vICAgICAgICAgICAgIAogICAgLy8gICAgICAgICB9CiAgICAvLyAgICAgfQogICAgLy8gfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHt9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7Ly8gY29uc29sZS5sb2coJ3Nzc3Nzc3Nzc3Ntb3VudGVkbW91bnRlZHNzc3MnLHRoaXMuJHJlZnMucHJlUm9vdCkKICB9LAogIG1ldGhvZHM6IHsKICAgIHNob3c6IGZ1bmN0aW9uIHNob3cob3B0aW9ucywgY2FsbGJhY2spIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBpbmZvID0gb3B0aW9ucy5pbmZvOwogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7CgogICAgICBpZiAob3B0aW9ucy5hc3BlY3RSYXRpbyA9PT0gJzE2OjknKSB7CiAgICAgICAgdGhpcy5kb21XaWR0aCA9IDY0MDsKICAgICAgICB0aGlzLmRvbUhlaWdodCA9IDM2MDsKICAgICAgfSBlbHNlIGlmIChvcHRpb25zLmFzcGVjdFJhdGlvID09PSAnOToxNicpIHsKICAgICAgICB0aGlzLmRvbVdpZHRoID0gMjAyLjU7CiAgICAgICAgdGhpcy5kb21IZWlnaHQgPSAzNjA7CiAgICAgIH0KCiAgICAgIHRoaXMuc2NhbGVXSCA9IGluZm8uV2lkdGggKyAiOiIgKyBpbmZvLkhlaWdodDsKCiAgICAgIGlmIChpbmZvLlBvcykgewogICAgICAgIHRoaXMucG9zLnggPSBpbmZvLlBvcy54OwogICAgICAgIHRoaXMucG9zLnkgPSBpbmZvLlBvcy55OwogICAgICAgIHRoaXMucG9zLncgPSBpbmZvLlBvcy53aWR0aCB8fCAxOwogICAgICAgIHRoaXMucG9zLmggPSBpbmZvLlBvcy5oZWlnaHQgfHwgMTsKICAgICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpcy4kcmVmcy5teURlZlRvb2wucmVzZXRQb3MoX3RoaXMucG9zKTsKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgdGhpcy5wcmV2aWV3VXJsID0gaW5mby5QcmV2aWV3VXJsOwogICAgICBjb25zb2xlLmxvZygnaW5mbycsIGluZm8pOwogICAgfSwKICAgIG9uT2tIYW5kbGVyOiBmdW5jdGlvbiBvbk9rSGFuZGxlcigpIHsKICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gZmFsc2U7CgogICAgICBpZiAodGhpcy5jYWxsYmFjaykgewogICAgICAgIHRoaXMuY2FsbGJhY2soewogICAgICAgICAgeDogdGhpcy5wb3MueCwKICAgICAgICAgIHk6IHRoaXMucG9zLnksCiAgICAgICAgICB3aWR0aDogdGhpcy5wb3MudywKICAgICAgICAgIGhlaWdodDogdGhpcy5wb3MuaAogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgb25DYW5jZWxIYW5kbGVyOiBmdW5jdGlvbiBvbkNhbmNlbEhhbmRsZXIoKSB7CiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IGZhbHNlOwogICAgfSwKICAgIGRlZlRvb2xIYW5kbGVyOiBmdW5jdGlvbiBkZWZUb29sSGFuZGxlcihzY2FsZVBvcykgewogICAgICB0aGlzLnBvcyA9IE9iamVjdC5hc3NpZ24odGhpcy5wb3MsIHNjYWxlUG9zKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["DialogChangePos.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <el-dialog\r\n        title=\"调整水印位置\"\r\n        :visible.sync=\"dialogVisible\"\r\n        width=\"680px\"\r\n        :append-to-body=\"true\"\r\n        :close-on-click-modal=\"false\"\r\n        class=\"dialog-change-pos\">\r\n        <div class=\"dcc-container\">\r\n            <div class=\"dcc-area\" :style=\"{width:domWidth+'px',height:domHeight+'px'}\">\r\n                <div class=\"area-cover\">\r\n                    <MyDefTool ref=\"myDefTool\" :scaleWH=\"scaleWH\" \r\n                    :useCtrlScale=\"true\" \r\n                    @change=\"defToolHandler\"/>\r\n                </div>\r\n                <img :src=\"previewUrl\" :style=\"imgPosStyle\"/>\r\n            </div>\r\n        </div>\r\n        <div class=\"dcc-footer\">\r\n            <div class=\"dccf-left\">\r\n                <MessageAlert promptText=\"提示：按住ctrl键可按原图等比缩放\" :hasClose=\"true\"/>\r\n            </div>\r\n            <div class=\"dccf-right\">\r\n                <el-button size=\"small\" @click=\"onCancelHandler\">取消</el-button>\r\n                <el-button type=\"primary\" size=\"small\" @click=\"onOkHandler\">完成</el-button>\r\n            </div>\r\n        </div>\r\n    </el-dialog>\r\n</template>\r\n\r\n<script>\r\n\r\nimport MessageAlert from '../MessageAlert';\r\nimport MyDefTool from '../MyDefTool';\r\nexport default {\r\n    name:'dialog-change-pos',\r\n    components:{MyDefTool,MessageAlert},\r\n    props:{\r\n        // hasBack:{\r\n        //     type:Boolean,\r\n        //     default: false\r\n        // },\r\n        // title:{\r\n        //     type:String,\r\n        //     default:''\r\n        // }\r\n    },\r\n    data(){\r\n        return {\r\n            dialogVisible: false,\r\n            callback:null,\r\n            previewUrl:'',\r\n            currentTime:0,\r\n            domWidth:0,\r\n            domHeight:0,\r\n            scaleWH:'0:0',\r\n            pos:{\r\n                x:0,\r\n                y:0,\r\n                w:1,\r\n                h:1\r\n            }\r\n        }\r\n    },\r\n    computed:{\r\n        // ...mapState({\r\n        //     curEditTemplate: state => state.appStore.curEditTemplate\r\n        // })\r\n        imgPosStyle(){\r\n            return {\r\n                left:this.pos.x*100+'%',\r\n                top:this.pos.y*100+'%',\r\n                width:this.pos.w*100+'%',\r\n                height:this.pos.h*100+'%',\r\n            }\r\n        }\r\n    },\r\n    watch:{\r\n        // dialogVisible:{\r\n        //     deep:true,\r\n        //     handler:function (newVal){\r\n        //         if(!newVal){\r\n        //             \r\n        //         }\r\n        //     }\r\n        // }\r\n    },\r\n    created(){\r\n        \r\n    },\r\n    mounted(){\r\n        // console.log('ssssssssssmountedmountedssss',this.$refs.preRoot)\r\n    },\r\n    methods:{\r\n        show(options,callback){\r\n            const info = options.info;\r\n            \r\n            this.dialogVisible = true;\r\n            this.callback = callback;\r\n            if(options.aspectRatio === '16:9'){\r\n                this.domWidth = 640;\r\n                this.domHeight = 360;\r\n            }else if(options.aspectRatio === '9:16'){\r\n                this.domWidth = 202.5;\r\n                this.domHeight = 360;\r\n            }\r\n            this.scaleWH = info.Width+\":\"+info.Height;\r\n\r\n            if(info.Pos){\r\n                this.pos.x = info.Pos.x;\r\n                this.pos.y = info.Pos.y;\r\n                this.pos.w = info.Pos.width || 1;\r\n                this.pos.h = info.Pos.height || 1;\r\n                this.$nextTick(()=>{\r\n                    this.$refs.myDefTool.resetPos(this.pos);\r\n                })\r\n                \r\n            }\r\n            this.previewUrl = info.PreviewUrl;\r\n            console.log('info',info)\r\n        },\r\n        onOkHandler(){\r\n            this.dialogVisible = false;\r\n            if(this.callback){\r\n                this.callback({\r\n                    x:this.pos.x,\r\n                    y:this.pos.y,\r\n                    width: this.pos.w,\r\n                    height: this.pos.h\r\n                })\r\n            }\r\n        },\r\n        onCancelHandler(){\r\n            this.dialogVisible = false;\r\n            \r\n        },\r\n        defToolHandler(scalePos){\r\n            this.pos = Object.assign(this.pos,scalePos)\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n\r\n<style lang=\"scss\" scoped>\r\n.dialog-change-pos{\r\n    ::v-deep .el-dialog__header{\r\n        border-bottom: 1px solid #eeeeee;\r\n    }\r\n\r\n    ::v-deep .el-dialog__body{\r\n        padding: 15px 20px;\r\n    }\r\n\r\n    .dcc-container{\r\n        width: 100%;\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n        // height: 470px;\r\n        // background-color: aqua;\r\n        // display: flex;\r\n\r\n        // .dcc-video-box{\r\n        //     width: 640px;\r\n        //     height: 360px;\r\n        //     background-color: black;\r\n        //     display: flex;\r\n        //     justify-content: center;\r\n\r\n            \r\n        // }\r\n        .dcc-area{\r\n            width: 100%;\r\n            height: 100%;\r\n            position: relative;\r\n            // background-color: black;\r\n            background: #eee;\r\n            background-image: linear-gradient(45deg,rgba(0,0,0,.25) 25%,transparent 0,transparent 75%,rgba(0,0,0,.25) 0),linear-gradient(45deg,rgba(0,0,0,.25) 25%,transparent 0,transparent 75%,rgba(0,0,0,.25) 0);\r\n            background-size: 16px 16px;\r\n            background-position: 0 0,24px 24px;\r\n        }\r\n\r\n        .area-cover{\r\n            position: absolute;\r\n            top: 0px;\r\n            width: 100%;\r\n            height: 100%;\r\n            // background-color: rgba($color: #000000, $alpha: 0.2);\r\n        }\r\n\r\n        img{\r\n            position: absolute;\r\n            width: 100%;\r\n            height: 100%;\r\n        }\r\n        \r\n    }\r\n\r\n    .dcc-footer{\r\n        margin-top: 15px;\r\n        width: 100%;\r\n        height: 50px;\r\n        border-top: 1px solid #cccccc;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        align-items:flex-end;\r\n\r\n        .dccf-left{\r\n            width: 260px;\r\n            align-items: center;\r\n        }\r\n\r\n        .dccf-right{\r\n            width: 140px;\r\n            display: flex;\r\n            justify-content: space-between;\r\n            align-items: center;\r\n        }\r\n    }\r\n    \r\n}\r\n</style>"],"sourceRoot":"src/views/components/titleTail"}]}