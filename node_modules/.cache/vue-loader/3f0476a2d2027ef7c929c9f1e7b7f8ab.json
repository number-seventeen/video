{"remainingRequest":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zbywjq/Desktop/cloudwork/VideoBatches/src/views/edit/Pagewater.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/src/views/edit/Pagewater.vue","mtime":1600406083805},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIGRhdGEoKXsKICAgICAgICByZXR1cm57CiAgICAgICAgICAgIGNob29zZWQ6MCwKICAgICAgICAgICAgdmxpc3Q6IiIsCiAgICAgICAgICAgIHZhcnI6W10sCiAgICAgICAgICAgIG51bWJlcnM6MCwKICAgICAgICAgICAgbmV3aW5kZXg6MCwKICAgICAgICAgICAgd2lsbFg6MCwKICAgICAgICAgICAgbjowLAogICAgICAgICAgICBkcmFnZ2luZzpudWxsLC8v6KKr5ouW5ou955qE5a+56LGhCiAgICAgICAgICAgIHRhcmdldDpudWxsLC8v55uu5qCH5a+56LGhCiAgICAgICAgICAgIGNjOjAsCiAgICAgICAgICAgIHRpbWVyOm51bGwsCgogICAgICAgIH0KICAgIH0sCiAgICBiZWZvcmVEZXN0cm95KCkgewogICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcik7ICAgICAgICAKICAgICAgICB0aGlzLnRpbWVyID0gbnVsbDsKICAgIH0sCiAgICBtb3VudGVkKCl7CiAgICAgICAgdGhpcy5jdXJTZWxlY3RzID0gdGhpcy4kc3RvcmUuc3RhdGUuYXBwU3RvcmUuY3VyU2VsZWN0czsKICAgICAgICBmb3IgKHRoaXMuY2hvb3NlZCA9IDA7IHRoaXMuY2hvb3NlZCA8IHRoaXMuY3VyU2VsZWN0cy5sZW5ndGg7IHRoaXMuY2hvb3NlZCsrKSB7CiAgICAgICAgICAgICB0aGlzLnZsaXN0PXRoaXMuY3VyU2VsZWN0c1t0aGlzLmNob29zZWRdLnByZVVybAogICAgICAgICAgICAvLyAgdGhpcy50aW1lcz10aGlzLmN1clNlbGVjdHNbdGhpcy5jaG9vc2VkXS5kdXJhdGlvbgogICAgICAgICAgICAvLyAgdGhpcy52dnRpbWVzPXRoaXMuc2VjVG90aW1lKHRoaXMudGltZXMvMTAwMCkgCiAgICAgICAgICAgIC8vICB0aGlzLnRpdGllPXRoaXMuY3VyU2VsZWN0c1t0aGlzLmNob29zZWRdLnRpdGxlCiAgICAgICAgICAgICB0aGlzLnZhcnIucHVzaCh7dXJsOnRoaXMudmxpc3QsaWQ6dGhpcy5jaG9vc2VkfSkKICAgICAgICAgICAgICAgICAgICAKICAgICAgICB9CiAgICB9LAogICAgCiAgICBtZXRob2RzOnsKICAgICAgICBoYW5kbGVEcmFnU3RhcnQoZSxpbmRleCx2KXsKICAgICAgICAgICAgdGhpcy5kcmFnZ2luZyA9IHY7CiAgICAgICAgICAgIAogICAgICAgIH0sCiAgICAgICAgaGFuZGxlRHJhZ0VuZChlLGluZGV4LHYpewogICAgICAgICAgICB0aGlzLmRyYWdnaW5nLmlkPXRoaXMuY2MKICAgICAgICAgICAgdGhpcy5kcmFnZ2luZyA9IG51bGwKICAgICAgICB9LAogICAgICAgIGhhbmRsZURyYWdPdmVyKGUpIHsKICAgICAgICAgICAgZS5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdCA9ICdtb3ZlJy8vIGUuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3Q9Im1vdmUiOy8v5ZyoZHJhZ2VudGVy5Lit6ZKI5a+55pS+572u55uu5qCH5p2l6K6+572uIQogICAgICAgIH0sCiAgICAgICAgaGFuZGxlRHJhZ0VudGVyKGUsaW5kZXgsdil7CiAgICAgICAgICAgIGUuZGF0YVRyYW5zZmVyLmVmZmVjdEFsbG93ZWQgPSAibW92ZSIvL+S4uumcgOimgeenu+WKqOeahOWFg+e0oOiuvue9rmRyYWdzdGFydOS6i+S7tgogICAgICAgICAgICBpZih2ID09PSB0aGlzLmRyYWdnaW5nKXsKICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uc3QgbmV3SXRlbXMgPSBbLi4udGhpcy52YXJyXQogICAgICAgICAgICBjb25zdCBzcmMgPSBuZXdJdGVtcy5pbmRleE9mKHRoaXMuZHJhZ2dpbmcpLy/ooqvmi5bmi73lhYPntKAKICAgICAgICAgICAgY29uc3QgZHN0ID0gbmV3SXRlbXMuaW5kZXhPZih2KS8v5ouW5ou95pe257uP6L+H55qE5YWD57SgCiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCJkZGQiLGRzdCkKICAgICAgICAgICAgaWYoc3JjPGRzdCl7CiAgICAgICAgICAgICAgICB2LmlkPXYuaWQtMSAgIAogICAgICAgICAgICB9ICAgCiAgICAgICAgICAgIGVsc2UgaWYoc3JjPmRzdCl7CiAgICAgICAgICAgICAgICB2LmlkPXYuaWQrMQogICAgICAgICAgICB9CiAgICAgICAgICAgIHZhciBtPXRoaXMudmFyci5sZW5ndGgKICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgidmxpc3RzIilbbS0xXS5vZmZzZXRUb3ApCiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoInZsaXN0cyIpWzBdLm9mZnNldFRvcCkKICAgICAgICAgICAgdmFyIGRjPWRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoInNvcnQtYm94IilbMF0uY2xpZW50SGVpZ2h0LTExNQogICAgICAgICAgICAvLyBjb25zb2xlLmxvZygiZ3V5Z3kiLGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoInNvcnQtYm94IilbMF0uc2Nyb2xsSGVpZ2h0KQogICAgICAgICAgICBpZihkYy1lLmNsaWVudFk8PTEwKXsKICAgICAgICAgICAgICAgIHRoaXMudGltZXI9c2V0SW50ZXJ2YWwodGhpcy5tb3VzZW1vdmUoMSksNTAwKQogICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKSAgICAgCiAgICAgICAgICAgIH0KICAgICAgICAgIAogICAgICAgICAgICBlbHNlIGlmKGRjLWUuY2xpZW50WT4zNTApewogICAgICAgICAgICAgICAgdGhpcy50aW1lcj1zZXRJbnRlcnZhbCh0aGlzLm1vdXNlbW92ZSgtMSksNTAwKQogICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKSAgCiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5jYz1uZXdJdGVtcy5pbmRleE9mKHYpCiAgICAgICAgICAgIG5ld0l0ZW1zLnNwbGljZShkc3QsIDAsIC4uLm5ld0l0ZW1zLnNwbGljZShzcmMsIDEpKQogICAgICAgICAgICB0aGlzLm51bWJlcnM9aW5kZXgKICAgICAgICAgICAgdGhpcy52YXJyID0gbmV3SXRlbXMKICAgICAgICB9LAogICAgICAgIGNoYW5nZXNvcnQoaW5kZXgpewogICAgICAgICAgICB0aGlzLm51bWJlcnM9aW5kZXgKICAgICAgICAgICAKICAgICAgICB9LAogICAgICAgIG1vdXNlbW92ZShlKXsKICAgICAgICAgICAgaWYoZT09PTEpewogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgic29ydC1ib3giKVswXS5zY3JvbGxUb3A9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgic29ydC1ib3giKVswXS5zY3JvbGxUb3ArODAKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoInNvcnQtYm94IilbMF0ub25zY3JvbGw9ZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiaGFvIikKICAgICAgICAgICAgICAgIH0gCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSBpZihlPT09LTEpewogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgic29ydC1ib3giKVswXS5zY3JvbGxUb3A9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgic29ydC1ib3giKVswXS5zY3JvbGxUb3AtODAKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoInNvcnQtYm94IilbMF0ub25zY3JvbGw9ZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiaGFvYnVoYW8iKQogICAgICAgICAgICAgICAgfSAKICAgICAgICAgICAgfQogICAgICAgICAgIAogICAgICAgICAgICAKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgCgogICAgICAgCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCiAgICAgICAgCiAgICAgICAgCiAgICB9Cn0K"},{"version":3,"sources":["Pagewater.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAuBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA;AACA","file":"Pagewater.vue","sourceRoot":"src/views/edit","sourcesContent":["<template>\n  <div class=\"sort_vue\">\n      <div class=\"sorts\">\n        <div class=\"sort-box\" >\n            <div class=\"vlists\" :class=\"{'vchoose':numbers==index}\" v-for=\"(v,index) in varr\" :key=\"index\"  draggable=\"true\"\n                @dragstart=\"handleDragStart($event, index,v)\"\n                @dragover.prevent=\"handleDragOver($event, index,v)\"\n                @dragenter=\"handleDragEnter($event, index,v)\"\n                @dragend=\"handleDragEnd($event, index,v)\" \n                @mousedown=\"changesort(index)\">\n                <div class=\"biaohao\">{{v.id+1}}</div>\n                <video :src=\"v.url\"  class=\"choosens\" style=\"width: 155px;height: 100px; object-fit:fill; margin-top:2px; margin-left:2px;\" ></video> \n            </div>  \n        </div>\n        <div class=\"changesort\">\n            <div class=\"left-button\"><el-button size=\"medium\">返回</el-button></div><div class=\"right-button\"><el-button size=\"medium\">确定</el-button></div>\n        </div>\n      </div>\n\n  </div>\n</template>\n\n<script>\nexport default {\n    data(){\n        return{\n            choosed:0,\n            vlist:\"\",\n            varr:[],\n            numbers:0,\n            newindex:0,\n            willX:0,\n            n:0,\n            dragging:null,//被拖拽的对象\n            target:null,//目标对象\n            cc:0,\n            timer:null,\n\n        }\n    },\n    beforeDestroy() {\n        clearInterval(this.timer);        \n        this.timer = null;\n    },\n    mounted(){\n        this.curSelects = this.$store.state.appStore.curSelects;\n        for (this.choosed = 0; this.choosed < this.curSelects.length; this.choosed++) {\n             this.vlist=this.curSelects[this.choosed].preUrl\n            //  this.times=this.curSelects[this.choosed].duration\n            //  this.vvtimes=this.secTotime(this.times/1000) \n            //  this.titie=this.curSelects[this.choosed].title\n             this.varr.push({url:this.vlist,id:this.choosed})\n                    \n        }\n    },\n    \n    methods:{\n        handleDragStart(e,index,v){\n            this.dragging = v;\n            \n        },\n        handleDragEnd(e,index,v){\n            this.dragging.id=this.cc\n            this.dragging = null\n        },\n        handleDragOver(e) {\n            e.dataTransfer.dropEffect = 'move'// e.dataTransfer.dropEffect=\"move\";//在dragenter中针对放置目标来设置!\n        },\n        handleDragEnter(e,index,v){\n            e.dataTransfer.effectAllowed = \"move\"//为需要移动的元素设置dragstart事件\n            if(v === this.dragging){\n            return\n            }\n            const newItems = [...this.varr]\n            const src = newItems.indexOf(this.dragging)//被拖拽元素\n            const dst = newItems.indexOf(v)//拖拽时经过的元素\n            // console.log(\"ddd\",dst)\n            if(src<dst){\n                v.id=v.id-1   \n            }   \n            else if(src>dst){\n                v.id=v.id+1\n            }\n            var m=this.varr.length\n            // console.log(document.getElementsByClassName(\"vlists\")[m-1].offsetTop)\n            // console.log(document.getElementsByClassName(\"vlists\")[0].offsetTop)\n            var dc=document.getElementsByClassName(\"sort-box\")[0].clientHeight-115\n            // console.log(\"guygy\",document.getElementsByClassName(\"sort-box\")[0].scrollHeight)\n            if(dc-e.clientY<=10){\n                this.timer=setInterval(this.mousemove(1),500)\n                clearInterval(this.timer)     \n            }\n          \n            else if(dc-e.clientY>350){\n                this.timer=setInterval(this.mousemove(-1),500)\n                clearInterval(this.timer)  \n            }\n            this.cc=newItems.indexOf(v)\n            newItems.splice(dst, 0, ...newItems.splice(src, 1))\n            this.numbers=index\n            this.varr = newItems\n        },\n        changesort(index){\n            this.numbers=index\n           \n        },\n        mousemove(e){\n            if(e===1){\n                document.getElementsByClassName(\"sort-box\")[0].scrollTop=document.getElementsByClassName(\"sort-box\")[0].scrollTop+80\n                document.getElementsByClassName(\"sort-box\")[0].onscroll=function(){\n                    console.log(\"hao\")\n                } \n            }\n            else if(e===-1){\n                document.getElementsByClassName(\"sort-box\")[0].scrollTop=document.getElementsByClassName(\"sort-box\")[0].scrollTop-80\n                document.getElementsByClassName(\"sort-box\")[0].onscroll=function(){\n                    console.log(\"haobuhao\")\n                } \n            }\n           \n            \n        }\n        \n        \n\n       \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n        \n        \n    }\n}\n</script>\n\n<style lang=\"scss\" scoped src=\"../../sort.scss\">\n\n</style>"]}]}