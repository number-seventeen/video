{"remainingRequest":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zbywjq/Desktop/cloudwork/VideoBatches/src/views/source/PageSource.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/src/views/source/PageSource.vue","mtime":1596419580307},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBNYWluSGVhZGVyIGZyb20gJ0Avdmlld3MvY29tcG9uZW50cy9NYWluSGVhZGVyJzsKaW1wb3J0IEFtU291cmNlU2VsZWN0IGZyb20gJ2FtLXNvdXJjZS1zZWxlY3QnOwppbXBvcnQgKiBhcyBJbnRlcmZhY2UgZnJvbSAnLi4vLi4vc3RvcmUvaW50ZXJmYWNlVXJsLmpzJzsKaW1wb3J0ICogYXMgdHlwZXMgZnJvbSAnLi4vLi4vc3RvcmUvbXV0YXRpb25UeXBlcy5qcyc7CmltcG9ydCBnbG9iYWwgZnJvbSAnLi4vLi4vcGx1Z2lucy9nbG9iYWwnOwppbXBvcnQge21hcFN0YXRlLG1hcE11dGF0aW9uc30gZnJvbSAndnVleCc7CmV4cG9ydCBkZWZhdWx0IHsKICAgIGNvbXBvbmVudHM6e01haW5IZWFkZXIsQW1Tb3VyY2VTZWxlY3R9LAogICAgcHJvcHM6ewogICAgICAgIC8vIGhhc0JhY2s6ewogICAgICAgIC8vICAgICB0eXBlOkJvb2xlYW4sCiAgICAgICAgLy8gICAgIGRlZmF1bHQ6IGZhbHNlCiAgICAgICAgLy8gfSwKICAgICAgICAvLyB0aXRsZTp7CiAgICAgICAgLy8gICAgIHR5cGU6U3RyaW5nLAogICAgICAgIC8vICAgICBkZWZhdWx0OicnCiAgICAgICAgLy8gfQogICAgfSwKICAgIGRhdGEoKXsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBlbmFibGVkVHlwZTondmlkZW8nLAogICAgICAgICAgICBlbmFibGVkQ2hlY2tCb3g6dHJ1ZSwKICAgICAgICB9CiAgICB9LAogICAgY3JlYXRlZCgpewogICAgICAgIGxldCBjb25maWcgPSB0aGlzLiRzdG9yZS5zdGF0ZS5hcHBTdG9yZS5jb25maWc7CiAgICAgICAgY29uc29sZS5sb2coJ2NvbmZpZycsY29uZmlnKQogICAgfSwKICAgIG1ldGhvZHM6ewogICAgICAgIC4uLm1hcE11dGF0aW9ucyh7CgkJCXNldEN1cnJlbnRNZWRpYTogdHlwZXMuU0VUX0NVUlJFTlRfTUVESUEsCgkJfSksCiAgICAgICAgc2VsZWN0ZWRIYW5kbGVyKCl7CiAgICAgICAgICAgIGNvbnN0IGFyciA9IHRoaXMuJHJlZnMuc291cmNlU2VsZWN0LmdldFNlbGVjdFNvdXJjZSgpOwogICAgICAgICAgICBpZihhcnIubGVuZ3RoID4gMCl7CiAgICAgICAgICAgICAgICBsZXQgbWVkaWEgPSBhcnJbMF07CiAgICAgICAgICAgICAgICB0aGlzLnNldEN1cnJlbnRNZWRpYShtZWRpYSk7CiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7bmFtZTonZWRpdCcscXVlcnk6Z2xvYmFsLnBhcmFtc30pOwogICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+ivt+WFiOmAieaLqeinhumikScKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBmbHVzaExpc3RIYW5kbGVyKHBhcmFtcyl7CiAgICAgICAgICAgIC8vIC9zdmlwL3Jlc291cmNlcy9vdXRlci1yZXNvdXJjZXMKICAgICAgICAgICAgY29uc29sZS5sb2coJ2ZsdXNoTGlzdEhhbmRsZXInLHBhcmFtcykKCQkJd2luZG93LmF4aW9zLnBvc3QoSW50ZXJmYWNlLmdldE1lZGlhTGlzdCtnbG9iYWwuc2VhcmNoLHBhcmFtcykKCQkJLnRoZW4oKGRhdGEpPT57CgkJCQkvLyBjb25zb2xlLmxvZygnZGF0YScsZGF0YSkKICAgICAgICAgICAgICAgIC8vIHRoaXMucmV0dXJuRGF0YSA9IGRhdGE7CiAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLnNvdXJjZVNlbGVjdC5zZXRSZXR1cm5EYXRhKGRhdGEucmV0dXJuRGF0YSk7CgkJCX0pLmNhdGNoKCAoKT0+ewoKCQkJfSkKICAgICAgICB9LAogICAgfQp9Cg=="},{"version":3,"sources":["PageSource.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAqBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"PageSource.vue","sourceRoot":"src/views/source","sourcesContent":["<template>\n    <div class=\"page-source\">\n        <MainHeader :hasBack=\"false\" title=\"海报视频模板\" :hasTaskBtn=\"false\" :hasHelpBtn=\"false\">\n            <div class=\"edit-top-btns\">\n                <el-button type=\"primary\" size=\"small\" @click=\"selectedHandler\">选用</el-button>\n            </div>\n        </MainHeader>\n        <div class=\"page-content\">\n            <div class=\"page-source-list\">\n                <AmSourceSelect \n                ref=\"sourceSelect\"\n                :enabledType=\"enabledType\"\n                :enabledCheckBox=\"enabledCheckBox\"\n                :propPageSize=\"60\"\n                @flushList=\"flushListHandler\"/>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport MainHeader from '@/views/components/MainHeader';\nimport AmSourceSelect from 'am-source-select';\nimport * as Interface from '../../store/interfaceUrl.js';\nimport * as types from '../../store/mutationTypes.js';\nimport global from '../../plugins/global';\nimport {mapState,mapMutations} from 'vuex';\nexport default {\n    components:{MainHeader,AmSourceSelect},\n    props:{\n        // hasBack:{\n        //     type:Boolean,\n        //     default: false\n        // },\n        // title:{\n        //     type:String,\n        //     default:''\n        // }\n    },\n    data(){\n        return {\n            enabledType:'video',\n            enabledCheckBox:true,\n        }\n    },\n    created(){\n        let config = this.$store.state.appStore.config;\n        console.log('config',config)\n    },\n    methods:{\n        ...mapMutations({\n\t\t\tsetCurrentMedia: types.SET_CURRENT_MEDIA,\n\t\t}),\n        selectedHandler(){\n            const arr = this.$refs.sourceSelect.getSelectSource();\n            if(arr.length > 0){\n                let media = arr[0];\n                this.setCurrentMedia(media);\n                this.$router.push({name:'edit',query:global.params});\n            }else{\n                this.$message({\n                    type: 'error',\n                    message: '请先选择视频'\n                });\n            }\n        },\n        flushListHandler(params){\n            // /svip/resources/outer-resources\n            console.log('flushListHandler',params)\n\t\t\twindow.axios.post(Interface.getMediaList+global.search,params)\n\t\t\t.then((data)=>{\n\t\t\t\t// console.log('data',data)\n                // this.returnData = data;\n                this.$refs.sourceSelect.setReturnData(data.returnData);\n\t\t\t}).catch( ()=>{\n\n\t\t\t})\n        },\n    }\n}\n</script>\n\n\n<style lang=\"scss\" scoped>\n.page-source{\n    width: 100%;\n    height: 100%;\n    background-color: #f5f5f5;\n\n    .edit-top-btns{\n        width: 100%;\n        height: 100%;\n        display: flex;\n        align-items: center;\n        justify-content: flex-end;\n    }\n    \n    .page-content{\n        width: 100%;\n        height: calc(100% - 50px);\n        padding: 15px;\n\n        .page-source-list{\n            width: 100%;\n            height: 100%;\n            background: #ffffff;\n        }\n    }\n}\n</style>"]}]}