{"remainingRequest":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zbywjq/Desktop/cloudwork/VideoBatches/src/views/components/MyDefTool.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/src/views/components/MyDefTool.vue","mtime":1596418914803},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6J215ZGVmLXRvb2wnLAogICAgcHJvcHM6ewogICAgICAgIHNjYWxlV0g6ewogICAgICAgICAgICB0eXBlOlN0cmluZywKICAgICAgICAgICAgZGVmYXVsdDonMDowJwogICAgICAgIH0sCiAgICAgICAgdXNlQ3RybFNjYWxlOnsKICAgICAgICAgICAgdHlwZTpCb29sZWFuLAogICAgICAgICAgICBkZWZhdWx0OmZhbHNlCiAgICAgICAgfSwKICAgICAgICBtaW5MaW1pdFdIOnsKICAgICAgICAgICAgdHlwZTpTdHJpbmcsCiAgICAgICAgICAgIGRlZmF1bHQ6JzE2OjE2JwogICAgICAgIH0sCiAgICAgICAgbWluTGltaXRTY2FsZTp7CiAgICAgICAgICAgIHR5cGU6TnVtYmVyLAogICAgICAgICAgICBkZWZhdWx0OjAKICAgICAgICB9CiAgICB9LAogICAgZGF0YSAoKXsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBsaW1pdFBvczp7CiAgICAgICAgICAgICAgICB4OjAsCiAgICAgICAgICAgICAgICB5OjAsCiAgICAgICAgICAgICAgICB3OjAsCiAgICAgICAgICAgICAgICBoOjAKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZGVmUG9zOnsKICAgICAgICAgICAgICAgIHg6MCwKICAgICAgICAgICAgICAgIHk6MCwKICAgICAgICAgICAgICAgIHc6MCwKICAgICAgICAgICAgICAgIGg6MAogICAgICAgICAgICB9LAogICAgICAgICAgICBzY2FsZVBvczp7CiAgICAgICAgICAgICAgICB4OjAsCiAgICAgICAgICAgICAgICB5OjAsCiAgICAgICAgICAgICAgICB3OjEsCiAgICAgICAgICAgICAgICBoOjEKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc2NhbGVXOjAsCiAgICAgICAgICAgIHNjYWxlSDowLAogICAgICAgICAgICBtaW5MaW1pdFc6MTYsCiAgICAgICAgICAgIG1pbkxpbWl0SDoxNiwKICAgICAgICAgICAgY3RybEtleTpmYWxzZSwKICAgICAgICB9CiAgICB9LAogICAgY29tcHV0ZWQ6ewogICAgICAgIGJvcmRlckxlZnQoKXsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVmUG9zLngrJ3B4JzsKICAgICAgICB9LAogICAgICAgIGJvcmRlclJpZ2h0KCl7CiAgICAgICAgICAgIHJldHVybiAodGhpcy5saW1pdFBvcy53LXRoaXMuZGVmUG9zLnctdGhpcy5kZWZQb3MueCkrJ3B4JzsKICAgICAgICB9LAogICAgICAgIGJvcmRlclRvcCgpewogICAgICAgICAgICByZXR1cm4gdGhpcy5kZWZQb3MueSsncHgnOwogICAgICAgIH0sCiAgICAgICAgYm9yZGVyQm90dG9tKCl7CiAgICAgICAgICAgIHJldHVybiAodGhpcy5saW1pdFBvcy5oLXRoaXMuZGVmUG9zLmgtdGhpcy5kZWZQb3MueSkrJ3B4JzsKICAgICAgICB9CiAgICB9LAogICAgd2F0Y2g6ewogICAgICAgIG1pbkxpbWl0V0g6ewogICAgICAgICAgICBkZWVwOnRydWUsCiAgICAgICAgICAgIGhhbmRsZXIobmV3VmFsKXsKICAgICAgICAgICAgICAgIGxldCBhcnIgPSBuZXdWYWwuc3BsaXQoJzonKTsKICAgICAgICAgICAgICAgIHRoaXMubWluTGltaXRXID0gcGFyc2VJbnQoYXJyWzBdKTsKICAgICAgICAgICAgICAgIHRoaXMubWluTGltaXRIID0gcGFyc2VJbnQoYXJyWzFdKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0sCiAgICBjcmVhdGVkKCl7CiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsdGhpcy5rZXlkb3duSGFuZGxlcik7CiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLHRoaXMua2V5ZG93bkhhbmRsZXIpOwogICAgfSwKICAgIGRlc3Ryb3llZCgpewogICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLHRoaXMua2V5ZG93bkhhbmRsZXIpOwogICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJyx0aGlzLmtleWRvd25IYW5kbGVyKTsKICAgIH0sCiAgICBtb3VudGVkKCl7CiAgICAgICAgdGhpcy5saW1pdFBvcy53ID0gdGhpcy4kZWwub2Zmc2V0V2lkdGg7CiAgICAgICAgdGhpcy5saW1pdFBvcy5oID0gdGhpcy4kZWwub2Zmc2V0SGVpZ2h0OwogICAgICAgIGlmKHRoaXMubWluTGltaXRTY2FsZSA+IDApewogICAgICAgICAgICB0aGlzLm1pbkxpbWl0VyA9IHRoaXMubWluTGltaXRTY2FsZSAqIHRoaXMubGltaXRQb3MudzsKICAgICAgICAgICAgdGhpcy5taW5MaW1pdEggPSB0aGlzLm1pbkxpbWl0U2NhbGUgKiB0aGlzLmxpbWl0UG9zLmg7CiAgICAgICAgfQoKICAgICAgICB0aGlzLmRlZlBvcyA9IE9iamVjdC5hc3NpZ24odGhpcy5kZWZQb3MsdGhpcy5saW1pdFBvcyk7CiAgICAgICAgY29uc3QgcmVzaXplT2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIodGhpcy5yZXNpemVDaGFuZ2VXSCk7CiAgICAgICAgcmVzaXplT2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLiRlbCk7CiAgICB9LAogICAgbWV0aG9kczp7CiAgICAgICAgcmVzaXplQ2hhbmdlV0goZW50cmllcyl7CgkJCS8vIGNvbnNvbGUubG9nKGVudHJpZXMpCiAgICAgICAgICAgIGZvciAobGV0IGVudHJ5IG9mIGVudHJpZXMpIHsKICAgICAgICAgICAgICAgIGlmKGVudHJ5LnRhcmdldCA9PSB0aGlzLiRlbCl7CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgdGhpcy5saW1pdFBvcy53ID0gZW50cnkuY29udGVudFJlY3Qud2lkdGg7Ly90aGlzLiRlbC5vZmZzZXRXaWR0aDsKICAgICAgICAgICAgICAgICAgICB0aGlzLmxpbWl0UG9zLmggPSBlbnRyeS5jb250ZW50UmVjdC5oZWlnaHQ7Ly90aGlzLiRlbC5vZmZzZXRIZWlnaHQ7CgogICAgICAgICAgICAgICAgICAgIHRoaXMuZGVmUG9zLnggPSB0aGlzLnNjYWxlUG9zLnggKiB0aGlzLmxpbWl0UG9zLnc7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWZQb3MueSA9IHRoaXMuc2NhbGVQb3MueSAqIHRoaXMubGltaXRQb3MuaDsKICAgICAgICAgICAgICAgICAgICB0aGlzLmRlZlBvcy53ID0gdGhpcy5zY2FsZVBvcy53ICogdGhpcy5saW1pdFBvcy53OwogICAgICAgICAgICAgICAgICAgIHRoaXMuZGVmUG9zLmggPSB0aGlzLnNjYWxlUG9zLmggKiB0aGlzLmxpbWl0UG9zLmg7CgogICAgICAgICAgICAgICAgICAgIGlmKHRoaXMubWluTGltaXRTY2FsZSA+IDApewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1pbkxpbWl0VyA9IHRoaXMubWluTGltaXRTY2FsZSAqIHRoaXMubGltaXRQb3MudzsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5taW5MaW1pdEggPSB0aGlzLm1pbkxpbWl0U2NhbGUgKiB0aGlzLmxpbWl0UG9zLmg7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBidG5zTW91c2VEb3duSGFuZGxlcihldmVudCkgewogICAgICAgICAgICBsZXQgZSA9IGV2ZW50ID8gZXZlbnQgOiB3aW5kb3cuZXZlbnQ7CiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKCiAgICAgICAgICAgIGxldCBzZWxmID0gdGhpczsKICAgICAgICAgICAgbGV0IG1vdmVUeXBlID0gcGFyc2VJbnQoZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdtb3ZldHlwZScpKTsvLzDkuLrnp7vliqgKICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ21vdmVUeXBlJyxtb3ZlVHlwZSkKICAgICAgICAgICAgbGV0IG1vdXNlWCA9IGUuY2xpZW50WCxtb3VzZVkgPSBlLmNsaWVudFk7CiAgICAgICAgICAgIGxldCBiZWZvcmVQb3MgPSBPYmplY3QuYXNzaWduKHt9LHNlbGYuZGVmUG9zKTsKCiAgICAgICAgICAgIGxldCBhcnIgPSB0aGlzLnNjYWxlV0guc3BsaXQoJzonKTsKICAgICAgICAgICAgbGV0IHNjYWxlVyA9IHBhcnNlSW50KGFyclswXSk7CiAgICAgICAgICAgIGxldCBzY2FsZUggPSBwYXJzZUludChhcnJbMV0pOwogICAgICAgICAgICAKICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJyxtb3VzZW1vdmVIYW5kbGVyKTsKICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsbW91c2V1cEhhbmRsZXIpOwoKCiAgICAgICAgICAgIGZ1bmN0aW9uIG1vdXNlbW92ZUhhbmRsZXIoZXZlbnQpewogICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgICAgIGlmKHNlbGYudXNlQ3RybFNjYWxlKXsKICAgICAgICAgICAgICAgICAgICBpZihzZWxmLmN0cmxLZXkpewogICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnNjYWxlVyA9IHNjYWxlVzsKICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zY2FsZUggPSBzY2FsZUg7CiAgICAgICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc2NhbGVXID0gMDsKICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zY2FsZUggPSAwOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgIHNlbGYuc2NhbGVXID0gc2NhbGVXOwogICAgICAgICAgICAgICAgICAgIHNlbGYuc2NhbGVIID0gc2NhbGVIOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgc2VsZi5jb21wdXRlclBvcyhtb3ZlVHlwZSxiZWZvcmVQb3MsZXZlbnQuY2xpZW50WC1tb3VzZVgsZXZlbnQuY2xpZW50WS1tb3VzZVkpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBtb3VzZXVwSGFuZGxlcihldmVudCl7CiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwoKICAgICAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsbW91c2Vtb3ZlSGFuZGxlcik7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJyxtb3VzZXVwSGFuZGxlcik7CgoKICAgICAgICAgICAgfQogICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhlLnRhcmdldC5jbGFzc0xpc3QsZS50YXJnZXQgPT09IGJ0bkxULG1vdmVUeXBlKQogICAgICAgIH0sCiAgICAgICAgLyoqCiAgICAgICAgICog6K6h566X5pyA57uI5L2N572uCiAgICAgICAgICovCiAgICAgICAgY29tcHV0ZXJQb3MgKG1vdmVUeXBlLGJlZm9yZVBvcyxkaWZmWCxkaWZmWSl7CiAgICAgICAgICAgIGNvbnN0IGN1clBvcyA9IHsKICAgICAgICAgICAgICAgIHg6MCwKICAgICAgICAgICAgICAgIHk6MCwKICAgICAgICAgICAgICAgIHc6MCwKICAgICAgICAgICAgICAgIGg6MAogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICBjb25zdCByZWN0UG9zID0gewogICAgICAgICAgICAgICAgY2VudGVyeDogMCwKICAgICAgICAgICAgICAgIGNlbnRlcnk6IDAsCiAgICAgICAgICAgICAgICBjdXJ4OiAwLAogICAgICAgICAgICAgICAgY3VyeTogMAogICAgICAgICAgICB9CiAgICAgICAgICAgIC8v5LuF56e75YqoCiAgICAgICAgICAgIGlmKG1vdmVUeXBlID09PSAwKXsKICAgICAgICAgICAgICAgIGN1clBvcy54ID0gTWF0aC5tYXgoYmVmb3JlUG9zLnggKyBkaWZmWCwwKTsKICAgICAgICAgICAgICAgIGN1clBvcy54ID0gTWF0aC5taW4odGhpcy5saW1pdFBvcy53IC0gYmVmb3JlUG9zLncsY3VyUG9zLngpOwogICAgICAgICAgICAgICAgY3VyUG9zLnkgPSBNYXRoLm1heChiZWZvcmVQb3MueSArIGRpZmZZLDApOwogICAgICAgICAgICAgICAgY3VyUG9zLnkgPSBNYXRoLm1pbih0aGlzLmxpbWl0UG9zLmggLSBiZWZvcmVQb3MuaCxjdXJQb3MueSk7CiAgICAgICAgICAgICAgICBjdXJQb3MudyA9IGJlZm9yZVBvcy53OwogICAgICAgICAgICAgICAgY3VyUG9zLmggPSBiZWZvcmVQb3MuaDsKICAgICAgICAgICAgfQogICAgICAgICAgICAvL+W3puS4igogICAgICAgICAgICBlbHNlIGlmKG1vdmVUeXBlID09PSAxKXsKICAgICAgICAgICAgICAgIHJlY3RQb3MuY2VudGVyeCA9IGJlZm9yZVBvcy54ICsgYmVmb3JlUG9zLnc7CiAgICAgICAgICAgICAgICByZWN0UG9zLmNlbnRlcnkgPSBiZWZvcmVQb3MueSArIGJlZm9yZVBvcy5oOwogICAgICAgICAgICAgICAgcmVjdFBvcy5jdXJ4ID0gYmVmb3JlUG9zLnggKyBkaWZmWDsKICAgICAgICAgICAgICAgIHJlY3RQb3MuY3VyeSA9IGJlZm9yZVBvcy55ICsgZGlmZlk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGxldCBtaW5XID0gdGhpcy5taW5MaW1pdFc7CiAgICAgICAgICAgICAgICBsZXQgbWluSCA9IHRoaXMubWluTGltaXRIOwogICAgICAgICAgICAgICAgY3VyUG9zLncgPSBNYXRoLm1pbihyZWN0UG9zLmNlbnRlcnggLSByZWN0UG9zLmN1cngscmVjdFBvcy5jZW50ZXJ4KTsKICAgICAgICAgICAgICAgIGN1clBvcy53ID0gTWF0aC5tYXgoY3VyUG9zLncsbWluVyk7CiAgICAgICAgICAgICAgICBjdXJQb3MuaCA9IE1hdGgubWluKHJlY3RQb3MuY2VudGVyeSAtIHJlY3RQb3MuY3VyeSxyZWN0UG9zLmNlbnRlcnkpOwogICAgICAgICAgICAgICAgY3VyUG9zLmggPSBNYXRoLm1heChjdXJQb3MuaCxtaW5IKTsKICAgICAgICAgICAgICAgIGlmKHRoaXMuc2NhbGVXID4gMCAmJiB0aGlzLnNjYWxlSCA+IDApewogICAgICAgICAgICAgICAgICAgIG1pblcgPSBtaW5IICogdGhpcy5zY2FsZVcvdGhpcy5zY2FsZUg7CiAgICAgICAgICAgICAgICAgICAgY3VyUG9zLncgPSBNYXRoLm1heChjdXJQb3MudyxtaW5XKTsKICAgICAgICAgICAgICAgICAgICBjdXJQb3MudyA9IE1hdGgubWluKChyZWN0UG9zLmNlbnRlcnkpICogdGhpcy5zY2FsZVcvdGhpcy5zY2FsZUgsY3VyUG9zLncpOwogICAgICAgICAgICAgICAgICAgIGN1clBvcy5oID0gY3VyUG9zLncgKiB0aGlzLnNjYWxlSC90aGlzLnNjYWxlVzsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjdXJQb3MueCA9IHJlY3RQb3MuY2VudGVyeCAtIGN1clBvcy53OwogICAgICAgICAgICAgICAgY3VyUG9zLnkgPSByZWN0UG9zLmNlbnRlcnkgLSBjdXJQb3MuaDsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICB9CiAgICAgICAgICAgIC8v5bem5LitCiAgICAgICAgICAgIGVsc2UgaWYobW92ZVR5cGUgPT09IDIpewogICAgICAgICAgICAgICAgcmVjdFBvcy5jZW50ZXJ4ID0gYmVmb3JlUG9zLnggKyBiZWZvcmVQb3MudzsKICAgICAgICAgICAgICAgIC8vIHJlY3RQb3MuY2VudGVyeSA9IGJlZm9yZVBvcy55ICsgYmVmb3JlUG9zLmgvMjsKICAgICAgICAgICAgICAgIHJlY3RQb3MuY3VyeCA9IGJlZm9yZVBvcy54ICsgZGlmZlg7CiAgICAgICAgICAgICAgICAvLyByZWN0UG9zLmN1cnkgPSBiZWZvcmVQb3MueSArIGRpZmZZOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBsZXQgbWluVyA9IHRoaXMubWluTGltaXRXOwogICAgICAgICAgICAgICAgbGV0IG1pbkggPSB0aGlzLm1pbkxpbWl0SDsKICAgICAgICAgICAgICAgIGN1clBvcy53ID0gTWF0aC5taW4ocmVjdFBvcy5jZW50ZXJ4IC0gcmVjdFBvcy5jdXJ4LHJlY3RQb3MuY2VudGVyeCk7CiAgICAgICAgICAgICAgICBjdXJQb3MudyA9IE1hdGgubWF4KGN1clBvcy53LG1pblcpOwogICAgICAgICAgICAgICAgY3VyUG9zLmggPSBiZWZvcmVQb3MuaDsKICAgICAgICAgICAgICAgIGlmKHRoaXMuc2NhbGVXID4gMCAmJiB0aGlzLnNjYWxlSCA+IDApewogICAgICAgICAgICAgICAgICAgIG1pblcgPSBtaW5IICogdGhpcy5zY2FsZVcvdGhpcy5zY2FsZUg7CiAgICAgICAgICAgICAgICAgICAgY3VyUG9zLncgPSBNYXRoLm1heChjdXJQb3MudyxtaW5XKTsKICAgICAgICAgICAgICAgICAgICBjdXJQb3MudyA9IE1hdGgubWluKCh0aGlzLmxpbWl0UG9zLmggLSBiZWZvcmVQb3MueSkgKiB0aGlzLnNjYWxlVy90aGlzLnNjYWxlSCxjdXJQb3Mudyk7CiAgICAgICAgICAgICAgICAgICAgY3VyUG9zLmggPSBjdXJQb3MudyAqIHRoaXMuc2NhbGVIL3RoaXMuc2NhbGVXOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGN1clBvcy54ID0gcmVjdFBvcy5jZW50ZXJ4IC0gY3VyUG9zLnc7CiAgICAgICAgICAgICAgICBjdXJQb3MueSA9IGJlZm9yZVBvcy55OwogICAgICAgICAgICB9CiAgICAgICAgICAgIC8v5bem5LiLCiAgICAgICAgICAgIGVsc2UgaWYobW92ZVR5cGUgPT09IDMpewogICAgICAgICAgICAgICAgcmVjdFBvcy5jZW50ZXJ4ID0gYmVmb3JlUG9zLnggKyBiZWZvcmVQb3MudzsKICAgICAgICAgICAgICAgIHJlY3RQb3MuY2VudGVyeSA9IGJlZm9yZVBvcy55OwogICAgICAgICAgICAgICAgcmVjdFBvcy5jdXJ4ID0gYmVmb3JlUG9zLnggKyBkaWZmWDsKICAgICAgICAgICAgICAgIHJlY3RQb3MuY3VyeSA9IGJlZm9yZVBvcy55ICsgYmVmb3JlUG9zLmggKyBkaWZmWTsKCiAgICAgICAgICAgICAgICBsZXQgbWluVyA9IHRoaXMubWluTGltaXRXOwogICAgICAgICAgICAgICAgbGV0IG1pbkggPSB0aGlzLm1pbkxpbWl0SDsKICAgICAgICAgICAgICAgIGN1clBvcy53ID0gTWF0aC5taW4ocmVjdFBvcy5jZW50ZXJ4IC0gcmVjdFBvcy5jdXJ4LHJlY3RQb3MuY2VudGVyeCk7CiAgICAgICAgICAgICAgICBjdXJQb3MudyA9IE1hdGgubWF4KGN1clBvcy53LG1pblcpOwogICAgICAgICAgICAgICAgY3VyUG9zLmggPSBNYXRoLm1pbihyZWN0UG9zLmN1cnkgLSByZWN0UG9zLmNlbnRlcnksdGhpcy5saW1pdFBvcy5oIC0gcmVjdFBvcy5jZW50ZXJ5KTsKICAgICAgICAgICAgICAgIGN1clBvcy5oID0gTWF0aC5tYXgoY3VyUG9zLmgsbWluSCk7CiAgICAgICAgICAgICAgICBpZih0aGlzLnNjYWxlVyA+IDAgJiYgdGhpcy5zY2FsZUggPiAwKXsKICAgICAgICAgICAgICAgICAgICBtaW5XID0gbWluSCAqIHRoaXMuc2NhbGVXL3RoaXMuc2NhbGVIOwogICAgICAgICAgICAgICAgICAgIGN1clBvcy53ID0gTWF0aC5tYXgoY3VyUG9zLncsbWluVyk7CiAgICAgICAgICAgICAgICAgICAgY3VyUG9zLncgPSBNYXRoLm1pbigodGhpcy5saW1pdFBvcy5oIC0gcmVjdFBvcy5jZW50ZXJ5KSAqIHRoaXMuc2NhbGVXL3RoaXMuc2NhbGVILGN1clBvcy53KTsKICAgICAgICAgICAgICAgICAgICBjdXJQb3MuaCA9IGN1clBvcy53ICogdGhpcy5zY2FsZUgvdGhpcy5zY2FsZVc7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgY3VyUG9zLnggPSByZWN0UG9zLmNlbnRlcnggLSBjdXJQb3MudzsKICAgICAgICAgICAgICAgIGN1clBvcy55ID0gcmVjdFBvcy5jZW50ZXJ5OwogICAgICAgICAgICB9CiAgICAgICAgICAgIC8v5Lit5LiKCiAgICAgICAgICAgIGVsc2UgaWYobW92ZVR5cGUgPT09IDQpewogICAgICAgICAgICAgICAgcmVjdFBvcy5jZW50ZXJ5ID0gYmVmb3JlUG9zLnkgKyBiZWZvcmVQb3MuaDsKICAgICAgICAgICAgICAgIHJlY3RQb3MuY3VyeSA9IGJlZm9yZVBvcy55ICsgZGlmZlk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGxldCBtaW5XID0gdGhpcy5taW5MaW1pdFc7CiAgICAgICAgICAgICAgICBsZXQgbWluSCA9IHRoaXMubWluTGltaXRIOwogICAgICAgICAgICAgICAgY3VyUG9zLmggPSBNYXRoLm1pbihyZWN0UG9zLmNlbnRlcnkgLSByZWN0UG9zLmN1cnkscmVjdFBvcy5jZW50ZXJ5KTsKICAgICAgICAgICAgICAgIGN1clBvcy5oID0gTWF0aC5tYXgoY3VyUG9zLmgsbWluSCk7CiAgICAgICAgICAgICAgICBjdXJQb3MudyA9IGJlZm9yZVBvcy53OwogICAgICAgICAgICAgICAgaWYodGhpcy5zY2FsZVcgPiAwICYmIHRoaXMuc2NhbGVIID4gMCl7CiAgICAgICAgICAgICAgICAgICAgbWluSCA9IG1pbkggKiB0aGlzLnNjYWxlSC90aGlzLnNjYWxlVzsKICAgICAgICAgICAgICAgICAgICBjdXJQb3MuaCA9IE1hdGgubWF4KGN1clBvcy5oLG1pbkgpOwogICAgICAgICAgICAgICAgICAgIGN1clBvcy5oID0gTWF0aC5taW4oICh0aGlzLmxpbWl0UG9zLncgLSBiZWZvcmVQb3MueCkgKiB0aGlzLnNjYWxlSC90aGlzLnNjYWxlVyxjdXJQb3MuaCk7CiAgICAgICAgICAgICAgICAgICAgY3VyUG9zLncgPSBjdXJQb3MuaCAqIHRoaXMuc2NhbGVXL3RoaXMuc2NhbGVIOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGN1clBvcy54ID0gYmVmb3JlUG9zLng7CiAgICAgICAgICAgICAgICBjdXJQb3MueSA9IHJlY3RQb3MuY2VudGVyeSAtIGN1clBvcy5oOwogICAgICAgICAgICB9CiAgICAgICAgICAgIC8v5Lit5LiLCiAgICAgICAgICAgIGVsc2UgaWYobW92ZVR5cGUgPT09IDUpewogICAgICAgICAgICAgICAgcmVjdFBvcy5jZW50ZXJ5ID0gYmVmb3JlUG9zLnk7CiAgICAgICAgICAgICAgICByZWN0UG9zLmN1cnkgPSBiZWZvcmVQb3MueSAgKyBiZWZvcmVQb3MuaCArIGRpZmZZOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBsZXQgbWluVyA9IHRoaXMubWluTGltaXRXOwogICAgICAgICAgICAgICAgbGV0IG1pbkggPSB0aGlzLm1pbkxpbWl0SDsKICAgICAgICAgICAgICAgIGN1clBvcy5oID0gTWF0aC5taW4ocmVjdFBvcy5jdXJ5IC0gcmVjdFBvcy5jZW50ZXJ5LHRoaXMubGltaXRQb3MuaCAtIHJlY3RQb3MuY2VudGVyeSk7CiAgICAgICAgICAgICAgICBjdXJQb3MuaCA9IE1hdGgubWF4KGN1clBvcy5oLG1pbkgpOwogICAgICAgICAgICAgICAgY3VyUG9zLncgPSBiZWZvcmVQb3MudzsKICAgICAgICAgICAgICAgIGlmKHRoaXMuc2NhbGVXID4gMCAmJiB0aGlzLnNjYWxlSCA+IDApewogICAgICAgICAgICAgICAgICAgIG1pbkggPSBtaW5IICogdGhpcy5zY2FsZUgvdGhpcy5zY2FsZVc7CiAgICAgICAgICAgICAgICAgICAgY3VyUG9zLmggPSBNYXRoLm1heChjdXJQb3MuaCxtaW5IKTsKICAgICAgICAgICAgICAgICAgICBjdXJQb3MuaCA9IE1hdGgubWluKCAodGhpcy5saW1pdFBvcy53IC0gYmVmb3JlUG9zLngpICogdGhpcy5zY2FsZUgvdGhpcy5zY2FsZVcsY3VyUG9zLmgpOwogICAgICAgICAgICAgICAgICAgIGN1clBvcy53ID0gY3VyUG9zLmggKiB0aGlzLnNjYWxlVy90aGlzLnNjYWxlSDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjdXJQb3MueCA9IGJlZm9yZVBvcy54OwogICAgICAgICAgICAgICAgY3VyUG9zLnkgPSBiZWZvcmVQb3MueTsKICAgICAgICAgICAgfQogICAgICAgICAgICAvL+WPs+S4igogICAgICAgICAgICBlbHNlIGlmKG1vdmVUeXBlID09PSA2KXsKICAgICAgICAgICAgICAgIHJlY3RQb3MuY2VudGVyeCA9IGJlZm9yZVBvcy54OwogICAgICAgICAgICAgICAgcmVjdFBvcy5jZW50ZXJ5ID0gYmVmb3JlUG9zLnkgKyBiZWZvcmVQb3MuaDsKICAgICAgICAgICAgICAgIHJlY3RQb3MuY3VyeCA9IGJlZm9yZVBvcy54ICsgYmVmb3JlUG9zLncgKyBkaWZmWDsKICAgICAgICAgICAgICAgIHJlY3RQb3MuY3VyeSA9IGJlZm9yZVBvcy55ICsgZGlmZlk7CgogICAgICAgICAgICAgICAgbGV0IG1pblcgPSB0aGlzLm1pbkxpbWl0VzsKICAgICAgICAgICAgICAgIGxldCBtaW5IID0gdGhpcy5taW5MaW1pdEg7CiAgICAgICAgICAgICAgICBjdXJQb3MudyA9IE1hdGgubWluKHJlY3RQb3MuY3VyeCAtIHJlY3RQb3MuY2VudGVyeCx0aGlzLmxpbWl0UG9zLncgLSByZWN0UG9zLmNlbnRlcngpOwogICAgICAgICAgICAgICAgY3VyUG9zLncgPSBNYXRoLm1heChjdXJQb3MudyxtaW5XKTsKICAgICAgICAgICAgICAgIGN1clBvcy5oID0gTWF0aC5taW4ocmVjdFBvcy5jZW50ZXJ5IC0gcmVjdFBvcy5jdXJ5LHJlY3RQb3MuY2VudGVyeSk7CiAgICAgICAgICAgICAgICBjdXJQb3MuaCA9IE1hdGgubWF4KGN1clBvcy5oLG1pbkgpOwogICAgICAgICAgICAgICAgaWYodGhpcy5zY2FsZVcgPiAwICYmIHRoaXMuc2NhbGVIID4gMCl7CiAgICAgICAgICAgICAgICAgICAgbWluVyA9IG1pbkggKiB0aGlzLnNjYWxlVy90aGlzLnNjYWxlSDsKICAgICAgICAgICAgICAgICAgICBjdXJQb3MudyA9IE1hdGgubWF4KGN1clBvcy53LG1pblcpOwogICAgICAgICAgICAgICAgICAgIGN1clBvcy53ID0gTWF0aC5taW4oKHJlY3RQb3MuY2VudGVyeSkgKiB0aGlzLnNjYWxlVy90aGlzLnNjYWxlSCxjdXJQb3Mudyk7CiAgICAgICAgICAgICAgICAgICAgY3VyUG9zLmggPSBjdXJQb3MudyAqIHRoaXMuc2NhbGVIL3RoaXMuc2NhbGVXOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGN1clBvcy54ID0gcmVjdFBvcy5jZW50ZXJ4OwogICAgICAgICAgICAgICAgY3VyUG9zLnkgPSByZWN0UG9zLmNlbnRlcnkgLSBjdXJQb3MuaDsKICAgICAgICAgICAgfQogICAgICAgICAgICAvL+WPs+S4rQogICAgICAgICAgICBlbHNlIGlmKG1vdmVUeXBlID09PSA3KXsKICAgICAgICAgICAgICAgIHJlY3RQb3MuY2VudGVyeCA9IGJlZm9yZVBvcy54OwogICAgICAgICAgICAgICAgLy8gcmVjdFBvcy5jZW50ZXJ5ID0gYmVmb3JlUG9zLnkgKyBiZWZvcmVQb3MuaC8yOwogICAgICAgICAgICAgICAgcmVjdFBvcy5jdXJ4ID0gYmVmb3JlUG9zLnggKyBiZWZvcmVQb3MudyArIGRpZmZYOwogICAgICAgICAgICAgICAgLy8gcmVjdFBvcy5jdXJ5ID0gYmVmb3JlUG9zLnkgKyBkaWZmWTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgbGV0IG1pblcgPSB0aGlzLm1pbkxpbWl0VzsKICAgICAgICAgICAgICAgIGxldCBtaW5IID0gdGhpcy5taW5MaW1pdEg7CiAgICAgICAgICAgICAgICBjdXJQb3MudyA9IE1hdGgubWluKHJlY3RQb3MuY3VyeCAtIHJlY3RQb3MuY2VudGVyeCx0aGlzLmxpbWl0UG9zLncgLSByZWN0UG9zLmNlbnRlcngpOwogICAgICAgICAgICAgICAgY3VyUG9zLncgPSBNYXRoLm1heChjdXJQb3MudyxtaW5XKTsKICAgICAgICAgICAgICAgIGN1clBvcy5oID0gYmVmb3JlUG9zLmg7CiAgICAgICAgICAgICAgICBpZih0aGlzLnNjYWxlVyA+IDAgJiYgdGhpcy5zY2FsZUggPiAwKXsKICAgICAgICAgICAgICAgICAgICBtaW5XID0gbWluSCAqIHRoaXMuc2NhbGVXL3RoaXMuc2NhbGVIOwogICAgICAgICAgICAgICAgICAgIGN1clBvcy53ID0gTWF0aC5tYXgoY3VyUG9zLncsbWluVyk7CiAgICAgICAgICAgICAgICAgICAgY3VyUG9zLncgPSBNYXRoLm1pbigodGhpcy5saW1pdFBvcy5oIC0gYmVmb3JlUG9zLnkpICogdGhpcy5zY2FsZVcvdGhpcy5zY2FsZUgsY3VyUG9zLncpOwogICAgICAgICAgICAgICAgICAgIGN1clBvcy5oID0gY3VyUG9zLncgKiB0aGlzLnNjYWxlSC90aGlzLnNjYWxlVzsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjdXJQb3MueCA9IHJlY3RQb3MuY2VudGVyeDsKICAgICAgICAgICAgICAgIGN1clBvcy55ID0gYmVmb3JlUG9zLnk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy/lj7PkuIsKICAgICAgICAgICAgZWxzZSBpZihtb3ZlVHlwZSA9PT0gOCl7CiAgICAgICAgICAgICAgICByZWN0UG9zLmNlbnRlcnggPSBiZWZvcmVQb3MueDsKICAgICAgICAgICAgICAgIHJlY3RQb3MuY2VudGVyeSA9IGJlZm9yZVBvcy55OwogICAgICAgICAgICAgICAgcmVjdFBvcy5jdXJ4ID0gYmVmb3JlUG9zLnggKyBiZWZvcmVQb3MudyArIGRpZmZYOwogICAgICAgICAgICAgICAgcmVjdFBvcy5jdXJ5ID0gYmVmb3JlUG9zLnkgKyBiZWZvcmVQb3MuaCArIGRpZmZZOwogICAgICAgICAgICAgICAgY3VyUG9zLnggPSBiZWZvcmVQb3MueDsKICAgICAgICAgICAgICAgIGN1clBvcy55ID0gYmVmb3JlUG9zLnk7CgogICAgICAgICAgICAgICAgbGV0IG1pblcgPSB0aGlzLm1pbkxpbWl0VzsKICAgICAgICAgICAgICAgIGxldCBtaW5IID0gdGhpcy5taW5MaW1pdEg7CiAgICAgICAgICAgICAgICBjdXJQb3MudyA9IE1hdGgubWluKHJlY3RQb3MuY3VyeCAtIHJlY3RQb3MuY2VudGVyeCx0aGlzLmxpbWl0UG9zLnctcmVjdFBvcy5jZW50ZXJ4KTsKICAgICAgICAgICAgICAgIGN1clBvcy53ID0gTWF0aC5tYXgoY3VyUG9zLncsbWluVyk7CiAgICAgICAgICAgICAgICBjdXJQb3MuaCA9IE1hdGgubWluKHJlY3RQb3MuY3VyeSAtIHJlY3RQb3MuY2VudGVyeSx0aGlzLmxpbWl0UG9zLmgtcmVjdFBvcy5jZW50ZXJ5KTsKICAgICAgICAgICAgICAgIGN1clBvcy5oID0gTWF0aC5tYXgoY3VyUG9zLmgsbWluSCk7CiAgICAgICAgICAgICAgICBpZih0aGlzLnNjYWxlVyA+IDAgJiYgdGhpcy5zY2FsZUggPiAwKXsKICAgICAgICAgICAgICAgICAgICBtaW5XID0gbWluSCAqIHRoaXMuc2NhbGVXL3RoaXMuc2NhbGVIOwogICAgICAgICAgICAgICAgICAgIGN1clBvcy53ID0gTWF0aC5tYXgoY3VyUG9zLncsbWluVyk7CiAgICAgICAgICAgICAgICAgICAgY3VyUG9zLncgPSBNYXRoLm1pbigodGhpcy5saW1pdFBvcy5oLXJlY3RQb3MuY2VudGVyeSkgKiB0aGlzLnNjYWxlVy90aGlzLnNjYWxlSCxjdXJQb3Mudyk7CiAgICAgICAgICAgICAgICAgICAgY3VyUG9zLmggPSBjdXJQb3MudyAqIHRoaXMuc2NhbGVIL3RoaXMuc2NhbGVXOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5kZWZQb3MgPSBjdXJQb3M7CiAgICAgICAgICAgIAogICAgICAgICAgICB0aGlzLnNjYWxlUG9zLnggPSB0aGlzLmRlZlBvcy54L3RoaXMubGltaXRQb3MudzsKICAgICAgICAgICAgdGhpcy5zY2FsZVBvcy55ID0gdGhpcy5kZWZQb3MueS90aGlzLmxpbWl0UG9zLmg7CiAgICAgICAgICAgIHRoaXMuc2NhbGVQb3MudyA9IHRoaXMuZGVmUG9zLncvdGhpcy5saW1pdFBvcy53OwogICAgICAgICAgICB0aGlzLnNjYWxlUG9zLmggPSB0aGlzLmRlZlBvcy5oL3RoaXMubGltaXRQb3MuaDsKCiAgICAgICAgICAgIHRoaXMuJGVtaXQoJ2NoYW5nZScsdGhpcy5zY2FsZVBvcyk7CiAgICAgICAgfSwKICAgICAgICBrZXlkb3duSGFuZGxlcihldmVudCl7CiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdldmVudCcsZXZlbnQpCiAgICAgICAgICAgIHRoaXMuY3RybEtleSA9IGV2ZW50LmN0cmxLZXk7CiAgICAgICAgfSwKICAgICAgICByZXNldFBvcyhzY2FsZVBvcyl7CiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5zY2FsZVBvcyxzY2FsZVBvcyk7CiAgICAgICAgfSwKICAgICAgICBnZXRQb3MoKXsKICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sdGhpcy5zY2FsZVBvcyk7CiAgICAgICAgfSwKICAgIH0KfQo="},{"version":3,"sources":["MyDefTool.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAuBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MyDefTool.vue","sourceRoot":"src/views/components","sourcesContent":["<template>\n    <div class=\"mydef-tool absolute\">\n        <div class=\"mydef-mask absolute\"\n        :style=\"{'border-left-width':borderLeft,'border-right-width':borderRight,'border-top-width':borderTop,'border-bottom-width':borderBottom}\">\n        </div>\n        <div class=\"mydef-tool-child absolute\" \n        :style=\"{'left':defPos.x+'px','top':defPos.y+'px','width':defPos.w+'px','height':defPos.h+'px'}\"\n        moveType=\"0\" \n        @mousedown=\"btnsMouseDownHandler\">\n            <div class=\"mintool min-left-top absolute\" moveType=\"1\" @mousedown=\"btnsMouseDownHandler\"></div>\n            <div class=\"mintool min-left-center absolute\" moveType=\"2\" @mousedown=\"btnsMouseDownHandler\"></div>\n            <div class=\"mintool min-left-bottom absolute\" moveType=\"3\" @mousedown=\"btnsMouseDownHandler\"></div>\n            <div class=\"mintool min-center-top absolute\" moveType=\"4\" @mousedown=\"btnsMouseDownHandler\"></div>\n            <div class=\"mintool min-center-bottom absolute\" moveType=\"5\" @mousedown=\"btnsMouseDownHandler\"></div>\n            <div class=\"mintool min-right-top absolute\" moveType=\"6\" @mousedown=\"btnsMouseDownHandler\"></div>\n            <div class=\"mintool min-right-center absolute\" moveType=\"7\" @mousedown=\"btnsMouseDownHandler\"></div>\n            <div class=\"mintool min-right-bottom absolute\" moveType=\"8\" @mousedown=\"btnsMouseDownHandler\"></div>\n            <!-- <div class=\"mintool min-bg-drag absolute\"></div> -->\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n    name:'mydef-tool',\n    props:{\n        scaleWH:{\n            type:String,\n            default:'0:0'\n        },\n        useCtrlScale:{\n            type:Boolean,\n            default:false\n        },\n        minLimitWH:{\n            type:String,\n            default:'16:16'\n        },\n        minLimitScale:{\n            type:Number,\n            default:0\n        }\n    },\n    data (){\n        return {\n            limitPos:{\n                x:0,\n                y:0,\n                w:0,\n                h:0\n            },\n            defPos:{\n                x:0,\n                y:0,\n                w:0,\n                h:0\n            },\n            scalePos:{\n                x:0,\n                y:0,\n                w:1,\n                h:1\n            },\n            scaleW:0,\n            scaleH:0,\n            minLimitW:16,\n            minLimitH:16,\n            ctrlKey:false,\n        }\n    },\n    computed:{\n        borderLeft(){\n            return this.defPos.x+'px';\n        },\n        borderRight(){\n            return (this.limitPos.w-this.defPos.w-this.defPos.x)+'px';\n        },\n        borderTop(){\n            return this.defPos.y+'px';\n        },\n        borderBottom(){\n            return (this.limitPos.h-this.defPos.h-this.defPos.y)+'px';\n        }\n    },\n    watch:{\n        minLimitWH:{\n            deep:true,\n            handler(newVal){\n                let arr = newVal.split(':');\n                this.minLimitW = parseInt(arr[0]);\n                this.minLimitH = parseInt(arr[1]);\n            }\n        }\n    },\n    created(){\n        document.addEventListener('keydown',this.keydownHandler);\n        document.addEventListener('keyup',this.keydownHandler);\n    },\n    destroyed(){\n        document.removeEventListener('keydown',this.keydownHandler);\n        document.removeEventListener('keyup',this.keydownHandler);\n    },\n    mounted(){\n        this.limitPos.w = this.$el.offsetWidth;\n        this.limitPos.h = this.$el.offsetHeight;\n        if(this.minLimitScale > 0){\n            this.minLimitW = this.minLimitScale * this.limitPos.w;\n            this.minLimitH = this.minLimitScale * this.limitPos.h;\n        }\n\n        this.defPos = Object.assign(this.defPos,this.limitPos);\n        const resizeObserver = new ResizeObserver(this.resizeChangeWH);\n        resizeObserver.observe(this.$el);\n    },\n    methods:{\n        resizeChangeWH(entries){\n\t\t\t// console.log(entries)\n            for (let entry of entries) {\n                if(entry.target == this.$el){\n                    \n                    this.limitPos.w = entry.contentRect.width;//this.$el.offsetWidth;\n                    this.limitPos.h = entry.contentRect.height;//this.$el.offsetHeight;\n\n                    this.defPos.x = this.scalePos.x * this.limitPos.w;\n                    this.defPos.y = this.scalePos.y * this.limitPos.h;\n                    this.defPos.w = this.scalePos.w * this.limitPos.w;\n                    this.defPos.h = this.scalePos.h * this.limitPos.h;\n\n                    if(this.minLimitScale > 0){\n                        this.minLimitW = this.minLimitScale * this.limitPos.w;\n                        this.minLimitH = this.minLimitScale * this.limitPos.h;\n                    }\n                }\n            }\n        },\n        btnsMouseDownHandler(event) {\n            let e = event ? event : window.event;\n            e.preventDefault();\n            e.stopPropagation();\n\n            let self = this;\n            let moveType = parseInt(e.target.getAttribute('movetype'));//0为移动\n            // console.log('moveType',moveType)\n            let mouseX = e.clientX,mouseY = e.clientY;\n            let beforePos = Object.assign({},self.defPos);\n\n            let arr = this.scaleWH.split(':');\n            let scaleW = parseInt(arr[0]);\n            let scaleH = parseInt(arr[1]);\n            \n            document.addEventListener('mousemove',mousemoveHandler);\n            document.addEventListener('mouseup',mouseupHandler);\n\n\n            function mousemoveHandler(event){\n                event.preventDefault();\n                if(self.useCtrlScale){\n                    if(self.ctrlKey){\n                        self.scaleW = scaleW;\n                        self.scaleH = scaleH;\n                    }else{\n                        self.scaleW = 0;\n                        self.scaleH = 0;\n                    }\n                }else{\n                    self.scaleW = scaleW;\n                    self.scaleH = scaleH;\n                }\n                self.computerPos(moveType,beforePos,event.clientX-mouseX,event.clientY-mouseY);\n            }\n\n            function mouseupHandler(event){\n                event.preventDefault();\n\n                document.removeEventListener('mousemove',mousemoveHandler);\n                document.removeEventListener('mouseup',mouseupHandler);\n\n\n            }\n            // console.log(e.target.classList,e.target === btnLT,moveType)\n        },\n        /**\n         * 计算最终位置\n         */\n        computerPos (moveType,beforePos,diffX,diffY){\n            const curPos = {\n                x:0,\n                y:0,\n                w:0,\n                h:0\n            }\n            \n            const rectPos = {\n                centerx: 0,\n                centery: 0,\n                curx: 0,\n                cury: 0\n            }\n            //仅移动\n            if(moveType === 0){\n                curPos.x = Math.max(beforePos.x + diffX,0);\n                curPos.x = Math.min(this.limitPos.w - beforePos.w,curPos.x);\n                curPos.y = Math.max(beforePos.y + diffY,0);\n                curPos.y = Math.min(this.limitPos.h - beforePos.h,curPos.y);\n                curPos.w = beforePos.w;\n                curPos.h = beforePos.h;\n            }\n            //左上\n            else if(moveType === 1){\n                rectPos.centerx = beforePos.x + beforePos.w;\n                rectPos.centery = beforePos.y + beforePos.h;\n                rectPos.curx = beforePos.x + diffX;\n                rectPos.cury = beforePos.y + diffY;\n                \n                let minW = this.minLimitW;\n                let minH = this.minLimitH;\n                curPos.w = Math.min(rectPos.centerx - rectPos.curx,rectPos.centerx);\n                curPos.w = Math.max(curPos.w,minW);\n                curPos.h = Math.min(rectPos.centery - rectPos.cury,rectPos.centery);\n                curPos.h = Math.max(curPos.h,minH);\n                if(this.scaleW > 0 && this.scaleH > 0){\n                    minW = minH * this.scaleW/this.scaleH;\n                    curPos.w = Math.max(curPos.w,minW);\n                    curPos.w = Math.min((rectPos.centery) * this.scaleW/this.scaleH,curPos.w);\n                    curPos.h = curPos.w * this.scaleH/this.scaleW;\n                }\n\n                curPos.x = rectPos.centerx - curPos.w;\n                curPos.y = rectPos.centery - curPos.h;\n                \n            }\n            //左中\n            else if(moveType === 2){\n                rectPos.centerx = beforePos.x + beforePos.w;\n                // rectPos.centery = beforePos.y + beforePos.h/2;\n                rectPos.curx = beforePos.x + diffX;\n                // rectPos.cury = beforePos.y + diffY;\n                \n                let minW = this.minLimitW;\n                let minH = this.minLimitH;\n                curPos.w = Math.min(rectPos.centerx - rectPos.curx,rectPos.centerx);\n                curPos.w = Math.max(curPos.w,minW);\n                curPos.h = beforePos.h;\n                if(this.scaleW > 0 && this.scaleH > 0){\n                    minW = minH * this.scaleW/this.scaleH;\n                    curPos.w = Math.max(curPos.w,minW);\n                    curPos.w = Math.min((this.limitPos.h - beforePos.y) * this.scaleW/this.scaleH,curPos.w);\n                    curPos.h = curPos.w * this.scaleH/this.scaleW;\n                }\n\n                curPos.x = rectPos.centerx - curPos.w;\n                curPos.y = beforePos.y;\n            }\n            //左下\n            else if(moveType === 3){\n                rectPos.centerx = beforePos.x + beforePos.w;\n                rectPos.centery = beforePos.y;\n                rectPos.curx = beforePos.x + diffX;\n                rectPos.cury = beforePos.y + beforePos.h + diffY;\n\n                let minW = this.minLimitW;\n                let minH = this.minLimitH;\n                curPos.w = Math.min(rectPos.centerx - rectPos.curx,rectPos.centerx);\n                curPos.w = Math.max(curPos.w,minW);\n                curPos.h = Math.min(rectPos.cury - rectPos.centery,this.limitPos.h - rectPos.centery);\n                curPos.h = Math.max(curPos.h,minH);\n                if(this.scaleW > 0 && this.scaleH > 0){\n                    minW = minH * this.scaleW/this.scaleH;\n                    curPos.w = Math.max(curPos.w,minW);\n                    curPos.w = Math.min((this.limitPos.h - rectPos.centery) * this.scaleW/this.scaleH,curPos.w);\n                    curPos.h = curPos.w * this.scaleH/this.scaleW;\n                }\n\n                curPos.x = rectPos.centerx - curPos.w;\n                curPos.y = rectPos.centery;\n            }\n            //中上\n            else if(moveType === 4){\n                rectPos.centery = beforePos.y + beforePos.h;\n                rectPos.cury = beforePos.y + diffY;\n                \n                let minW = this.minLimitW;\n                let minH = this.minLimitH;\n                curPos.h = Math.min(rectPos.centery - rectPos.cury,rectPos.centery);\n                curPos.h = Math.max(curPos.h,minH);\n                curPos.w = beforePos.w;\n                if(this.scaleW > 0 && this.scaleH > 0){\n                    minH = minH * this.scaleH/this.scaleW;\n                    curPos.h = Math.max(curPos.h,minH);\n                    curPos.h = Math.min( (this.limitPos.w - beforePos.x) * this.scaleH/this.scaleW,curPos.h);\n                    curPos.w = curPos.h * this.scaleW/this.scaleH;\n                }\n\n                curPos.x = beforePos.x;\n                curPos.y = rectPos.centery - curPos.h;\n            }\n            //中下\n            else if(moveType === 5){\n                rectPos.centery = beforePos.y;\n                rectPos.cury = beforePos.y  + beforePos.h + diffY;\n                \n                let minW = this.minLimitW;\n                let minH = this.minLimitH;\n                curPos.h = Math.min(rectPos.cury - rectPos.centery,this.limitPos.h - rectPos.centery);\n                curPos.h = Math.max(curPos.h,minH);\n                curPos.w = beforePos.w;\n                if(this.scaleW > 0 && this.scaleH > 0){\n                    minH = minH * this.scaleH/this.scaleW;\n                    curPos.h = Math.max(curPos.h,minH);\n                    curPos.h = Math.min( (this.limitPos.w - beforePos.x) * this.scaleH/this.scaleW,curPos.h);\n                    curPos.w = curPos.h * this.scaleW/this.scaleH;\n                }\n\n                curPos.x = beforePos.x;\n                curPos.y = beforePos.y;\n            }\n            //右上\n            else if(moveType === 6){\n                rectPos.centerx = beforePos.x;\n                rectPos.centery = beforePos.y + beforePos.h;\n                rectPos.curx = beforePos.x + beforePos.w + diffX;\n                rectPos.cury = beforePos.y + diffY;\n\n                let minW = this.minLimitW;\n                let minH = this.minLimitH;\n                curPos.w = Math.min(rectPos.curx - rectPos.centerx,this.limitPos.w - rectPos.centerx);\n                curPos.w = Math.max(curPos.w,minW);\n                curPos.h = Math.min(rectPos.centery - rectPos.cury,rectPos.centery);\n                curPos.h = Math.max(curPos.h,minH);\n                if(this.scaleW > 0 && this.scaleH > 0){\n                    minW = minH * this.scaleW/this.scaleH;\n                    curPos.w = Math.max(curPos.w,minW);\n                    curPos.w = Math.min((rectPos.centery) * this.scaleW/this.scaleH,curPos.w);\n                    curPos.h = curPos.w * this.scaleH/this.scaleW;\n                }\n\n                curPos.x = rectPos.centerx;\n                curPos.y = rectPos.centery - curPos.h;\n            }\n            //右中\n            else if(moveType === 7){\n                rectPos.centerx = beforePos.x;\n                // rectPos.centery = beforePos.y + beforePos.h/2;\n                rectPos.curx = beforePos.x + beforePos.w + diffX;\n                // rectPos.cury = beforePos.y + diffY;\n                \n                let minW = this.minLimitW;\n                let minH = this.minLimitH;\n                curPos.w = Math.min(rectPos.curx - rectPos.centerx,this.limitPos.w - rectPos.centerx);\n                curPos.w = Math.max(curPos.w,minW);\n                curPos.h = beforePos.h;\n                if(this.scaleW > 0 && this.scaleH > 0){\n                    minW = minH * this.scaleW/this.scaleH;\n                    curPos.w = Math.max(curPos.w,minW);\n                    curPos.w = Math.min((this.limitPos.h - beforePos.y) * this.scaleW/this.scaleH,curPos.w);\n                    curPos.h = curPos.w * this.scaleH/this.scaleW;\n                }\n\n                curPos.x = rectPos.centerx;\n                curPos.y = beforePos.y;\n            }\n            //右下\n            else if(moveType === 8){\n                rectPos.centerx = beforePos.x;\n                rectPos.centery = beforePos.y;\n                rectPos.curx = beforePos.x + beforePos.w + diffX;\n                rectPos.cury = beforePos.y + beforePos.h + diffY;\n                curPos.x = beforePos.x;\n                curPos.y = beforePos.y;\n\n                let minW = this.minLimitW;\n                let minH = this.minLimitH;\n                curPos.w = Math.min(rectPos.curx - rectPos.centerx,this.limitPos.w-rectPos.centerx);\n                curPos.w = Math.max(curPos.w,minW);\n                curPos.h = Math.min(rectPos.cury - rectPos.centery,this.limitPos.h-rectPos.centery);\n                curPos.h = Math.max(curPos.h,minH);\n                if(this.scaleW > 0 && this.scaleH > 0){\n                    minW = minH * this.scaleW/this.scaleH;\n                    curPos.w = Math.max(curPos.w,minW);\n                    curPos.w = Math.min((this.limitPos.h-rectPos.centery) * this.scaleW/this.scaleH,curPos.w);\n                    curPos.h = curPos.w * this.scaleH/this.scaleW;\n                }\n                \n            }\n            this.defPos = curPos;\n            \n            this.scalePos.x = this.defPos.x/this.limitPos.w;\n            this.scalePos.y = this.defPos.y/this.limitPos.h;\n            this.scalePos.w = this.defPos.w/this.limitPos.w;\n            this.scalePos.h = this.defPos.h/this.limitPos.h;\n\n            this.$emit('change',this.scalePos);\n        },\n        keydownHandler(event){\n            // console.log('event',event)\n            this.ctrlKey = event.ctrlKey;\n        },\n        resetPos(scalePos){\n            Object.assign(this.scalePos,scalePos);\n        },\n        getPos(){\n            return Object.assign({},this.scalePos);\n        },\n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n//方块宽度\n$rectW: 16px;\n//defmintool边框宽度\n$borderW: 3px;\n\n.absolute{\n    position: absolute;\n}\n.mydef-tool{\n    width: 100%;\n    height: 100%;\n    // border: 1px solid #000;\n    position: absolute;\n\n    .mydef-mask{\n        width: 100%;\n        height: 100%;\n        border-style: solid;\n        border-color: rgba(0,0,0,0.5);\n    }\n\n    .mydef-tool-child {\n        z-index: 30;\n        width: 100%;\n        height: 100%;\n        // border: 1px dashed #ffffff;\n        border: 1px solid #00c0fe;\n        cursor: move;\n\n        .mintool{\n            width: $rectW;\n            height: $rectW;\n            // background: #000000;\n            border: $borderW solid #00c0fe;\n        }\n\n        .mintool.hide{\n            display: none;\n        }\n\n        // .min-bg-drag{\n        //     width: 100%;\n        //     height: 100%;\n        //     background-color: rgba(255,0,0,0.2);\n        //     border: none;\n        // }\n\n        .min-left-top{\n            left: -$borderW;\n            top: -$borderW;\n            border-right: none;\n            border-bottom: none;\n            // transform: translate(-$rectW/2,-$rectW/2);\n            cursor: nw-resize;\n        }\n\n        .min-left-center{\n            left: -$borderW;\n            top: 50%;\n            transform: translate(0,-$rectW/2);\n            border-top: none;\n            border-right: none;\n            border-bottom: none;\n            cursor: w-resize;\n        }\n\n        .min-left-bottom{\n            left: -$borderW;\n            bottom: -$borderW;\n            border-top: none;\n            border-right: none;\n            // transform: translate(-$rectW/2,$rectW/2);\n            cursor: ne-resize;\n        }\n\n        .min-center-top{\n            left: 50%;\n            top: -$borderW;\n            transform: translate(-$rectW/2,0);\n            border-left: none;\n            border-right: none;\n            border-bottom: none;\n            cursor: n-resize;\n        }\n\n        .min-center-bottom{\n            left: 50%;\n            bottom: -$borderW;\n            transform: translate(-$rectW/2,0);\n            border-top: none;\n            border-left: none;\n            border-right: none;\n            cursor: n-resize;\n        }\n\n        .min-right-top{\n            left: initial;\n            right: -$borderW;\n            top: -$borderW;\n            border-left: none;\n            border-bottom: none;\n            // transform: translate($rectW/2,-$rectW/2);\n            cursor: ne-resize;\n        }\n\n        .min-right-center{\n            left: initial;\n            right: -$borderW;\n            top: 50%;\n            transform: translate(0,-$rectW/2);\n            border-top: none;\n            border-left: none;\n            border-bottom: none;\n            cursor: w-resize;\n        }\n\n        .min-right-bottom{\n            left: initial;\n            right: -$borderW;\n            bottom: -$borderW;\n            // transform: translate($rectW/2,$rectW/2);\n            border-left: none;\n            border-top: none;\n            cursor: nw-resize;\n        }\n\n    }\n}\n    \n</style>"]}]}