{"remainingRequest":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/am-source-select/sourceSelect/components/VideoPlayer.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/am-source-select/sourceSelect/components/VideoPlayer.vue","mtime":499162500000},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgTWVkaWFDb250cm9sIGZyb20gJy4vTWVkaWFDb250cm9sJzsNCmV4cG9ydCBkZWZhdWx0IHsNCiAgICBjb21wb25lbnRzOntNZWRpYUNvbnRyb2x9LA0KICAgIHByb3BzOnsNCiAgICAgICAgdXJsOnsNCiAgICAgICAgICAgIHR5cGU6U3RyaW5nLA0KICAgICAgICAgICAgZGVmYXVsdDonJw0KICAgICAgICB9LA0KICAgICAgICBwb3N0ZXI6ew0KICAgICAgICAgICAgdHlwZTpTdHJpbmcsDQogICAgICAgICAgICBkZWZhdWx0OicnDQogICAgICAgIH0sDQogICAgICAgIHRvRmlyc3RGcmFtZTp7DQogICAgICAgICAgICB0eXBlOkJvb2xlYW4sDQogICAgICAgICAgICBkZWZhdWx0OiBmYWxzZQ0KICAgICAgICB9DQogICAgfSwNCiAgICBkYXRhKCl7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICB2aWRlbzpudWxsLA0KICAgICAgICAgICAgaXNQYXVzZTp0cnVlLA0KICAgICAgICAgICAgY29udHJvbFN0YXR1czonZWFzeScNCiAgICAgICAgICAgIC8vIHZvbHVtZToxLA0KICAgICAgICB9DQogICAgfSwNCiAgICAvLyB3YXRjaDp7DQogICAgLy8gICAgIHVybDp7DQogICAgLy8gICAgICAgICBkZWVwOnRydWUsDQogICAgLy8gICAgICAgICBoYW5kbGVyKG5ld1ZhbCl7DQogICAgLy8gICAgICAgICAgICAgY29uc29sZS5sb2coJ25ld1ZhbCcsbmV3VmFsKQ0KICAgIC8vICAgICAgICAgfQ0KICAgIC8vICAgICB9DQogICAgLy8gfSwNCiAgICBjcmVhdGVkKCl7DQogICAgICAgIC8vIHRoaXMuJG5leHRUaWNrKCgpPT57DQogICAgICAgIC8vICAgICB0aGlzLnZpZGVvID0gdGhpcy4kcmVmcy5teVZpZGVvOw0KICAgICAgICAvLyB9KQ0KICAgIH0sDQogICAgbW91bnRlZCgpew0KICAgICAgICB0aGlzLiRyZWZzLm1lZGlhQ29udHJvbC5zZXRDdXJyZW50VGltZSgwKTsNCiAgICAgICAgdGhpcy4kcmVmcy5tZWRpYUNvbnRyb2wuc2V0RHVyYXRpb24oMCk7DQogICAgICAgIHRoaXMudmlkZW8gPSB0aGlzLiRyZWZzLm15VmlkZW87IA0KICAgICAgICB0aGlzLiRlbC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJyx0aGlzLmtleWRvd25IYW5kbGVyKTsNCiAgICB9LA0KICAgIGRlc3Ryb3llZCgpew0KICAgICAgICANCiAgICB9LA0KICAgIG1ldGhvZHM6ew0KICAgICAgICBwbGF5KCl7DQogICAgICAgICAgICB0aGlzLnZpZGVvLnBsYXkoKTsNCiAgICAgICAgfSwNCiAgICAgICAgcGF1c2UoKXsNCiAgICAgICAgICAgIHRoaXMudmlkZW8ucGF1c2UoKTsNCiAgICAgICAgfSwNCiAgICAgICAgc2Vlayh2KXsNCiAgICAgICAgICAgIHRoaXMudmlkZW8uY3VycmVudFRpbWUgPSB2Ow0KICAgICAgICB9LA0KICAgICAgICBwbGF5QW5kcGF1c2VIYW5kbGVyKCl7DQogICAgICAgICAgICBpZih0aGlzLnZpZGVvLnBhdXNlZCl7DQogICAgICAgICAgICAgICAgdGhpcy52aWRlby5wbGF5KCk7DQogICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICB0aGlzLnZpZGVvLnBhdXNlKCk7DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGxvYWRlZG1ldGFkYXRhSGFuZGxlcigpew0KICAgICAgICAgICAgdGhpcy4kcmVmcy5tZWRpYUNvbnRyb2wuc2V0RHVyYXRpb24odGhpcy52aWRlby5kdXJhdGlvbik7DQogICAgICAgIH0sDQogICAgICAgIGR1cmF0aW9uY2hhbmdlSGFuZGxlcigpew0KICAgICAgICAgICAgdGhpcy4kcmVmcy5tZWRpYUNvbnRyb2wuc2V0RHVyYXRpb24odGhpcy52aWRlby5kdXJhdGlvbik7DQogICAgICAgIH0sDQogICAgICAgIGNhbnBsYXl0aHJvdWdoSGFuZGxlcigpew0KICAgICAgICAgICAgLy8gIHRoaXMuaXNQYXVzZSA9IGZhbHNlOw0KICAgICAgICB9LA0KICAgICAgICBlcnJvckhhbmRsZXIoKXsNCiAgICAgICAgICAgIHRoaXMuaXNQYXVzZSA9IHRydWU7DQogICAgICAgIH0sDQogICAgICAgIHBsYXlIYW5kbGVyKCl7DQogICAgICAgICAgICB0aGlzLmlzUGF1c2UgPSBmYWxzZTsNCiAgICAgICAgfSwNCiAgICAgICAgcGxheWluZ0hhbmRsZXIoKXsNCiAgICAgICAgICAgIHRoaXMuaXNQYXVzZSA9IGZhbHNlOw0KICAgICAgICB9LA0KICAgICAgICB3YWl0aW5nSGFuZGxlcigpew0KICAgICAgICAgICAgdGhpcy5pc1BhdXNlID0gdHJ1ZTsNCiAgICAgICAgfSwNCiAgICAgICAgcGF1c2VIYW5kbGVyKCl7DQogICAgICAgICAgICB0aGlzLmlzUGF1c2UgPSB0cnVlOw0KICAgICAgICB9LA0KICAgICAgICBlbmRlZEhhbmRsZXIoKXsNCiAgICAgICAgICAgIHRoaXMuaXNQYXVzZSA9IHRydWU7DQogICAgICAgICAgICBpZih0aGlzLnRvRmlyc3RGcmFtZSl7DQogICAgICAgICAgICAgICAgdGhpcy52aWRlby5jdXJyZW50VGltZSA9IDA7DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIHRpbWV1cGRhdGVIYW5kbGVyKCl7DQogICAgICAgICAgICB0aGlzLiRyZWZzLm1lZGlhQ29udHJvbC5zZXRDdXJyZW50VGltZSh0aGlzLnZpZGVvLmN1cnJlbnRUaW1lKTsNCiAgICAgICAgfSwNCiAgICAgICAgbWNfdm9sdW1lSGFuZGxlcih2KXsNCiAgICAgICAgICAgIGlmKHRoaXMudmlkZW8pew0KICAgICAgICAgICAgICAgIHRoaXMudmlkZW8udm9sdW1lID0gdjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgbWNfcGxheUhhbmRsZXIoKXsNCiAgICAgICAgICAgIHRoaXMudmlkZW8ucGxheSgpOw0KICAgICAgICB9LA0KICAgICAgICBtY19wYXVzZUhhbmRsZXIoKXsNCiAgICAgICAgICAgIHRoaXMudmlkZW8ucGF1c2UoKTsNCiAgICAgICAgfSwNCiAgICAgICAgbWNfc2Vla0hhbmRsZXIodil7DQogICAgICAgICAgICAvLyBjb25zb2xlLmxvZygndicsdik7DQogICAgICAgICAgICB0aGlzLnZpZGVvLmN1cnJlbnRUaW1lID0gdjsNCiAgICAgICAgfSwNCiAgICAgICAgbW91c2VvdmVySGFuZGxlcigpew0KICAgICAgICAgICAgdGhpcy5jb250cm9sU3RhdHVzID0gJ2FsbCc7DQogICAgICAgIH0sDQogICAgICAgIG1vdXNlb3V0SGFuZGxlcigpew0KICAgICAgICAgICAgdGhpcy5jb250cm9sU3RhdHVzID0gJ2Vhc3knOw0KICAgICAgICB9LA0KICAgICAgICBrZXlkb3duSGFuZGxlcihldmVudCl7DQogICAgICAgICAgICBpZihldmVudC5rZXlDb2RlID09PSAzMil7DQogICAgICAgICAgICAgICAgdGhpcy5wbGF5QW5kcGF1c2VIYW5kbGVyKCk7DQogICAgICAgICAgICB9ZWxzZSBpZihldmVudC5rZXlDb2RlID09PSAzNyl7DQogICAgICAgICAgICAgICAgdGhpcy52aWRlby5jdXJyZW50VGltZSA9IE1hdGgubWF4KDAsdGhpcy52aWRlby5jdXJyZW50VGltZS0xKTsNCiAgICAgICAgICAgIH1lbHNlIGlmKGV2ZW50LmtleUNvZGUgPT09IDM5KXsNCiAgICAgICAgICAgICAgICB0aGlzLnZpZGVvLmN1cnJlbnRUaW1lID0gTWF0aC5taW4odGhpcy52aWRlby5kdXJhdGlvbix0aGlzLnZpZGVvLmN1cnJlbnRUaW1lKzEpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KfQ0K"},{"version":3,"sources":["VideoPlayer.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"VideoPlayer.vue","sourceRoot":"node_modules/am-source-select/sourceSelect/components","sourcesContent":["<template>\r\n    <div class=\"video-player\" tabIndex=\"1\" ref=\"myRoot\" @mouseover=\"mouseoverHandler\"  @mouseout=\"mouseoutHandler\">\r\n        <!-- <div class=\"media-con-box\">\r\n            \r\n        </div> -->\r\n        <video ref=\"myVideo\" class=\"default-video\"\r\n        :src=\"url\"\r\n        :poster=\"poster\"\r\n        @loadedmetadata=\"loadedmetadataHandler\"\r\n        @canplaythrough=\"canplaythroughHandler\"\r\n        @error=\"errorHandler\"\r\n        @play=\"playHandler\"\r\n        @playing=\"playingHandler\"\r\n        @waiting=\"waitingHandler\"\r\n        @pause=\"pauseHandler\"\r\n        @ended=\"endedHandler\"\r\n        @timeupdate=\"timeupdateHandler\"\r\n        @click=\"playAndpauseHandler\"></video>\r\n        <MediaControl ref=\"mediaControl\"\r\n            :isPause=\"isPause\"\r\n            :controlStatus=\"controlStatus\"\r\n            @volume-change=\"mc_volumeHandler\"\r\n            @play=\"mc_playHandler\"\r\n            @pause=\"mc_pauseHandler\"\r\n            @seek=\"mc_seekHandler\"/>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport MediaControl from './MediaControl';\r\nexport default {\r\n    components:{MediaControl},\r\n    props:{\r\n        url:{\r\n            type:String,\r\n            default:''\r\n        },\r\n        poster:{\r\n            type:String,\r\n            default:''\r\n        },\r\n        toFirstFrame:{\r\n            type:Boolean,\r\n            default: false\r\n        }\r\n    },\r\n    data(){\r\n        return {\r\n            video:null,\r\n            isPause:true,\r\n            controlStatus:'easy'\r\n            // volume:1,\r\n        }\r\n    },\r\n    // watch:{\r\n    //     url:{\r\n    //         deep:true,\r\n    //         handler(newVal){\r\n    //             console.log('newVal',newVal)\r\n    //         }\r\n    //     }\r\n    // },\r\n    created(){\r\n        // this.$nextTick(()=>{\r\n        //     this.video = this.$refs.myVideo;\r\n        // })\r\n    },\r\n    mounted(){\r\n        this.$refs.mediaControl.setCurrentTime(0);\r\n        this.$refs.mediaControl.setDuration(0);\r\n        this.video = this.$refs.myVideo; \r\n        this.$el.addEventListener('keydown',this.keydownHandler);\r\n    },\r\n    destroyed(){\r\n        \r\n    },\r\n    methods:{\r\n        play(){\r\n            this.video.play();\r\n        },\r\n        pause(){\r\n            this.video.pause();\r\n        },\r\n        seek(v){\r\n            this.video.currentTime = v;\r\n        },\r\n        playAndpauseHandler(){\r\n            if(this.video.paused){\r\n                this.video.play();\r\n            }else{\r\n                this.video.pause();\r\n            }\r\n        },\r\n        loadedmetadataHandler(){\r\n            this.$refs.mediaControl.setDuration(this.video.duration);\r\n        },\r\n        durationchangeHandler(){\r\n            this.$refs.mediaControl.setDuration(this.video.duration);\r\n        },\r\n        canplaythroughHandler(){\r\n            //  this.isPause = false;\r\n        },\r\n        errorHandler(){\r\n            this.isPause = true;\r\n        },\r\n        playHandler(){\r\n            this.isPause = false;\r\n        },\r\n        playingHandler(){\r\n            this.isPause = false;\r\n        },\r\n        waitingHandler(){\r\n            this.isPause = true;\r\n        },\r\n        pauseHandler(){\r\n            this.isPause = true;\r\n        },\r\n        endedHandler(){\r\n            this.isPause = true;\r\n            if(this.toFirstFrame){\r\n                this.video.currentTime = 0;\r\n            }\r\n        },\r\n        timeupdateHandler(){\r\n            this.$refs.mediaControl.setCurrentTime(this.video.currentTime);\r\n        },\r\n        mc_volumeHandler(v){\r\n            if(this.video){\r\n                this.video.volume = v;\r\n            }\r\n        },\r\n        mc_playHandler(){\r\n            this.video.play();\r\n        },\r\n        mc_pauseHandler(){\r\n            this.video.pause();\r\n        },\r\n        mc_seekHandler(v){\r\n            // console.log('v',v);\r\n            this.video.currentTime = v;\r\n        },\r\n        mouseoverHandler(){\r\n            this.controlStatus = 'all';\r\n        },\r\n        mouseoutHandler(){\r\n            this.controlStatus = 'easy';\r\n        },\r\n        keydownHandler(event){\r\n            if(event.keyCode === 32){\r\n                this.playAndpauseHandler();\r\n            }else if(event.keyCode === 37){\r\n                this.video.currentTime = Math.max(0,this.video.currentTime-1);\r\n            }else if(event.keyCode === 39){\r\n                this.video.currentTime = Math.min(this.video.duration,this.video.currentTime+1);\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.video-player{\r\n    width: 100%;\r\n    height: 100%;\r\n    position: relative;\r\n    outline: none;\r\n\r\n    .default-video{\r\n        width: 100%;\r\n        height: 100%;\r\n    }\r\n\r\n    // .media-con-box{\r\n    //     width: 100%;\r\n    //     height: 50px;\r\n    //     position: absolute;\r\n    //     bottom: 0;\r\n    //     z-index: 5;\r\n    // }\r\n}\r\n</style>"]}]}