{"remainingRequest":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zbywjq/Desktop/cloudwork/VideoBatches/src/views/components/DialogSelectSource.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/src/views/components/DialogSelectSource.vue","mtime":1597110466756},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBBbVNvdXJjZVNlbGVjdCBmcm9tICdhbS1zb3VyY2Utc2VsZWN0JzsKaW1wb3J0IE1lc3NhZ2VBbGVydCBmcm9tICcuL01lc3NhZ2VBbGVydCc7CmltcG9ydCAqIGFzIEludGVyZmFjZSBmcm9tICcuLi8uLi9zdG9yZS9pbnRlcmZhY2VVcmwuanMnOwppbXBvcnQgZ2xvYmFsIGZyb20gJy4uLy4uL3BsdWdpbnMvZ2xvYmFsJzsKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTonZGlhbG9nLXNlbGVjdC1zb3VyY2UnLAogICAgY29tcG9uZW50czp7QW1Tb3VyY2VTZWxlY3QsTWVzc2FnZUFsZXJ0fSwKICAgIGRhdGEoKXsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBkaWFsb2dWaXNpYmxlOmZhbHNlLAogICAgICAgICAgICBlbmFibGVkVHlwZTondmlkZW8nLAogICAgICAgICAgICBlbmFibGVkUmFkaW86ZmFsc2UsCiAgICAgICAgICAgIGNhbGxiYWNrOm51bGwsCiAgICAgICAgICAgIHByb21wdFRleHQ6JycKICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczp7CiAgICAgICAgc2hvdyhvcHRpb25zLGNhbGxiYWNrKXsKICAgICAgICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgICAgICAgICAgdGhpcy5lbmFibGVkVHlwZSA9IG9wdGlvbnMuZW5hYmxlZFR5cGU7CiAgICAgICAgICAgIHRoaXMuZW5hYmxlZFJhZGlvID0gISFvcHRpb25zLmVuYWJsZWRSYWRpbzsKICAgICAgICAgICAgdGhpcy5wcm9tcHRUZXh0ID0gb3B0aW9ucy5wcm9tcHRUZXh0IHx8ICcnOwogICAgICAgICAgICBjb25zb2xlLmxvZygpCiAgICAgICAgICAgIGlmKG9wdGlvbnMuaXNDbGVhckNoZWNrZWQgJiYgdGhpcy4kcmVmcy5zb3VyY2VTZWxlY3QpewogICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5zb3VyY2VTZWxlY3QuY2xlYXJDaGVja2VkKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrOwogICAgICAgICAgICB0aGlzLiRuZXh0VGljaygoKT0+ewogICAgICAgICAgICAgICAgdGhpcy5mbHVzaExpc3RIYW5kbGVyKHRoaXMuJHJlZnMuc291cmNlU2VsZWN0LmZpbHRlclBhcmFtcyk7CiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICBmbHVzaExpc3RIYW5kbGVyKHBhcmFtcyl7CiAgICAgICAgICAgIC8vIC9zdmlwL3Jlc291cmNlcy9vdXRlci1yZXNvdXJjZXMKICAgICAgICAgICAgY29uc29sZS5sb2coJ2ZsdXNoTGlzdEhhbmRsZXInLHBhcmFtcykKCQkJd2luZG93LmF4aW9zLnBvc3QoSW50ZXJmYWNlLmdldE1lZGlhTGlzdCtnbG9iYWwuc2VhcmNoLHBhcmFtcykKCQkJLnRoZW4oKGRhdGEpPT57CgkJCQkvLyBjb25zb2xlLmxvZygnZGF0YScsZGF0YSkKICAgICAgICAgICAgICAgIC8vIHRoaXMucmV0dXJuRGF0YSA9IGRhdGE7CiAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLnNvdXJjZVNlbGVjdC5zZXRSZXR1cm5EYXRhKGRhdGEucmV0dXJuRGF0YSk7CgkJCX0pLmNhdGNoKCAoKT0+ewoKCQkJfSkKICAgICAgICB9LAogICAgICAgIG9uQ2FuY2VsSGFuZGxlcigpewogICAgICAgICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSBmYWxzZTsKICAgICAgICB9LAogICAgICAgIG9uT2tIYW5kbGVyKCl7CiAgICAgICAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IGZhbHNlOwogICAgICAgICAgICBjb25zdCBhcnIgPSB0aGlzLiRyZWZzLnNvdXJjZVNlbGVjdC5nZXRTZWxlY3RTb3VyY2UoKTsKICAgICAgICAgICAgaWYodGhpcy5jYWxsYmFjayAmJiBhcnIubGVuZ3RoID4gMCl7CiAgICAgICAgICAgICAgICB0aGlzLmNhbGxiYWNrKGFycik7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQo="},{"version":3,"sources":["DialogSelectSource.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"DialogSelectSource.vue","sourceRoot":"src/views/components","sourcesContent":["<template>\n    <el-dialog\n        title=\"选择素材\"\n        :visible.sync=\"dialogVisible\"\n        width=\"940px\"\n        :append-to-body=\"true\"\n        class=\"dialog-select-source\">\n        <div class=\"dss-center\">\n            <AmSourceSelect \n            ref=\"sourceSelect\"\n            :enabledType=\"enabledType\"\n            :enabledRadio=\"enabledRadio\"\n            :propPageSize=\"60\"\n            @flushList=\"flushListHandler\"/>\n        </div>\n        <div class=\"dss-footer\">\n            <div class=\"dssf-left\">\n                <MessageAlert v-show=\"promptText.length>0\" :promptText=\"promptText\" :hasClose=\"false\"/>\n            </div>\n            <div class=\"dssf-right\">\n                <el-button type=\"primary\" size=\"small\" @click=\"onCancelHandler\">取消</el-button>\n                <el-button type=\"primary\" size=\"small\" @click=\"onOkHandler\">确定</el-button>\n            </div>\n        </div>\n        \n    </el-dialog>\n</template>\n\n<script>\nimport AmSourceSelect from 'am-source-select';\nimport MessageAlert from './MessageAlert';\nimport * as Interface from '../../store/interfaceUrl.js';\nimport global from '../../plugins/global';\nexport default {\n    name:'dialog-select-source',\n    components:{AmSourceSelect,MessageAlert},\n    data(){\n        return {\n            dialogVisible:false,\n            enabledType:'video',\n            enabledRadio:false,\n            callback:null,\n            promptText:''\n        }\n    },\n    methods:{\n        show(options,callback){\n            this.dialogVisible = true;\n            this.enabledType = options.enabledType;\n            this.enabledRadio = !!options.enabledRadio;\n            this.promptText = options.promptText || '';\n            console.log()\n            if(options.isClearChecked && this.$refs.sourceSelect){\n                this.$refs.sourceSelect.clearChecked();\n            }\n            this.callback = callback;\n            this.$nextTick(()=>{\n                this.flushListHandler(this.$refs.sourceSelect.filterParams);\n            })\n        },\n        flushListHandler(params){\n            // /svip/resources/outer-resources\n            console.log('flushListHandler',params)\n\t\t\twindow.axios.post(Interface.getMediaList+global.search,params)\n\t\t\t.then((data)=>{\n\t\t\t\t// console.log('data',data)\n                // this.returnData = data;\n                this.$refs.sourceSelect.setReturnData(data.returnData);\n\t\t\t}).catch( ()=>{\n\n\t\t\t})\n        },\n        onCancelHandler(){\n            this.dialogVisible = false;\n        },\n        onOkHandler(){\n            this.dialogVisible = false;\n            const arr = this.$refs.sourceSelect.getSelectSource();\n            if(this.callback && arr.length > 0){\n                this.callback(arr);\n                \n            }\n        }\n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.dialog-select-source{\n    ::v-deep >.el-dialog>.el-dialog__body{\n        padding: 5px;\n    }\n    ::v-deep .el-dialog__header{\n        border-bottom: 1px solid #eeeeee;\n    }\n\n    .dss-center{\n        width: 100%;\n        height: 600px;\n    }\n\n    .dss-footer{\n        width: 100%;\n        height: 50px;\n        display: flex;\n        justify-content: space-between;\n        // align-items: center;\n        padding: 0px 20px;\n\n        .dssf-left{\n            width: 270px;\n        }\n        .dssf-right{\n            width: 160px;\n\n            >*{\n                margin-left: 20px;\n            }\n        }\n    }\n}\n</style>"]}]}