{"remainingRequest":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zbywjq/Desktop/cloudwork/VideoBatches/src/views/edit/Load.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/src/views/edit/Load.vue","mtime":1596440067703},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgLy/op4bpopEKICAgICAgICAgICAgaW5pdFZpZGVvOiB7CiAgICAgICAgICAgICAgICBwbGF5OiBmYWxzZSwvL+aSreaUvui/mOaYr+aaguWBnCB0cnVl5pKt5pS+5LitCiAgICAgICAgICAgICAgICB2aWRlb0xlbmd0aDogMCwvL+aXtumVvwogICAgICAgICAgICAgICAgdXJsOiAiLi4vLi4vLi4vcHVibGljL21vdmllMi5tcDQiLC8v6KeG6aKR6K++5Lu2VXJsCiAgICAgICAgICAgICAgICBjdXJyZW50VGltZTogMCwvL+W9k+WJjeaSreaUvuaXtumXtAogICAgICAgICAgICAgICAgbGFzdFRpbWU6IG51bGwsLy/moIforrDml7bpl7TmiLMKICAgICAgICAgICAgICAgIG5hbWU6ICIiLAogICAgICAgICAgICB9LAogICAgICAgICAgICAvL+mfs+mikQogICAgICAgICAgICAKICAgICAgICB9OwogICAgfSwKCQlwbGF5VmlkZW8oKSB7Ly/mkq3mlL7op4bpopEKICAgICAgICAgICAgaWYgKHRoaXMuaW5pdFZpZGVvLnBsYXkpIHsKICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMudmlkZW8ucGF1c2UoKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIE1hdGguYWJzKHRoaXMuaW5pdFZpZGVvLmN1cnJlbnRUaW1lIC0gdGhpcy4kcmVmcy52aWRlby5jdXJyZW50VGltZSkgPiAyID8gdGhpcy4kcmVmcy52aWRlby5jdXJyZW50VGltZSA9IHRoaXMuaW5pdFZpZGVvLmN1cnJlbnRUaW1lIDogJyc7CiAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLnZpZGVvLnBsYXkoKTsKICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMudmlkZW8ubXV0ZWQgPSBmYWxzZQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICB2aWRlb1RpbWVVcGRhdGUoKSB7Ly/mm7TmlrDop4bpopHml7bpl7TjgILoioLmtYHvvIzmr4/np5Lop6blj5HkuIDmrKEKICAgICAgICAgICAgbGV0IG5vd1RpbWUgPSBEYXRlLm5vdygpCiAgICAgICAgICAgIGxldCBnYXBUaW1lID0gMTAwMDsKICAgICAgICAgICAgaWYgKCF0aGlzLmluaXRWaWRlby5sYXN0VGltZSB8fCBub3dUaW1lIC0gdGhpcy5pbml0VmlkZW8ubGFzdFRpbWUgPiBnYXBUaW1lKSB7CiAgICAgICAgICAgICAgICBpZiAodGhpcy4kcmVmcy52aWRlbykgewogICAgICAgICAgICAgICAgICAgIGxldCB0aW1lID0gdGhpcy4kcmVmcy52aWRlby5jdXJyZW50VGltZTsKICAgICAgICAgICAgICAgICAgICB0aGlzLmluaXRWaWRlby5jdXJyZW50VGltZSA9IHRpbWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB0aGlzLmluaXRWaWRlby5sYXN0VGltZSA9IG5vd1RpbWUKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgY2hhbmdlVmlkZW9UaW1lKHZhbCkgey8v5pS55Y+Y6KeG6aKR5pe26Ze0CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHZhbCwgJ3ZpZGVvJykKICAgICAgICAgICAgaWYgKHRoaXMuJHJlZnMudmlkZW8pIHsKICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMudmlkZW8uY3VycmVudFRpbWUgPSB2YWw7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGdldEF1ZGlvTGVuZ3RoKHR5cGUpIHsvL+iOt+WPlumfs+inhumikeaXtumVvyAx6Z+z6aKRIDLop4bpopEKICAgICAgICAgICAgaWYgKHR5cGUgPT0gMSkgewogICAgICAgICAgICAgICAgdGhpcy5pbml0QXVkaW8uYXVkaW9MZW5ndGggPSB0aGlzLiRyZWZzLmF1ZGlvLmR1cmF0aW9uCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn6I635Y+W6Z+z6aKR5pe26ZW/JywgdGhpcy4kcmVmcy5hdWRpby5kdXJhdGlvbikKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAodHlwZSA9PSAyKSB7CiAgICAgICAgICAgICAgICB0aGlzLmluaXRWaWRlby52aWRlb0xlbmd0aCA9IHRoaXMuJHJlZnMudmlkZW8uZHVyYXRpb24KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfojrflj5bop4bpopHml7bplb8nLCB0aGlzLiRyZWZzLnZpZGVvLmR1cmF0aW9uKQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBoYW5kUGxheSh0eXBlLCBzdGF0dXMpIHsvL+mfs+inhumikeaSreaUvuaaguWBnCB0eXBlOjEg6Z+z6aKRIDLop4bpopEgc3RhdHVzIDHmkq3mlL4gMuaaguWBnAogICAgICAgICAgICBpZiAodHlwZSA9PSAxKSB7CiAgICAgICAgICAgICAgICBzdGF0dXMgPT0gMSA/IHRoaXMuaW5pdEF1ZGlvLnBsYXkgPSB0cnVlIDogdGhpcy5pbml0QXVkaW8ucGxheSA9IGZhbHNlOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgc3RhdHVzID09IDEgPyB0aGlzLmluaXRWaWRlby5wbGF5ID0gdHJ1ZSA6IHRoaXMuaW5pdFZpZGVvLnBsYXkgPSBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgIH0KfQo="},{"version":3,"sources":["Load.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Load.vue","sourceRoot":"src/views/edit","sourcesContent":["<template>\n    <div class=\"video-box\">\n        <div class=\"video_playIcon\" v-if=\"!initVideo.play\" @click=\"playVideo\"></div>\n        //video API相关获取与调用\n        <video class=\"video\" ref=\"video\" :src=\"initVideo.url\" @pause=\"handPlay(2,2)\" @play=\"handPlay(2,1)\"\n            @loadedmetadata=\"getAudioLength(2)\" @timeupdate=\"videoTimeUpdate\" @click=\"playVideo\">\n            该浏览器不支持video\n        </video>\n        <div class=\"video_control\">\n            <div class=\"progress\">\n                //进度条\n                <el-slider class=\"commonSlider\" :show-tooltip=\"false\" v-model=\"initVideo.currentTime\"\n                        :max=\"initVideo.videoLength\" @change=\"changeVideoTime\">\n                </el-slider>\n                <div class=\"time\">\n                    //videoLength 总时间，currentTime 当前时间，videoTime 自定义过滤器\n                    <span>{{initVideo.currentTime | videoTime}}</span>\n                    <span>{{initVideo.videoLength | videoTime}}</span>\n                </div>\n            </div>\n        </div>\n    </div>\n\n</template>\n\n<script>\nexport default {\n    data() {\n        return {\n            //视频\n            initVideo: {\n                play: false,//播放还是暂停 true播放中\n                videoLength: 0,//时长\n                url: \"../../../public/movie2.mp4\",//视频课件Url\n                currentTime: 0,//当前播放时间\n                lastTime: null,//标记时间戳\n                name: \"\",\n            },\n            //音频\n            \n        };\n    },\n\t\tplayVideo() {//播放视频\n            if (this.initVideo.play) {\n                this.$refs.video.pause();\n            } else {\n                Math.abs(this.initVideo.currentTime - this.$refs.video.currentTime) > 2 ? this.$refs.video.currentTime = this.initVideo.currentTime : '';\n                this.$refs.video.play();\n                this.$refs.video.muted = false\n            }\n        },\n        videoTimeUpdate() {//更新视频时间。节流，每秒触发一次\n            let nowTime = Date.now()\n            let gapTime = 1000;\n            if (!this.initVideo.lastTime || nowTime - this.initVideo.lastTime > gapTime) {\n                if (this.$refs.video) {\n                    let time = this.$refs.video.currentTime;\n                    this.initVideo.currentTime = time;\n                }\n                this.initVideo.lastTime = nowTime\n            }\n        },\n        changeVideoTime(val) {//改变视频时间\n            console.log(val, 'video')\n            if (this.$refs.video) {\n                this.$refs.video.currentTime = val;\n            }\n        },\n        getAudioLength(type) {//获取音视频时长 1音频 2视频\n            if (type == 1) {\n                this.initAudio.audioLength = this.$refs.audio.duration\n                console.log('获取音频时长', this.$refs.audio.duration)\n            }\n            if (type == 2) {\n                this.initVideo.videoLength = this.$refs.video.duration\n                console.log('获取视频时长', this.$refs.video.duration)\n            }\n        },\n        handPlay(type, status) {//音视频播放暂停 type:1 音频 2视频 status 1播放 2暂停\n            if (type == 1) {\n                status == 1 ? this.initAudio.play = true : this.initAudio.play = false;\n            } else {\n                status == 1 ? this.initVideo.play = true : this.initVideo.play = false;\n            }\n        }\n}\n</script>\n\n<style>\n\n</style>"]}]}