{"remainingRequest":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zbywjq/Desktop/cloudwork/VideoBatches/src/views/components/titleTail/AmItem.vue?vue&type=style&index=0&id=13991cd5&lang=scss&scoped=true&","dependencies":[{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/src/views/components/titleTail/AmItem.vue","mtime":1597289319048},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCi5hbS10dC1pdGVtew0KICAgIHdpZHRoOiAxMDAlOw0KICAgIGhlaWdodDogMjA0cHg7DQogICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjsNCiAgICBib3JkZXI6MXB4IHNvbGlkIHJnYmEoMjM4LDIzOCwyMzgsMSk7DQogICAgYm9yZGVyLXJhZGl1czo0cHg7DQogICAgbWFyZ2luLWJvdHRvbTogMzBweDsNCiAgICBkaXNwbGF5OiBmbGV4Ow0KICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQoNCg0KICAgICY6aG92ZXJ7DQogICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICM2NmIxZmY7DQogICAgfQ0KDQogICAgLmF0aS1jb2x7DQogICAgICAgIHdpZHRoOiBhdXRvOw0KICAgICAgICBoZWlnaHQ6IDEwMCU7DQogICAgfQ0KICAgIC5hdGktY29sLmNvbDF7DQogICAgICAgIHdpZHRoOiA0MHB4Ow0KICAgICAgICBoZWlnaHQ6IDQwcHg7DQogICAgICAgIG1hcmdpbjogMHB4IDQwcHg7DQogICAgICAgIC8vIGJhY2tncm91bmQtY29sb3I6IGFudGlxdWV3aGl0ZTsNCiAgICAgICAgY3Vyc29yOiBwb2ludGVyOw0KDQogICAgICAgIC5hdGktcmFkaW8tc2hvd3sNCiAgICAgICAgICAgIHdpZHRoOiAyMHB4Ow0KICAgICAgICAgICAgaGVpZ2h0OiAyMHB4Ow0KICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlOw0KICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI2RkZGRkZDsNCiAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsNCiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKDEwcHgsIDEwcHgpOw0KICAgICAgICB9DQoNCiAgICB9DQoNCiAgICAuYXRpLWNvbC5jb2wyew0KICAgICAgICB3aWR0aDogMTMwcHg7DQogICAgICAgIGhlaWdodDogMTIwcHg7DQogICAgICAgIG1hcmdpbjogMHB4IDIwcHg7DQoNCiAgICAgICAgLmF0aS10aXRsZXsNCiAgICAgICAgICAgIHdpZHRoOiAxMDAlOw0KICAgICAgICAgICAgaGVpZ2h0OiA2NXB4Ow0KICAgICAgICAgICAgcGFkZGluZzogMTBweCAwcHg7DQogICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuOw0KICAgICAgICAgICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7DQogICAgICAgIH0NCg0KICAgICAgICAuYXRpLWFzcGVjdC1yYXRpb3sNCiAgICAgICAgICAgIHdpZHRoOiA4MHB4Ow0KICAgICAgICAgICAgaGVpZ2h0OiA0MHB4Ow0KICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2Y1ZjVmNTsNCiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDsNCiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgICAgICAgICAgIGZvbnQtc2l6ZTogMjBweDsNCiAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiA0MHB4Ow0KICAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICAuYXRpLWNvbC5jb2wzew0KICAgICAgICBmbGV4OiAxOw0KICAgICAgICB3aWR0aDogMzAwcHg7DQogICAgICAgIGhlaWdodDogMTQ0cHg7DQogICAgICAgIGRpc3BsYXk6IGZsZXg7DQoNCiAgICAgICAgLmF0aS10dC1pdGVtew0KICAgICAgICAgICAgd2lkdGg6IDI1NnB4Ow0KICAgICAgICAgICAgaGVpZ2h0OiAxNDRweDsNCiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6NHB4Ow0KICAgICAgICAgICAgbWFyZ2luOjBweCAyMHB4Ow0KICAgICAgICAgICAgYm9yZGVyLXJhZGl1czo0cHg7DQogICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuOw0KICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2Y1ZjVmNTsNCiAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsNCiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsNCg0KICAgICAgICAgICAgLmF0aS10eXBlLW5hbWV7DQogICAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOw0KICAgICAgICAgICAgICAgIHRvcDogMHB4Ow0KICAgICAgICAgICAgICAgIGxlZnQ6IDBweDsNCiAgICAgICAgICAgICAgICB3aWR0aDogNjJweDsNCiAgICAgICAgICAgICAgICBoZWlnaHQ6IDMwcHg7DQogICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLDAsMCwwLjUpOw0KICAgICAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAzMHB4Ow0KICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgICAgICAgICAgICAgICBjb2xvcjogI2ZmZmZmZjsNCiAgICAgICAgICAgICAgICB6LWluZGV4OiAxOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAudHQtY29udGVudHsNCiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAjZWVlOw0KICAgICAgICAgICAgICAgIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudCg0NWRlZyxyZ2JhKDAsMCwwLC4yNSkgMjUlLHRyYW5zcGFyZW50IDAsdHJhbnNwYXJlbnQgNzUlLHJnYmEoMCwwLDAsLjI1KSAwKSxsaW5lYXItZ3JhZGllbnQoNDVkZWcscmdiYSgwLDAsMCwuMjUpIDI1JSx0cmFuc3BhcmVudCAwLHRyYW5zcGFyZW50IDc1JSxyZ2JhKDAsMCwwLC4yNSkgMCk7DQogICAgICAgICAgICAgICAgYmFja2dyb3VuZC1zaXplOiAxNnB4IDE2cHg7DQogICAgICAgICAgICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogMCAwLDI0cHggMjRweDsNCiAgICAgICAgICAgICAgICB3aWR0aDogMTAwJTsNCiAgICAgICAgICAgICAgICBoZWlnaHQ6IDEwMCU7DQogICAgICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOw0KDQogICAgICAgICAgICAgICAgaW1new0KICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAmLmFyOTE2ew0KICAgICAgICAgICAgICAgIC50dC1jb250ZW50ew0KICAgICAgICAgICAgICAgICAgICB3aWR0aDogODFweDsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICANCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIC5hdGktY29sLmNvbDR7DQogICAgICAgIHdpZHRoOiA0MDBweDsNCiAgICAgICAgaGVpZ2h0OiA0MHB4Ow0KICAgIH0NCiAgICAuYXRpLWNvbC5jb2w0LmNhbkVkaXR7DQogICAgICAgIHdpZHRoOiA0MDBweDsNCiAgICB9DQp9DQoNCi5hbS10dC1pdGVtLnNlbGVjdGVkew0KICAgIGJvcmRlcjogMXB4IHNvbGlkICM0MDlFRkY7DQogICAgYm94LXNoYWRvdzowcHggMHB4IDEwcHggcmdiYSgwLDAsMCwwLjE1KTsNCg0KICAgIC5hdGktcmFkaW8tc2hvd3sNCiAgICAgICAgYm9yZGVyLWNvbG9yOiAjNDA5RUZGOw0KICAgICAgICAmOmJlZm9yZXsNCiAgICAgICAgICAgIGNvbnRlbnQ6ICcnOw0KICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOw0KICAgICAgICAgICAgd2lkdGg6IDEwcHggOw0KICAgICAgICAgICAgaGVpZ2h0OiAxMHB4Ow0KICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoNHB4LCA0cHgpOw0KICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlOw0KICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzQwOUVGRjsNCiAgICAgICAgfQ0KICAgIH0NCn0NCkBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDE2MDBweCkgew0KICAgIC5hbS10dC1pdGVtew0KICAgICAgICAuYXRpLWNvbC5jb2wxew0KICAgICAgICAgICAgbWFyZ2luOiAwcHggMjBweDsNCiAgICAgICAgfQ0KDQogICAgICAgIC5hdGktY29sLmNvbDJ7DQogICAgICAgICAgICB3aWR0aDogOTBweDsNCiAgICAgICAgICAgIG1hcmdpbjogMHB4IDEwcHg7DQogICAgICAgIH0NCg0KICAgICAgICAuYXRpLWNvbC5jb2wzew0KICAgICAgICAgICAgbWluLXdpZHRoOiA1MjBweDsNCiAgICAgICAgICAgIC5hdGktdHQtaXRlbXsNCiAgICAgICAgICAgICAgICBtYXJnaW46IDBweCAxMHB4Ow0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICB9DQp9DQo="},{"version":3,"sources":["AmItem.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+PA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"AmItem.vue","sourceRoot":"src/views/components/titleTail","sourcesContent":["<template>\r\n    <div class=\"am-tt-item\" :class=\"{selected:info.isSelected}\" @click=\"radioClickHandler\" @dblclick=\"radioClickHandler2\">\r\n        <div class=\"ati-col col1\">\r\n            <div class=\"ati-radio\" >\r\n                <div class=\"ati-radio-show\">\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"ati-col col2\">\r\n            <div class=\"ati-title\">\r\n                {{info.templateName}}\r\n            </div>\r\n            <div class=\"ati-aspect-ratio\">\r\n                {{info.aspectRatio}}\r\n            </div>\r\n        </div>\r\n        <div class=\"ati-col col3\">\r\n            <div class=\"ati-tt-item\" :class=\"aspectRatioClass\" v-for=\"(item,index) in showDataList\" :key=\"index\" @click=\"itemClickHandler(item,$event)\">\r\n                <div class=\"ati-type-name\">{{item.typeName}}</div>\r\n                <div class=\"tt-content\">\r\n                    <img v-for=\"(item2,index2) in item.keyFrameUrls\" :key=\"index2\" :src=\"item2.url\" :style=\"item2.pos\"/>\r\n                    <!-- <img :src=\"item.KeyFrameUrl\" :style=\"imgPosStyle(item)\"/> -->\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"ati-col col4\" :class=\"{canEdit:!canEdit}\">\r\n            <el-button type=\"primary\" size=\"mini\" @click=\"previewHandler\">预览</el-button>\r\n            <el-button  size=\"mini\"  @click=\"topHandler\">置顶</el-button>\r\n            <el-button  size=\"mini\"  v-if=\"canEdit\" @click=\"editHandler\">编辑</el-button>\r\n            <el-button  size=\"mini\"  v-if=\"canEdit\" @click=\"deleteHandler\">删除</el-button>\r\n            \r\n        </div>\r\n\r\n        <DialogSeting ref=\"createWindow\" />\r\n        <DialogPreview ref=\"previewWindow\" />\r\n        <DialogVideoPreview ref=\"videoPreview\"/>\r\n    </div>\r\n</template>\r\n<script>\r\nimport DialogSeting from './DialogSeting';\r\nimport DialogPreview from './DialogPreview';\r\nimport DialogVideoPreview from '../DialogVideoPreview';\r\nexport default {\r\n    name:'am-tt-item',\r\n    components:{DialogSeting,DialogPreview,DialogVideoPreview},\r\n    props:{\r\n        info:{\r\n            type:Object,\r\n            default:{}\r\n        },\r\n        canEdit:{\r\n            type:Boolean,\r\n            default:true\r\n        }\r\n    },\r\n    data(){\r\n        return {\r\n            dialogVisible:false,\r\n        }\r\n    },\r\n    computed:{\r\n        dataList(){\r\n            let data = this.info.templateData;  \r\n            if(typeof data === 'string'){\r\n                if(data != ''){\r\n                    data = JSON.parse(data);\r\n                }\r\n            }\r\n            return data.TitleTail;\r\n        },\r\n        showDataList(){\r\n            let rawDataList = this.dataList;\r\n            \r\n            const list = [],water=[];\r\n            for(let i=0;i<rawDataList.length;i++){\r\n                let item = rawDataList[i];\r\n                \r\n                if(item.ClipType === 'Title_Video' || item.ClipType === 'Tail_Video'){\r\n                    let w=256,h=144;\r\n                    if(this.info.aspectRatio=='9:16'){\r\n                        w = 81;\r\n                    }\r\n                    let willX=0,willY=0,willW=w,willH=h;\r\n                    if(w/h > item.Width/item.Height){\r\n                        willH = h;\r\n                        willW = h * item.Width/item.Height;\r\n                        willX = (w - willW)*0.5;\r\n                    }else if(w/h < item.Width/item.Height){\r\n                        willW = w;\r\n                        willH = w * item.Height/item.Width;\r\n                        willY = (h - willH)*0.5;\r\n                    }\r\n                    list.push({\r\n                        typeName:item.ClipType === 'Title_Video'?'片头':'片尾',\r\n                        keyFrameUrls:[\r\n                            {\r\n                                url: item.KeyFrameUrl,\r\n                                preUrl:item.PreviewUrl,\r\n                                pos: {\r\n                                    left:willX+'px',\r\n                                    top:willY+'px',\r\n                                    width:willW+'px',\r\n                                    height:willH+'px',\r\n                                }\r\n                            }\r\n                        ]\r\n                    })\r\n                }else if(item.ClipType === 'WaterMark_Image'){\r\n                    water.push(item);\r\n                    \r\n                }\r\n            }\r\n            if(water.length>0){\r\n                let obj = {\r\n                    typeName:'水印',\r\n                    keyFrameUrls:[]\r\n                }\r\n                for(let i=0;i<water.length;i++){\r\n                    let item = water[i];\r\n                    obj.keyFrameUrls.push({\r\n                        url:item.KeyFrameUrl,\r\n                        preUrl:item.PreviewUrl,\r\n                        pos:{\r\n                            left:item.Pos.x*100+'%',\r\n                            top:item.Pos.y*100+'%',\r\n                            width:item.Pos.width*100+'%',\r\n                            height:item.Pos.height*100+'%',\r\n                        }\r\n                    })\r\n                }\r\n                list.push(obj);\r\n            }\r\n            return list;\r\n\r\n        },\r\n        aspectRatioClass(){\r\n            if(this.info.aspectRatio=='9:16'){\r\n                return 'ar916';\r\n            }\r\n            return '';\r\n        }\r\n    },\r\n    created(){\r\n        // {\r\n        //                 \"ClipId\":\"5ECF2643B0A44A39B35000A20A2A9F8B\",\r\n        //                 \"ClipType\":\"Title_Video\",\r\n        //                 \"Duration\":10027,\r\n        //                 \"Width\":1280,\r\n        //                 \"Height\":720,\r\n        //                 \"KeyFrameUrl\":\"http://172.29.3.98:8000/media/image/5ECF264473104323B4F500D70A2A691A/video_title.mp4_20200618_182234242.jpg\",\r\n        //                 \"PreviewUrl\":\"http://172.29.3.98:8000/media/video/video_title.mp4\",\r\n        //                 \"HighPath\":\"X:/xcontent/vod/default/cpu/video/20200528/5ECF2643C9C044FD971000A10A2A9F8B.mp4\"\r\n        //             },\r\n        //             {\r\n        //                 \"ClipId\":\"5ECF2643B0A44A39B35000A20A2A9F8B\",\r\n        //                 \"ClipType\":\"Tail_Video\",\r\n        //                 \"Duration\":4054,\r\n        //                 \"Width\":1920,\r\n        //                 \"Height\":1080,\r\n        //                 \"KeyFrameUrl\":\"http://172.29.3.98:8000/media/image/video_tail.mp4_20200618_182305046.jpg\",\r\n        //                 \"PreviewUrl\":\"http://172.29.3.98:8000/media/video/video_tail.mp4\",\r\n        //                 \"HighPath\":\"X:/xcontent/vod/default/cpu/video/20200528/5ECF2643C9C044FD971000A10A2A9F8B.mp4\"\r\n        //             },\r\n        //             {\r\n        //                 \"ClipId\":\"5EE82DAD94B84CE7A00B00A90A2A9F8B\",\r\n        //                 \"ClipType\":\"WaterMark_Image\",\r\n        //                 \"Width\":1366,\r\n        //                 \"Height\":768,\r\n        //                 \"KeyFrameUrl\":\"https://nginx1.xctdev.chinamcloud.cn/xcontent/vod/default/cpu/image/20200616/5EE82DAD94B84CE7A00B00A90A2A9F8B.jpg\",\r\n        //                 \"PreviewUrl\":\"https://nginx1.xctdev.chinamcloud.cn/xcontent/vod/default/cpu/image/20200616/5EE82DAD94B84CE7A00B00A90A2A9F8B.jpg\",\r\n        //                 \"HighPath\":\"X:/xcontent/vod/default/cpu/image/20200616/5EE82DAD94B84CE7A00B00A90A2A9F8B.jpg\",\r\n        //                 \"Pos\":{\r\n        //                     \"x\":0.2,\r\n        //                     \"y\":0.3,\r\n        //                     \"width\":0.3,\r\n        //                     \"height\":0.2\r\n        //                 }\r\n        //             }\r\n    },\r\n    methods:{\r\n    \r\n        radioClickHandler(event){\r\n            event.stopPropagation();\r\n            this.$emit('selected',this.info);\r\n        },\r\n        radioClickHandler2(event){\r\n            event.stopPropagation();\r\n            this.$emit('db_selected',this.info);\r\n        },\r\n        previewHandler(event){\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n            this.$refs.previewWindow.show({\r\n                aspectRatio:this.info.aspectRatio,\r\n                dataList:this.dataList\r\n                \r\n            });\r\n        },\r\n        topHandler(event){\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n            this.$store.dispatch('tl_topTitleTail',{templateId:this.info.templateId}).then( data=>{\r\n                console.log('置顶片头片尾',data);\r\n                this.$store.dispatch('tl_loadTitleTailList')\r\n            }).catch(err=>{\r\n                this.$message.error('置顶片头片尾失败');\r\n            })\r\n        },\r\n        editHandler(event){\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n            this.$refs.createWindow.show({\r\n                isCreate:false,\r\n                info: this.info\r\n            },()=>{\r\n\r\n            });\r\n        },\r\n        deleteHandler(event){\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n            this.$confirm('删除后不可恢复，确定删除模板？','提示', {\r\n                confirmButtonText: '删除',\r\n                cancelButtonText: '取消',\r\n                type: 'warning',\r\n                center: true\r\n            }).then(() => {\r\n                this.$store.dispatch('tl_delTitleTail',{ids:this.info.templateId}).then( data=>{\r\n                    console.log('删除模板',data);\r\n                    this.$store.dispatch('tl_loadTitleTailList')\r\n                }).catch(err=>{\r\n                    this.$message.error('删除片头片尾失败');\r\n                })\r\n            }).catch((event) => {\r\n                console.log('event',event)\r\n            })\r\n            \r\n        },\r\n        itemClickHandler(item,$event){\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n            if(item.typeName == '水印') return;\r\n            // console.log(item)\r\n            this.$refs.videoPreview.show({\r\n                preUrl:item.keyFrameUrls[0].preUrl,\r\n                title:''\r\n            })\r\n            \r\n            // console.log(item.keyFrameUrls)\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.am-tt-item{\r\n    width: 100%;\r\n    height: 204px;\r\n    background-color: #ffffff;\r\n    border:1px solid rgba(238,238,238,1);\r\n    border-radius:4px;\r\n    margin-bottom: 30px;\r\n    display: flex;\r\n    align-items: center;\r\n\r\n\r\n    &:hover{\r\n        border: 1px solid #66b1ff;\r\n    }\r\n\r\n    .ati-col{\r\n        width: auto;\r\n        height: 100%;\r\n    }\r\n    .ati-col.col1{\r\n        width: 40px;\r\n        height: 40px;\r\n        margin: 0px 40px;\r\n        // background-color: antiquewhite;\r\n        cursor: pointer;\r\n\r\n        .ati-radio-show{\r\n            width: 20px;\r\n            height: 20px;\r\n            border-radius: 50%;\r\n            border: 1px solid #dddddd;\r\n            position: relative;\r\n            transform: translate(10px, 10px);\r\n        }\r\n\r\n    }\r\n\r\n    .ati-col.col2{\r\n        width: 130px;\r\n        height: 120px;\r\n        margin: 0px 20px;\r\n\r\n        .ati-title{\r\n            width: 100%;\r\n            height: 65px;\r\n            padding: 10px 0px;\r\n            overflow: hidden;\r\n            text-overflow: ellipsis;\r\n        }\r\n\r\n        .ati-aspect-ratio{\r\n            width: 80px;\r\n            height: 40px;\r\n            background-color: #f5f5f5;\r\n            border-radius: 4px;\r\n            text-align: center;\r\n            font-size: 20px;\r\n            line-height: 40px;\r\n            font-weight: bold;\r\n        }\r\n    }\r\n\r\n    .ati-col.col3{\r\n        flex: 1;\r\n        width: 300px;\r\n        height: 144px;\r\n        display: flex;\r\n\r\n        .ati-tt-item{\r\n            width: 256px;\r\n            height: 144px;\r\n            border-radius:4px;\r\n            margin:0px 20px;\r\n            border-radius:4px;\r\n            overflow: hidden;\r\n            background-color: #f5f5f5;\r\n            position: relative;\r\n            display: flex;\r\n            justify-content: center;\r\n\r\n            .ati-type-name{\r\n                position: absolute;\r\n                top: 0px;\r\n                left: 0px;\r\n                width: 62px;\r\n                height: 30px;\r\n                background-color: rgba(0,0,0,0.5);\r\n                line-height: 30px;\r\n                text-align: center;\r\n                color: #ffffff;\r\n                z-index: 1;\r\n            }\r\n\r\n            .tt-content{\r\n                background: #eee;\r\n                background-image: linear-gradient(45deg,rgba(0,0,0,.25) 25%,transparent 0,transparent 75%,rgba(0,0,0,.25) 0),linear-gradient(45deg,rgba(0,0,0,.25) 25%,transparent 0,transparent 75%,rgba(0,0,0,.25) 0);\r\n                background-size: 16px 16px;\r\n                background-position: 0 0,24px 24px;\r\n                width: 100%;\r\n                height: 100%;\r\n                position: relative;\r\n\r\n                img{\r\n                    position: absolute;\r\n                }\r\n            }\r\n\r\n            &.ar916{\r\n                .tt-content{\r\n                    width: 81px;\r\n                }\r\n            }\r\n            \r\n        }\r\n    }\r\n\r\n    .ati-col.col4{\r\n        width: 400px;\r\n        height: 40px;\r\n    }\r\n    .ati-col.col4.canEdit{\r\n        width: 400px;\r\n    }\r\n}\r\n\r\n.am-tt-item.selected{\r\n    border: 1px solid #409EFF;\r\n    box-shadow:0px 0px 10px rgba(0,0,0,0.15);\r\n\r\n    .ati-radio-show{\r\n        border-color: #409EFF;\r\n        &:before{\r\n            content: '';\r\n            position: absolute;\r\n            width: 10px ;\r\n            height: 10px;\r\n            transform: translate(4px, 4px);\r\n            border-radius: 50%;\r\n            background-color: #409EFF;\r\n        }\r\n    }\r\n}\r\n@media screen and (max-width: 1600px) {\r\n    .am-tt-item{\r\n        .ati-col.col1{\r\n            margin: 0px 20px;\r\n        }\r\n\r\n        .ati-col.col2{\r\n            width: 90px;\r\n            margin: 0px 10px;\r\n        }\r\n\r\n        .ati-col.col3{\r\n            min-width: 520px;\r\n            .ati-tt-item{\r\n                margin: 0px 10px;\r\n            }\r\n        }\r\n\r\n    }\r\n}\r\n</style>"]}]}