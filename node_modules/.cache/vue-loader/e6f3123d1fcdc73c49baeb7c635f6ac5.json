{"remainingRequest":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zbywjq/Desktop/cloudwork/VideoBatches/src/views/components/DialogMediaControl.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/src/views/components/DialogMediaControl.vue","mtime":1597656881032},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBNeVNsaWRlciBmcm9tICcuL015U2xpZGVyJzsKaW1wb3J0IFV0aWxzIGZyb20gJ0AvbGlicy9VdGlscy5qcyc7CmV4cG9ydCBkZWZhdWx0IHsKICAgIGNvbXBvbmVudHM6e015U2xpZGVyfSwKICAgIHByb3BzOnsKICAgICAgICBpc1BhdXNlOnsKICAgICAgICAgICAgdHlwZTpCb29sZWFuLAogICAgICAgICAgICBkZWZhdWx0OiBmYWxzZQogICAgICAgIH0sCiAgICAgICAgY29udHJvbFN0YXR1czp7CiAgICAgICAgICAgIHR5cGU6U3RyaW5nLAogICAgICAgICAgICBkZWZhdWx0OidlYXN5JwogICAgICAgIH0sCiAgICAgICAgCiAgICAgICAgCgogICAgfSwKICAgIGRhdGEoKXsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBjdXJyZW50VGltZTowLAogICAgICAgICAgICBkdXJhdGlvbjowLAogICAgICAgICAgICB2b2x1bWU6MSwKICAgICAgICAgICAgcmVjb3JkVm9sdW1lOjEsCiAgICAgICAgICAgIGlzTXV0ZTpmYWxzZSwKICAgICAgICAgICAgLy8gY3VyVGltZVN0cjonMDA6MDA6MDAnLAogICAgICAgICAgICAvLyBkdXJUaW1lU3RyOicwMDowMDowMCcsCiAgICAgICAgICAgIHNob3dWb2x1bWVTbGlkZXI6IGZhbHNlLAogICAgICAgICAgICBwcm9ncmVzc1ZhbHVlOjAsLy8wLTEKICAgICAgICB9CiAgICB9LAogICAgCiAgICBjb21wdXRlZDp7CiAgICAgICAgCiAgICAgICAgdm9sdW1lU3RhdHVzKCl7CiAgICAgICAgICAgIGlmKHRoaXMudm9sdW1lID09PSAwKSByZXR1cm4gJ2xldmVsMCc7CiAgICAgICAgICAgIGlmKHRoaXMudm9sdW1lIDw9IDAuMikgcmV0dXJuICdsZXZlbDEnOwogICAgICAgICAgICBpZih0aGlzLnZvbHVtZSA8PSAwLjYpIHJldHVybiAnbGV2ZWwyJzsKICAgICAgICAgICAgcmV0dXJuICdsZXZlbDMnOwogICAgICAgIH0sCiAgICAgICAgY3VyVGltZVN0cigpewogICAgICAgICAgICByZXR1cm4gVXRpbHMuZ2V0Rm9ybWF0SE1TKHRoaXMuY3VycmVudFRpbWUqMTAwMCk7CiAgICAgICAgICAgIAogICAgICAgIH0sCiAgICAgICAgZHVyVGltZVN0cigpewogICAgICAgICAgICByZXR1cm4gVXRpbHMuZ2V0Rm9ybWF0SE1TKHRoaXMuZHVyYXRpb24qMTAwMCk7CiAgICAgICAgICAgIAogICAgICAgIH0KICAgIH0sCiAgICBtZXRob2RzOnsKICAgICAgICBzZXRDdXJyZW50VGltZSh2KXsKICAgICAgICAgICAgdGhpcy5jdXJyZW50VGltZSA9IHY7CiAgICAgICAgICAgIHRoaXMucHJvZ3Jlc3NWYWx1ZSA9IHRoaXMuZHVyYXRpb24gPT0gMD8wOih2L3RoaXMuZHVyYXRpb24pOwogICAgICAgICAgICAKICAgICAgICAKICAgICAgICB9LAogICAgICAgIHNldER1cmF0aW9uKHYpewogICAgICAgICAgICB0aGlzLmR1cmF0aW9uID0gdjsKICAgICAgICB9LAogICAgICAgIHNldFZvdW1lKHYpewogICAgICAgICAgICB0aGlzLnZvbHVtZSA9IHY7CiAgICAgICAgfSwKICAgICAgICB2YnRuX21vdXNlb3ZlcigpewogICAgICAgICAgICB0aGlzLnNob3dWb2x1bWVTbGlkZXIgPSB0cnVlOwogICAgICAgIH0sCiAgICAgICAgdmJ0bl9tb3VzZW91dCgpewogICAgICAgICAgICB0aGlzLnNob3dWb2x1bWVTbGlkZXIgPSBmYWxzZTsKICAgICAgICB9LAogICAgICAgIGZvcm1hdFRvb2x0aXBTbGlkZXIodmFsdWUpewogICAgICAgICAgICByZXR1cm4gTWF0aC5mbG9vcih2YWx1ZSoxMDApICsgJyUnCiAgICAgICAgfSwKICAgICAgICB2b2x1bWVDaGFuZ2VIYW5kbGVyKHYpewogICAgICAgICAgICB0aGlzLmlzTXV0ZSA9IHY9PTA7CiAgICAgICAgICAgIHRoaXMuJGVtaXQoJ3ZvbHVtZS1jaGFuZ2UnLHYpOwogICAgICAgIH0sCiAgICAgICAgcGxheUhhbmRsZXIoKXsKICAgICAgICAgICAgdGhpcy4kZW1pdCgncGxheScpOwogICAgICAgIH0sCiAgICAgICAgcGF1c2VIYW5kbGVyKCl7CiAgICAgICAgICAgIHRoaXMuJGVtaXQoJ3BhdXNlJyk7CiAgICAgICAgfSwKICAgICAgICB2YWx1ZV9jaGFuZ2VIYW5kbGVyKHYpewogICAgICAgICAgICAvLyBjb25zb2xlLmxvZygndmFsdWVfY2hhbmdlSGFuZGxlcicsdixldmVudCkKICAgICAgICAgICAgdGhpcy4kZW1pdCgnc2Vlaycsdip0aGlzLmR1cmF0aW9uKTsKICAgICAgICB9LAogICAgICAgIG11dGVDbGlja0hhbmRsZXIoKXsKICAgICAgICAgICAgdGhpcy5pc011dGUgPSAhdGhpcy5pc011dGU7CiAgICAgICAgICAgIGlmKHRoaXMuaXNNdXRlKXsKICAgICAgICAgICAgICAgIHRoaXMucmVjb3JkVm9sdW1lID0gdGhpcy52b2x1bWU7CiAgICAgICAgICAgICAgICB0aGlzLnZvbHVtZSA9IDA7CiAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgdGhpcy52b2x1bWUgPSB0aGlzLnJlY29yZFZvbHVtZSB8fCAwLjU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy4kZW1pdCgndm9sdW1lX2NoYW5nZScsdGhpcy52b2x1bWUpOwogICAgICAgIH0KICAgIH0KfQo="},{"version":3,"sources":["DialogMediaControl.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DialogMediaControl.vue","sourceRoot":"src/views/components","sourcesContent":["<template>\n    <div class=\"media-control\" :class=\"controlStatus\">\n        <div class=\"progress-box\">\n            <!-- <el-slider v-model=\"currentTime\" \n            @input=\"progressChangeHandler(this,$event)\"\n            :min=\"0\"\n            :max=\"duration\"></el-slider> -->\n            <MySlider :value=\"progressValue\" :hiddenKey=\"controlStatus=='easy'\" @value_change=\"value_changeHandler\"/>\n        </div>\n        <div class=\"control-btns\">\n            <div class=\"cb-left\">\n                <div class=\"cb-btn btn-play\" v-if=\"isPause\" @click=\"playHandler\">\n                    <svg class=\"icon svg-icon\" aria-hidden=\"true\">\n                        <use xlink:href=\"#iconbofang\"></use>\n                    </svg>\n                    \n                </div>\n                <div class=\"cb-btn btn-pause\" v-if=\"!isPause\" @click=\"pauseHandler\">\n                    <svg class=\"icon svg-icon\" aria-hidden=\"true\">\n                        <use xlink:href=\"#iconzantingtingzhi\"></use>\n                    </svg>\n                </div>\n                <div class=\"cb-time\">\n                    <span>{{curTimeStr}}</span>\n                    <span>/</span>\n                    <span>{{durTimeStr}}</span>\n                </div>\n            </div>\n            <div class=\"cb-right\">\n                <div class=\"cb-btn btn-volume\" @mouseover=\"vbtn_mouseover\" @mouseout=\"vbtn_mouseout\">\n                    <div class=\"cb-btn-click\"  @click=\"muteClickHandler\">\n                        <svg class=\"icon svg-icon\" aria-hidden=\"true\" v-if=\"volumeStatus=='level0'\">\n                            <use xlink:href=\"#iconjingyin\"></use>\n                        </svg>\n                        <svg class=\"icon svg-icon\" aria-hidden=\"true\" v-if=\"volumeStatus=='level1'\">\n                            <use xlink:href=\"#iconshengyin2\"></use>\n                        </svg>\n                        <svg class=\"icon svg-icon\" aria-hidden=\"true\" v-if=\"volumeStatus=='level2'\">\n                            <use xlink:href=\"#iconshengyin1\"></use>\n                        </svg>\n                        <svg class=\"icon svg-icon\" aria-hidden=\"true\" v-if=\"volumeStatus=='level3'\">\n                            <use xlink:href=\"#iconshengyin\"></use>\n                        </svg>\n                    </div>\n                    <el-slider class=\"volume-slider\" v-show=\"showVolumeSlider\" vertical height=\"100px\" v-model=\"volume\" :min=\"0\" :max=\"1\" :step=\"0.01\"\n                    :format-tooltip=\"formatTooltipSlider\"\n                    @input=\"volumeChangeHandler\"\n                    tooltip-class=\"volume-slider-tooltip\"></el-slider>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport MySlider from './MySlider';\nimport Utils from '@/libs/Utils.js';\nexport default {\n    components:{MySlider},\n    props:{\n        isPause:{\n            type:Boolean,\n            default: false\n        },\n        controlStatus:{\n            type:String,\n            default:'easy'\n        },\n        \n        \n\n    },\n    data(){\n        return {\n            currentTime:0,\n            duration:0,\n            volume:1,\n            recordVolume:1,\n            isMute:false,\n            // curTimeStr:'00:00:00',\n            // durTimeStr:'00:00:00',\n            showVolumeSlider: false,\n            progressValue:0,//0-1\n        }\n    },\n    \n    computed:{\n        \n        volumeStatus(){\n            if(this.volume === 0) return 'level0';\n            if(this.volume <= 0.2) return 'level1';\n            if(this.volume <= 0.6) return 'level2';\n            return 'level3';\n        },\n        curTimeStr(){\n            return Utils.getFormatHMS(this.currentTime*1000);\n            \n        },\n        durTimeStr(){\n            return Utils.getFormatHMS(this.duration*1000);\n            \n        }\n    },\n    methods:{\n        setCurrentTime(v){\n            this.currentTime = v;\n            this.progressValue = this.duration == 0?0:(v/this.duration);\n            \n        \n        },\n        setDuration(v){\n            this.duration = v;\n        },\n        setVoume(v){\n            this.volume = v;\n        },\n        vbtn_mouseover(){\n            this.showVolumeSlider = true;\n        },\n        vbtn_mouseout(){\n            this.showVolumeSlider = false;\n        },\n        formatTooltipSlider(value){\n            return Math.floor(value*100) + '%'\n        },\n        volumeChangeHandler(v){\n            this.isMute = v==0;\n            this.$emit('volume-change',v);\n        },\n        playHandler(){\n            this.$emit('play');\n        },\n        pauseHandler(){\n            this.$emit('pause');\n        },\n        value_changeHandler(v){\n            // console.log('value_changeHandler',v,event)\n            this.$emit('seek',v*this.duration);\n        },\n        muteClickHandler(){\n            this.isMute = !this.isMute;\n            if(this.isMute){\n                this.recordVolume = this.volume;\n                this.volume = 0;\n            }else{\n                this.volume = this.recordVolume || 0.5;\n            }\n            this.$emit('volume_change',this.volume);\n        }\n    }\n}\n</script>\n\n\n<style lang=\"scss\" scoped>\n.media-control{\n    width: 100%;\n    height: 60px;\n    background-color: rgba(0,0,0,0.5);\n    position: absolute;\n    bottom: 0;\n    z-index: 5;\n    user-select: none;\n\n    .progress-box{\n        width: calc(100% - 30px);\n        height: 3px;\n        position: absolute;\n        left: 15px;\n        top: 15px;\n        z-index: 1;\n    }\n\n    .control-btns{\n        width: 100%;\n        height: calc(100% - 20px);\n        position: relative;\n        top: 20px;\n        // position: absolute;\n        // top: 15px;\n        display: flex;\n        z-index: 2;\n        \n        .cb-left{\n            display: flex;\n            align-items: center;\n            padding-left: 5px;\n            flex: 1;\n            font-size: 14px;\n            color: #ffffff;\n        }\n        .cb-right{\n            width: 40px;\n            display: flex;\n            align-items: center;\n        }\n\n        .cb-btn{\n            width: 30px;\n            height: 30px;\n            cursor: pointer;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n\n            &:hover{\n                // background-position-x: -30px;\n                color: #bdbdbd;\n            }\n        }\n        .btn-volume{\n            position: relative;\n            color: #ffffff;\n            font-size: 22px;\n\n            .volume-slider{\n                position: absolute;\n                bottom: 30px;\n                left: -6px;\n            }\n        }\n    }\n}\n.media-control.easy{\n    height: 3px;\n    .progress-box{\n        height: 3px;\n        width: 100%;\n        height: 3px;\n        position: absolute;\n        left: 0px;\n        top: initial;\n    }\n    .control-btns{\n        display: none;\n    }\n}\n</style>"]}]}