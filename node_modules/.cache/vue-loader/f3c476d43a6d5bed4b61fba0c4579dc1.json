{"remainingRequest":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zbywjq/Desktop/cloudwork/VideoBatches/src/views/components/DialogSelectSource.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/src/views/components/DialogSelectSource.vue","mtime":1596418914801},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBBbVNvdXJjZVNlbGVjdCBmcm9tICdhbS1zb3VyY2Utc2VsZWN0JzsKaW1wb3J0IE1lc3NhZ2VBbGVydCBmcm9tICcuL01lc3NhZ2VBbGVydCc7CmltcG9ydCAqIGFzIEludGVyZmFjZSBmcm9tICcuLi8uLi9zdG9yZS9pbnRlcmZhY2VVcmwuanMnOwppbXBvcnQgZ2xvYmFsIGZyb20gJy4uLy4uL3BsdWdpbnMvZ2xvYmFsJzsKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTonZGlhbG9nLXNlbGVjdC1zb3VyY2UnLAogICAgY29tcG9uZW50czp7QW1Tb3VyY2VTZWxlY3QsTWVzc2FnZUFsZXJ0fSwKICAgIGRhdGEoKXsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBkaWFsb2dWaXNpYmxlOmZhbHNlLAogICAgICAgICAgICBlbmFibGVkVHlwZTonYWxsLHZpZGVvLGF1ZGlvLGltYWdlJywKICAgICAgICAgICAgZW5hYmxlZFJhZGlvOmZhbHNlLAogICAgICAgICAgICBjYWxsYmFjazpudWxsLAogICAgICAgICAgICBwcm9tcHRUZXh0OicnCiAgICAgICAgfQogICAgfSwKICAgIG1ldGhvZHM6ewogICAgICAgIHNob3cob3B0aW9ucyxjYWxsYmFjayl7CiAgICAgICAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICAgICAgICAgIHRoaXMuZW5hYmxlZFR5cGUgPSBvcHRpb25zLmVuYWJsZWRUeXBlOwogICAgICAgICAgICB0aGlzLmVuYWJsZWRSYWRpbyA9ICEhb3B0aW9ucy5lbmFibGVkUmFkaW87CiAgICAgICAgICAgIHRoaXMucHJvbXB0VGV4dCA9IG9wdGlvbnMucHJvbXB0VGV4dCB8fCAnJzsKICAgICAgICAgICAgaWYob3B0aW9ucy5pc0NsZWFyQ2hlY2tlZCAmJiB0aGlzLiRyZWZzLnNvdXJjZVNlbGVjdCl7CiAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLnNvdXJjZVNlbGVjdC5jbGVhckNoZWNrZWQoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7CiAgICAgICAgICAgIHRoaXMuJG5leHRUaWNrKCgpPT57CiAgICAgICAgICAgICAgICB0aGlzLmZsdXNoTGlzdEhhbmRsZXIodGhpcy4kcmVmcy5zb3VyY2VTZWxlY3QuZmlsdGVyUGFyYW1zKTsKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIGZsdXNoTGlzdEhhbmRsZXIocGFyYW1zKXsKICAgICAgICAgICAgLy8gL3N2aXAvcmVzb3VyY2VzL291dGVyLXJlc291cmNlcwogICAgICAgICAgICBjb25zb2xlLmxvZygnZmx1c2hMaXN0SGFuZGxlcicscGFyYW1zKQoJCQl3aW5kb3cuYXhpb3MucG9zdChJbnRlcmZhY2UuZ2V0TWVkaWFMaXN0K2dsb2JhbC5zZWFyY2gscGFyYW1zKQoJCQkudGhlbigoZGF0YSk9PnsKCQkJCS8vIGNvbnNvbGUubG9nKCdkYXRhJyxkYXRhKQogICAgICAgICAgICAgICAgLy8gdGhpcy5yZXR1cm5EYXRhID0gZGF0YTsKICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMuc291cmNlU2VsZWN0LnNldFJldHVybkRhdGEoZGF0YS5yZXR1cm5EYXRhKTsKCQkJfSkuY2F0Y2goICgpPT57CgoJCQl9KQogICAgICAgIH0sCiAgICAgICAgb25DYW5jZWxIYW5kbGVyKCl7CiAgICAgICAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IGZhbHNlOwogICAgICAgIH0sCiAgICAgICAgb25Pa0hhbmRsZXIoKXsKICAgICAgICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgICAgIGNvbnN0IGFyciA9IHRoaXMuJHJlZnMuc291cmNlU2VsZWN0LmdldFNlbGVjdFNvdXJjZSgpOwogICAgICAgICAgICBpZih0aGlzLmNhbGxiYWNrICYmIGFyci5sZW5ndGggPiAwKXsKICAgICAgICAgICAgICAgIHRoaXMuY2FsbGJhY2soYXJyKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQo="},{"version":3,"sources":["DialogSelectSource.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DialogSelectSource.vue","sourceRoot":"src/views/components","sourcesContent":["<template>\n    <el-dialog\n        title=\"选择素材\"\n        :visible.sync=\"dialogVisible\"\n        width=\"940px\"\n        :append-to-body=\"true\"\n        class=\"dialog-select-source\">\n        <div class=\"dss-center\">\n            <AmSourceSelect \n            ref=\"sourceSelect\"\n            :enabledType=\"enabledType\"\n            :enabledRadio=\"enabledRadio\"\n            :propPageSize=\"60\"\n            @flushList=\"flushListHandler\"/>\n        </div>\n        <div class=\"dss-footer\">\n            <div class=\"dssf-left\">\n                <MessageAlert v-show=\"promptText.length>0\" :promptText=\"promptText\" :hasClose=\"false\"/>\n            </div>\n            <div class=\"dssf-right\">\n                <el-button type=\"primary\" size=\"small\" @click=\"onCancelHandler\">取消</el-button>\n                <el-button type=\"primary\" size=\"small\" @click=\"onOkHandler\">确定</el-button>\n            </div>\n        </div>\n        \n    </el-dialog>\n</template>\n\n<script>\nimport AmSourceSelect from 'am-source-select';\nimport MessageAlert from './MessageAlert';\nimport * as Interface from '../../store/interfaceUrl.js';\nimport global from '../../plugins/global';\nexport default {\n    name:'dialog-select-source',\n    components:{AmSourceSelect,MessageAlert},\n    data(){\n        return {\n            dialogVisible:false,\n            enabledType:'all,video,audio,image',\n            enabledRadio:false,\n            callback:null,\n            promptText:''\n        }\n    },\n    methods:{\n        show(options,callback){\n            this.dialogVisible = true;\n            this.enabledType = options.enabledType;\n            this.enabledRadio = !!options.enabledRadio;\n            this.promptText = options.promptText || '';\n            if(options.isClearChecked && this.$refs.sourceSelect){\n                this.$refs.sourceSelect.clearChecked();\n            }\n            this.callback = callback;\n            this.$nextTick(()=>{\n                this.flushListHandler(this.$refs.sourceSelect.filterParams);\n            })\n        },\n        flushListHandler(params){\n            // /svip/resources/outer-resources\n            console.log('flushListHandler',params)\n\t\t\twindow.axios.post(Interface.getMediaList+global.search,params)\n\t\t\t.then((data)=>{\n\t\t\t\t// console.log('data',data)\n                // this.returnData = data;\n                this.$refs.sourceSelect.setReturnData(data.returnData);\n\t\t\t}).catch( ()=>{\n\n\t\t\t})\n        },\n        onCancelHandler(){\n            this.dialogVisible = false;\n        },\n        onOkHandler(){\n            this.dialogVisible = false;\n            const arr = this.$refs.sourceSelect.getSelectSource();\n            if(this.callback && arr.length > 0){\n                this.callback(arr);\n            }\n        }\n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.dialog-select-source{\n    ::v-deep >.el-dialog>.el-dialog__body{\n        padding: 5px;\n    }\n    ::v-deep .el-dialog__header{\n        border-bottom: 1px solid #eeeeee;\n    }\n\n    .dss-center{\n        width: 100%;\n        height: 600px;\n    }\n\n    .dss-footer{\n        width: 100%;\n        height: 50px;\n        display: flex;\n        justify-content: space-between;\n        // align-items: center;\n        padding: 0px 20px;\n\n        .dssf-left{\n            width: 270px;\n        }\n        .dssf-right{\n            width: 160px;\n\n            >*{\n                margin-left: 20px;\n            }\n        }\n    }\n}\n</style>"]}]}