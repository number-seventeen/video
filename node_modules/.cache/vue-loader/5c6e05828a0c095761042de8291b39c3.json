{"remainingRequest":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zbywjq/Desktop/cloudwork/VideoBatches/src/views/titleTail/DialogPreview.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/src/views/titleTail/DialogPreview.vue","mtime":1597196454553},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgQXBwIGZyb20gJ0FwcENvcmUnOw0KaW1wb3J0IE1lZGlhQ29udHJvbCBmcm9tICcuLi9NZWRpYUNvbnRyb2wnOw0KZXhwb3J0IGRlZmF1bHQgew0KICAgIG5hbWU6J2RpYWxvZy1wcmV2aWV3LXR0JywNCiAgICBjb21wb25lbnRzOntNZWRpYUNvbnRyb2x9LA0KICAgIHByb3BzOnsNCiAgICAgICAgLy8gaGFzQmFjazp7DQogICAgICAgIC8vICAgICB0eXBlOkJvb2xlYW4sDQogICAgICAgIC8vICAgICBkZWZhdWx0OiBmYWxzZQ0KICAgICAgICAvLyB9LA0KICAgICAgICAvLyB0aXRsZTp7DQogICAgICAgIC8vICAgICB0eXBlOlN0cmluZywNCiAgICAgICAgLy8gICAgIGRlZmF1bHQ6JycNCiAgICAgICAgLy8gfQ0KICAgIH0sDQogICAgZGF0YSgpew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsDQogICAgICAgICAgICBhc3BlY3RSYXRpbzogJzE2OjknLA0KICAgICAgICAgICAgdHRfdGl0bGU6bnVsbCwNCiAgICAgICAgICAgIHR0X3RhaWw6bnVsbCwNCiAgICAgICAgICAgIHR0X3dhdGVybWFya3M6W10sDQogICAgICAgICAgICBkdXJfdGl0bGU6MCwNCiAgICAgICAgICAgIGR1cl90YWlsOjAsDQogICAgICAgICAgICBkdXJfY29udGVudDoyMDAwLA0KICAgICAgICAgICAgY3VycmVudFRpbWU6MCwNCiAgICAgICAgICAgIHNlcUR1cmF0aW9uOjAsDQogICAgICAgICAgICBjb250cm9sU3RhdHVzOidlYXN5JywNCiAgICAgICAgICAgIGlzUGF1c2U6dHJ1ZSwNCiAgICAgICAgICAgIGlzQ29udHJvbDp0cnVlLA0KICAgICAgICAgICAgY29uc2hvdzE6ZmFsc2UsDQogICAgICAgICAgICBjb25zaG93MjpmYWxzZSwNCiAgICAgICAgICAgIGNvbnNob3czOmZhbHNlLA0KICAgICAgICAgICAgdGltZXI6MCwNCiAgICAgICAgICAgIA0KICAgICAgICB9DQogICAgfSwNCiAgICBjb21wdXRlZDp7DQogICAgICAgIGltZ1Bvc1N0eWxlKGl0ZW0pew0KICAgICAgICAgICAgY29uc29sZS5sb2coJ2l0ZW1pdGVtaXRlbWl0ZW0nLGl0ZW0pDQogICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgIGxlZnQ6aXRlbS5Qb3MueCoxMDArJyUnLA0KICAgICAgICAgICAgICAgIHRvcDppdGVtLlBvcy55KjEwMCsnJScsDQogICAgICAgICAgICAgICAgd2lkdGg6aXRlbS5Qb3Mud2lkdGgqMTAwKyclJywNCiAgICAgICAgICAgICAgICBoZWlnaHQ6aXRlbS5Qb3MuaGVpZ2h0KjEwMCsnJScsDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGFzcGVjdFJhdGlvQ2xhc3MoKXsNCiAgICAgICAgICAgIGlmKHRoaXMuYXNwZWN0UmF0aW89PSc5OjE2Jyl7DQogICAgICAgICAgICAgICAgcmV0dXJuICdhcjkxNic7DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gJyc7DQogICAgICAgIH0NCiAgICB9LA0KICAgIHdhdGNoOnsNCiAgICAgICAgZGlhbG9nVmlzaWJsZTp7DQogICAgICAgICAgICBkZWVwOnRydWUsDQogICAgICAgICAgICBoYW5kbGVyOmZ1bmN0aW9uIChuZXdWYWwpew0KICAgICAgICAgICAgICAgIGlmKCFuZXdWYWwpew0KICAgICAgICAgICAgICAgICAgICB0aGlzLnBhdXNlKCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfSwNCiAgICBjcmVhdGVkKCl7DQogICAgICAgIA0KICAgIH0sDQogICAgbW91bnRlZCgpew0KICAgICAgICAvLyBjb25zb2xlLmxvZygnc3Nzc3Nzc3Nzc21vdW50ZWRtb3VudGVkc3NzcycsdGhpcy4kcmVmcy5wcmVSb290KQ0KICAgICAgICAvLyB0aGlzLiRyZWZzLm1lZGlhQ29udHJvbC5zZXRDdXJyZW50VGltZSgwKTsNCiAgICAgICAgLy8gdGhpcy4kcmVmcy5tZWRpYUNvbnRyb2wuc2V0RHVyYXRpb24oMCk7DQogICAgfSwNCiAgICBtZXRob2RzOnsNCiAgICAgICAgc2hvdyhvcHRpb25zLGNhbGxiYWNrKXsNCiAgICAgICAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWU7DQogICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnb3B0aW9uc29wdGlvbnNvcHRpb25zJyxvcHRpb25zKQ0KICAgICAgICAgICAgdGhpcy50dF90aXRsZSA9IG51bGw7DQogICAgICAgICAgICB0aGlzLnR0X3RhaWwgPSBudWxsOw0KICAgICAgICAgICAgdGhpcy50dF93YXRlcm1hcmtzID0gW107DQoNCiAgICAgICAgICAgIHRoaXMuZHVyX3RpdGxlID0gMDsNCiAgICAgICAgICAgIHRoaXMuZHVyX3RhaWwgPSAwOw0KICAgICAgICAgICAgdGhpcy5hc3BlY3RSYXRpbyA9IG9wdGlvbnMuYXNwZWN0UmF0aW87DQogICAgICAgICAgICBjb25zdCBkYXRhTGlzdCA9IG9wdGlvbnMuZGF0YUxpc3QgfHwgW107DQogICAgICAgICAgICBmb3IobGV0IGk9MDtpPGRhdGFMaXN0Lmxlbmd0aDtpKyspew0KICAgICAgICAgICAgICAgIGxldCBpdGVtID0gZGF0YUxpc3RbaV07DQogICAgICAgICAgICAgICAgaWYoaXRlbS5DbGlwVHlwZSA9PSAnVGl0bGVfVmlkZW8nKXsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy50dF90aXRsZSA9IGl0ZW07DQogICAgICAgICAgICAgICAgICAgIHRoaXMuZHVyX3RpdGxlID0gdGhpcy50dF90aXRsZS5EdXJhdGlvbjsNCiAgICAgICAgICAgICAgICB9ZWxzZSBpZihpdGVtLkNsaXBUeXBlID09ICdUYWlsX1ZpZGVvJyl7DQogICAgICAgICAgICAgICAgICAgIHRoaXMudHRfdGFpbCA9IGl0ZW07DQogICAgICAgICAgICAgICAgICAgIHRoaXMuZHVyX3RhaWwgPSB0aGlzLnR0X3RhaWwuRHVyYXRpb247DQogICAgICAgICAgICAgICAgfWVsc2UgaWYoaXRlbS5DbGlwVHlwZSA9PSAnV2F0ZXJNYXJrX0ltYWdlJyl7DQogICAgICAgICAgICAgICAgICAgIHRoaXMudHRfd2F0ZXJtYXJrcy5wdXNoKGl0ZW0pOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMuc2VxRHVyYXRpb24gPSB0aGlzLmR1cl9jb250ZW50K3RoaXMuZHVyX3RpdGxlK3RoaXMuZHVyX3RhaWw7DQogICAgICAgICAgICANCiAgICAgICAgICAgIHRoaXMuJG5leHRUaWNrKCgpPT57DQogICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5tZWRpYUNvbnRyb2wuc2V0Q3VycmVudFRpbWUoMCk7DQogICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5tZWRpYUNvbnRyb2wuc2V0RHVyYXRpb24odGhpcy5zZXFEdXJhdGlvbi8xMDAwKTsNCg0KICAgICAgICAgICAgICAgIGlmKHRoaXMudHRfdGl0bGUpew0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLnZpZGVvVGl0bGUuc3JjID0gdGhpcy50dF90aXRsZS5QcmV2aWV3VXJsOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZih0aGlzLnR0X3RhaWwpew0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLnZpZGVvVGFpbC5zcmMgPSB0aGlzLnR0X3RhaWwuUHJldmlld1VybDsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgdGhpcy5zZWVrKDApOw0KICAgICAgICAgICAgfSkNCiAgICAgICAgfSwNCiAgICAgICAgbWNfdm9sdW1lSGFuZGxlcih2KXsNCiAgICAgICAgICAgIHRoaXMuJHJlZnMudmlkZW9UaXRsZS52b2x1bWUgPSB2Ow0KICAgICAgICAgICAgdGhpcy4kcmVmcy52aWRlb1RhaWwudm9sdW1lID0gdjsNCiAgICAgICAgICAgIC8vIGlmKHRoaXMudmlkZW8pew0KICAgICAgICAgICAgLy8gICAgIHRoaXMudmlkZW8udm9sdW1lID0gdjsNCiAgICAgICAgICAgIC8vIH0NCiAgICAgICAgfSwNCiAgICAgICAgbWNfcGxheUhhbmRsZXIodil7DQogICAgICAgICAgICAvLyB0aGlzLnZpZGVvLnBsYXkoKTsNCiAgICAgICAgICAgIHRoaXMucGxheSgpOw0KICAgICAgICB9LA0KICAgICAgICBtY19wYXVzZUhhbmRsZXIodil7DQogICAgICAgICAgICAvLyB0aGlzLnZpZGVvLnBhdXNlKCk7DQogICAgICAgICAgICB0aGlzLnBhdXNlKCk7DQogICAgICAgIH0sDQogICAgICAgIG1jX3NlZWtIYW5kbGVyKHYpew0KICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ3YnLHYpOw0KICAgICAgICAgICAgLy8gdGhpcy52aWRlby5jdXJyZW50VGltZSA9IHY7DQogICAgICAgICAgICB0aGlzLnNlZWsodioxMDAwKTsNCiAgICAgICAgfSwNCiAgICAgICAgbW91c2VvdmVySGFuZGxlcigpew0KICAgICAgICAgICAgdGhpcy5jb250cm9sU3RhdHVzID0gJ2FsbCc7DQogICAgICAgIH0sDQogICAgICAgIG1vdXNlb3V0SGFuZGxlcigpew0KICAgICAgICAgICAgdGhpcy5jb250cm9sU3RhdHVzID0gJ2Vhc3knOw0KICAgICAgICB9LA0KICAgICAgICBwbGF5QW5kcGF1c2VIYW5kbGVyKCl7DQogICAgICAgICAgICBpZih0aGlzLmlzUGF1c2Upew0KICAgICAgICAgICAgICAgIHRoaXMucGxheSgpOw0KICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgdGhpcy5wYXVzZSgpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBwbGF5KCl7DQogICAgICAgICAgICBpZih0aGlzLmN1cnJlbnRUaW1lIDwgdGhpcy5zZXFEdXJhdGlvbi0yMDApew0KICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcik7DQogICAgICAgICAgICAgICAgdGhpcy50aW1lciA9IHNldEludGVydmFsKHRoaXMuZW50ZXJmcmFtZUhhbmRsZXIsNDApOw0KICAgICAgICAgICAgICAgIHRoaXMuaXNQYXVzZSA9IGZhbHNlOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBwYXVzZSgpew0KICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKTsNCiAgICAgICAgICAgIHRoaXMuaXNQYXVzZSA9IHRydWU7DQogICAgICAgICAgICBpZighdGhpcy4kcmVmcy52aWRlb1RpdGxlLnBhdXNlZCl7DQogICAgICAgICAgICAgICAgdGhpcy4kcmVmcy52aWRlb1RpdGxlLnBhdXNlKCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZighdGhpcy4kcmVmcy52aWRlb1RhaWwucGF1c2VkKXsNCiAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLnZpZGVvVGFpbC5wYXVzZSgpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBlbnRlcmZyYW1lSGFuZGxlcigpew0KICAgICAgICAgICAgdGhpcy5jdXJyZW50VGltZSArPSA0MDsNCiAgICAgICAgICAgIGxldCB2ID0gdGhpcy5jdXJyZW50VGltZTsNCiAgICAgICAgICAgIGlmKHY+PTAgJiYgdjx0aGlzLmR1cl90aXRsZSl7DQogICAgICAgICAgICAgICAgdGhpcy5jb25zaG93MSA9IHRydWU7DQogICAgICAgICAgICAgICAgdGhpcy5jb25zaG93MiA9IGZhbHNlOw0KICAgICAgICAgICAgICAgIHRoaXMuY29uc2hvdzMgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICBpZih0aGlzLiRyZWZzLnZpZGVvVGl0bGUucGF1c2VkKXsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcmVmcy52aWRlb1RpdGxlLnBsYXkoKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9ZWxzZSBpZih2Pj0gdGhpcy5kdXJfdGl0bGUgJiYgdiA8ICh0aGlzLmR1cl90aXRsZSt0aGlzLmR1cl9jb250ZW50KSl7DQogICAgICAgICAgICAgICAgdGhpcy5jb25zaG93MSA9IGZhbHNlOw0KICAgICAgICAgICAgICAgIHRoaXMuY29uc2hvdzIgPSB0cnVlOw0KICAgICAgICAgICAgICAgIHRoaXMuY29uc2hvdzMgPSBmYWxzZTsNCiAgICAgICAgICAgIH1lbHNlIGlmKHY+PSAodGhpcy5kdXJfdGl0bGUrdGhpcy5kdXJfY29udGVudCkgJiYgdjw9IHRoaXMuc2VxRHVyYXRpb24pew0KICAgICAgICAgICAgICAgIHRoaXMuY29uc2hvdzEgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICB0aGlzLmNvbnNob3cyID0gZmFsc2U7DQogICAgICAgICAgICAgICAgdGhpcy5jb25zaG93MyA9IHRydWU7DQogICAgICAgICAgICAgICAgaWYodGhpcy4kcmVmcy52aWRlb1RhaWwucGF1c2VkKXsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcmVmcy52aWRlb1RhaWwucGxheSgpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMuJHJlZnMubWVkaWFDb250cm9sLnNldEN1cnJlbnRUaW1lKHYvMTAwMCk7DQogICAgICAgICAgICBpZih2PnRoaXMuc2VxRHVyYXRpb24tNDApew0KICAgICAgICAgICAgICAgIHRoaXMucGF1c2UoKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgc2Vlayh2KXsNCiAgICAgICAgICAgIHYgPSBNYXRoLm1pbih0aGlzLnNlcUR1cmF0aW9uLE1hdGgubWF4KDAsdikpOw0KICAgICAgICAgICAgdGhpcy5jdXJyZW50VGltZSA9IHY7DQogICAgICAgICAgICBpZih2Pj0wICYmIHY8dGhpcy5kdXJfdGl0bGUpew0KICAgICAgICAgICAgICAgIHRoaXMuY29uc2hvdzEgPSB0cnVlOw0KICAgICAgICAgICAgICAgIHRoaXMuY29uc2hvdzIgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICB0aGlzLmNvbnNob3czID0gZmFsc2U7DQogICAgICAgICAgICAgICAgdGhpcy4kcmVmcy52aWRlb1RpdGxlLmN1cnJlbnRUaW1lID0gdi8xMDAwOw0KICAgICAgICAgICAgfWVsc2UgaWYodj49IHRoaXMuZHVyX3RpdGxlICYmIHYgPCAodGhpcy5kdXJfdGl0bGUrdGhpcy5kdXJfY29udGVudCkpew0KICAgICAgICAgICAgICAgIHRoaXMuY29uc2hvdzEgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICB0aGlzLmNvbnNob3cyID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICB0aGlzLmNvbnNob3czID0gZmFsc2U7DQogICAgICAgICAgICB9ZWxzZSBpZih2Pj0gKHRoaXMuZHVyX3RpdGxlK3RoaXMuZHVyX2NvbnRlbnQpICYmIHY8PSB0aGlzLnNlcUR1cmF0aW9uKXsNCiAgICAgICAgICAgICAgICB0aGlzLmNvbnNob3cxID0gZmFsc2U7DQogICAgICAgICAgICAgICAgdGhpcy5jb25zaG93MiA9IGZhbHNlOw0KICAgICAgICAgICAgICAgIHRoaXMuY29uc2hvdzMgPSB0cnVlOw0KICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMudmlkZW9UYWlsLmN1cnJlbnRUaW1lID0gKHYtKHRoaXMuZHVyX3RpdGxlK3RoaXMuZHVyX2NvbnRlbnQpKS8xMDAwOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KfQ0K"},{"version":3,"sources":["DialogPreview.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DialogPreview.vue","sourceRoot":"src/views/titleTail","sourcesContent":["<template>\r\n    <el-dialog\r\n        title=\"预览片头片尾\"\r\n        :visible.sync=\"dialogVisible\"\r\n        width=\"680px\"\r\n        :append-to-body=\"true\"\r\n        class=\"dialog-preview-tt\">\r\n        <div class=\"dpt-container\">\r\n            <div class=\"dpt-preview-box\" @mouseover=\"mouseoverHandler\"  @mouseout=\"mouseoutHandler\">\r\n                <div class=\"dpt-preview-con\" :class=\"aspectRatioClass\" @click=\"playAndpauseHandler\">\r\n                    <video ref=\"videoTitle\" class=\"render-box default-video\" v-show=\"conshow1\"></video>\r\n                    <div  ref=\"videoCenter\" class=\"render-box watermark-box\" v-show=\"conshow2\">\r\n                        <div class=\"render-default\">\r\n                        </div>\r\n                        <div class=\"render-img\">\r\n                            <img v-for=\"(item,index) in tt_watermarks\" :key=\"index\" :src=\"item.PreviewUrl\" \r\n                            :style=\"{\r\n                                left:item.Pos.x*100+'%',\r\n                                top:item.Pos.y*100+'%',\r\n                                width:item.Pos.width*100+'%',\r\n                                height:item.Pos.height*100+'%',\r\n                            }\"/>\r\n                        </div>\r\n                    </div>\r\n                    <video ref=\"videoTail\" class=\"render-box default-video\" v-show=\"conshow3\"></video>\r\n                </div>\r\n                <MediaControl ref=\"mediaControl\"\r\n                    :isPause=\"isPause\"\r\n                    v-show=\"isControl\"\r\n                    :controlStatus=\"controlStatus\"\r\n                    @volume-change=\"mc_volumeHandler\"\r\n                    @play=\"mc_playHandler\"\r\n                    @pause=\"mc_pauseHandler\"\r\n                    @seek=\"mc_seekHandler\"/>\r\n            </div>\r\n        </div>\r\n    </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport App from 'AppCore';\r\nimport MediaControl from '../MediaControl';\r\nexport default {\r\n    name:'dialog-preview-tt',\r\n    components:{MediaControl},\r\n    props:{\r\n        // hasBack:{\r\n        //     type:Boolean,\r\n        //     default: false\r\n        // },\r\n        // title:{\r\n        //     type:String,\r\n        //     default:''\r\n        // }\r\n    },\r\n    data(){\r\n        return {\r\n            dialogVisible: false,\r\n            aspectRatio: '16:9',\r\n            tt_title:null,\r\n            tt_tail:null,\r\n            tt_watermarks:[],\r\n            dur_title:0,\r\n            dur_tail:0,\r\n            dur_content:2000,\r\n            currentTime:0,\r\n            seqDuration:0,\r\n            controlStatus:'easy',\r\n            isPause:true,\r\n            isControl:true,\r\n            conshow1:false,\r\n            conshow2:false,\r\n            conshow3:false,\r\n            timer:0,\r\n            \r\n        }\r\n    },\r\n    computed:{\r\n        imgPosStyle(item){\r\n            console.log('itemitemitemitem',item)\r\n            return {\r\n                left:item.Pos.x*100+'%',\r\n                top:item.Pos.y*100+'%',\r\n                width:item.Pos.width*100+'%',\r\n                height:item.Pos.height*100+'%',\r\n            }\r\n        },\r\n        aspectRatioClass(){\r\n            if(this.aspectRatio=='9:16'){\r\n                return 'ar916';\r\n            }\r\n            return '';\r\n        }\r\n    },\r\n    watch:{\r\n        dialogVisible:{\r\n            deep:true,\r\n            handler:function (newVal){\r\n                if(!newVal){\r\n                    this.pause();\r\n                }\r\n            }\r\n        }\r\n    },\r\n    created(){\r\n        \r\n    },\r\n    mounted(){\r\n        // console.log('ssssssssssmountedmountedssss',this.$refs.preRoot)\r\n        // this.$refs.mediaControl.setCurrentTime(0);\r\n        // this.$refs.mediaControl.setDuration(0);\r\n    },\r\n    methods:{\r\n        show(options,callback){\r\n            this.dialogVisible = true;\r\n            // console.log('optionsoptionsoptions',options)\r\n            this.tt_title = null;\r\n            this.tt_tail = null;\r\n            this.tt_watermarks = [];\r\n\r\n            this.dur_title = 0;\r\n            this.dur_tail = 0;\r\n            this.aspectRatio = options.aspectRatio;\r\n            const dataList = options.dataList || [];\r\n            for(let i=0;i<dataList.length;i++){\r\n                let item = dataList[i];\r\n                if(item.ClipType == 'Title_Video'){\r\n                    this.tt_title = item;\r\n                    this.dur_title = this.tt_title.Duration;\r\n                }else if(item.ClipType == 'Tail_Video'){\r\n                    this.tt_tail = item;\r\n                    this.dur_tail = this.tt_tail.Duration;\r\n                }else if(item.ClipType == 'WaterMark_Image'){\r\n                    this.tt_watermarks.push(item);\r\n                }\r\n            }\r\n            this.seqDuration = this.dur_content+this.dur_title+this.dur_tail;\r\n            \r\n            this.$nextTick(()=>{\r\n                this.$refs.mediaControl.setCurrentTime(0);\r\n                this.$refs.mediaControl.setDuration(this.seqDuration/1000);\r\n\r\n                if(this.tt_title){\r\n                    this.$refs.videoTitle.src = this.tt_title.PreviewUrl;\r\n                }\r\n                if(this.tt_tail){\r\n                    this.$refs.videoTail.src = this.tt_tail.PreviewUrl;\r\n                }\r\n                this.seek(0);\r\n            })\r\n        },\r\n        mc_volumeHandler(v){\r\n            this.$refs.videoTitle.volume = v;\r\n            this.$refs.videoTail.volume = v;\r\n            // if(this.video){\r\n            //     this.video.volume = v;\r\n            // }\r\n        },\r\n        mc_playHandler(v){\r\n            // this.video.play();\r\n            this.play();\r\n        },\r\n        mc_pauseHandler(v){\r\n            // this.video.pause();\r\n            this.pause();\r\n        },\r\n        mc_seekHandler(v){\r\n            // console.log('v',v);\r\n            // this.video.currentTime = v;\r\n            this.seek(v*1000);\r\n        },\r\n        mouseoverHandler(){\r\n            this.controlStatus = 'all';\r\n        },\r\n        mouseoutHandler(){\r\n            this.controlStatus = 'easy';\r\n        },\r\n        playAndpauseHandler(){\r\n            if(this.isPause){\r\n                this.play();\r\n            }else{\r\n                this.pause();\r\n            }\r\n        },\r\n        play(){\r\n            if(this.currentTime < this.seqDuration-200){\r\n                clearInterval(this.timer);\r\n                this.timer = setInterval(this.enterframeHandler,40);\r\n                this.isPause = false;\r\n            }\r\n        },\r\n        pause(){\r\n            clearInterval(this.timer);\r\n            this.isPause = true;\r\n            if(!this.$refs.videoTitle.paused){\r\n                this.$refs.videoTitle.pause();\r\n            }\r\n            if(!this.$refs.videoTail.paused){\r\n                this.$refs.videoTail.pause();\r\n            }\r\n        },\r\n        enterframeHandler(){\r\n            this.currentTime += 40;\r\n            let v = this.currentTime;\r\n            if(v>=0 && v<this.dur_title){\r\n                this.conshow1 = true;\r\n                this.conshow2 = false;\r\n                this.conshow3 = false;\r\n                if(this.$refs.videoTitle.paused){\r\n                    this.$refs.videoTitle.play();\r\n                }\r\n            }else if(v>= this.dur_title && v < (this.dur_title+this.dur_content)){\r\n                this.conshow1 = false;\r\n                this.conshow2 = true;\r\n                this.conshow3 = false;\r\n            }else if(v>= (this.dur_title+this.dur_content) && v<= this.seqDuration){\r\n                this.conshow1 = false;\r\n                this.conshow2 = false;\r\n                this.conshow3 = true;\r\n                if(this.$refs.videoTail.paused){\r\n                    this.$refs.videoTail.play();\r\n                }\r\n            }\r\n            this.$refs.mediaControl.setCurrentTime(v/1000);\r\n            if(v>this.seqDuration-40){\r\n                this.pause();\r\n            }\r\n        },\r\n        seek(v){\r\n            v = Math.min(this.seqDuration,Math.max(0,v));\r\n            this.currentTime = v;\r\n            if(v>=0 && v<this.dur_title){\r\n                this.conshow1 = true;\r\n                this.conshow2 = false;\r\n                this.conshow3 = false;\r\n                this.$refs.videoTitle.currentTime = v/1000;\r\n            }else if(v>= this.dur_title && v < (this.dur_title+this.dur_content)){\r\n                this.conshow1 = false;\r\n                this.conshow2 = true;\r\n                this.conshow3 = false;\r\n            }else if(v>= (this.dur_title+this.dur_content) && v<= this.seqDuration){\r\n                this.conshow1 = false;\r\n                this.conshow2 = false;\r\n                this.conshow3 = true;\r\n                this.$refs.videoTail.currentTime = (v-(this.dur_title+this.dur_content))/1000;\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n\r\n<style lang=\"scss\" scoped>\r\n.dialog-preview-tt{\r\n    ::v-deep .el-dialog__header{\r\n        border-bottom: 1px solid #eeeeee;\r\n    }\r\n\r\n    ::v-deep .el-dialog__body{\r\n        padding: 20px 20px;\r\n    }\r\n\r\n    .dpt-container{\r\n        width: 100%;\r\n        \r\n        .dpt-preview-box{\r\n            width: 640px;\r\n            height: 360px;\r\n            background-color: #eeeeee;\r\n            position: relative;\r\n            display: flex;\r\n            justify-content: center;\r\n            align-items: center;\r\n\r\n            .dpt-preview-con{\r\n                width: 100%;\r\n                height: 100%;\r\n                position: relative;\r\n                background-color: #000000;\r\n            }\r\n\r\n            .dpt-preview-con.ar916{\r\n                width: 202.5px;\r\n            }\r\n\r\n        }\r\n        \r\n\r\n        .render-box {\r\n            width: 100%;\r\n            height: 100%;\r\n            position: absolute;\r\n            left: 0;\r\n            top: 0;\r\n\r\n            .render-default{\r\n                position: absolute;\r\n                left: 0;\r\n                top: 0;\r\n                width: 100%;\r\n                height: 100%;\r\n                z-index: 1;\r\n                background-color: rgb(52, 105, 105);\r\n            }\r\n\r\n            .render-img{\r\n                position: absolute;\r\n                left: 0;\r\n                top: 0;\r\n                width: 100%;\r\n                height: 100%;\r\n                z-index: 2;\r\n            }\r\n\r\n            &.watermark-box img{\r\n                position: absolute;\r\n            }\r\n        }\r\n    }\r\n\r\n    \r\n    \r\n}\r\n</style>"]}]}