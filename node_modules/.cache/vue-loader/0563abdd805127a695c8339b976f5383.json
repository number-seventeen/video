{"remainingRequest":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zbywjq/Desktop/cloudwork/VideoBatches/src/views/components/VideoPlayer.vue?vue&type=style&index=0&id=396d12bd&lang=scss&scoped=true&","dependencies":[{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/src/views/components/VideoPlayer.vue","mtime":1597659427372},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLnZpZGVvLXBsYXllcnsKICAgIHdpZHRoOiAxMDAlOwogICAgaGVpZ2h0OiAxMDAlOwogICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgLmhlYWR7CiAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgICAgIHdpZHRoOiA4MjlweDsKICAgICAgICAgICAgaGVpZ2h0OiA0NzBweDsKICAgICAgICAgICAgb2JqZWN0LWZpdDogZmlsbDsKICAgICAgICAgICAgei1pbmRleDogMTsgIAogICAgICAgICAgIAogICAgfSAKICAgIC50YWlsewogICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICAgICAgICB3aWR0aDogODI5cHg7CiAgICAgICAgICAgIGhlaWdodDogNDYwcHg7CiAgICAgICAgICAgIG9iamVjdC1maXQ6IGZpbGw7CiAgICAgICAgICAgIHotaW5kZXg6IDE7ICAKICAgICAgICAgICAgCiAgICB9IAogICAgLndhdGVybWFyay1ib3h7CgogICAgICAgLm1haW57CiAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICAgICAgICB3aWR0aDogODI5cHg7CiAgICAgICAgICAgIGhlaWdodDogNDcwcHg7ICAKICAgICAgICAgICAgb2JqZWN0LWZpdDogZmlsbDsKICAgICAgICAgICAgei1pbmRleDogMTsKICAgICAgIH0KCiAgICAgICAucmVuZGVyLWltZ3sKICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICAgICAgICB6LWluZGV4OiAzOwogICAgICAgICAgICAKICAgICAgICAgICAKICAgICAgIH0KICAgICAgIAogICAgfQogICAgLm1lZGlhLWNvbnRyb2x7CiAgICAgICAgYmFja2dyb3VuZDpncmF5OwogICAgICAgIAogICAgfQoKfQoK"},{"version":3,"sources":["VideoPlayer.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+VA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;;AAEA;;AAEA","file":"VideoPlayer.vue","sourceRoot":"src/views/components","sourcesContent":["<template>\n    <div class=\"video-player\" ref=\"myRoot\" @mouseover=\"mouseoverHandler\"  @mouseout=\"mouseoutHandler\">\n         <div class=\"nochange\"></div>\n         <div class=\"media-head-box\" v-show=\"one\" >\n            <video ref=\"headVideo\" class=\"default-video head\" \n            :src=\"headvideos\"\n            @loadedmetadata=\"loadedmetadataHandler\"\n            @canplaythrough=\"canplaythroughHandler\"\n            @error=\"errorHandler\"\n            @play=\"playHandler\"\n            @playing=\"playingHandler\"\n            @waiting=\"waitingHandler\"\n            @pause=\"pauseHandler\"\n            @ended=\"endedHandler\"\n            @timeupdate=\"timeupdateHandler\"\n            @click=\"playAndpauseHandler\" ></video>   \n        </div>\n\n\n        <!-- 这是主视频盒子 -->\n        <div class=\"media-con-box watermark-box\" v-show=\"two\">\n            <video ref=\"mainVideo\" class=\"default-video main \"\n            :src=\"videourl\"\n            @loadedmetadata=\"loadedmetadataHandler\"\n            @canplaythrough=\"canplaythroughHandler\"\n            @error=\"errorHandler\"\n            @play=\"playHandler\"\n            @playing=\"playingHandler\"\n            @waiting=\"waitingHandler\"\n            @pause=\"pauseHandler\"\n            @ended=\"endedHandler\"\n            @timeupdate=\"timeupdateHandler\"\n            @click=\"playAndpauseHandler\"></video> \n             \n            \n            <img class=\"render-img\" :src=\"waterimgs\" v-show=\"wimg\" :style=\"{\n                left:waterposx*100+'%',\n                top:(waterposy-0.1)*100+'%',\n                width:waterposw*100+'%',\n                height:waterposh*100+'%',\n            }\" />\n           \n        </div>\n         <div class=\"media-tail-box\" v-show=\"three\" >\n            <video ref=\"tailVideo\" class=\"default-video tail\"\n            :src=\"tailvideos\"\n            @loadedmetadata=\"loadedmetadataHandler\"\n            @canplaythrough=\"canplaythroughHandler\"\n            @error=\"errorHandler\"\n            @play=\"playHandler\"\n            @playing=\"playingHandler\"\n            @waiting=\"waitingHandler\"\n            @pause=\"pauseHandler\"\n            @ended=\"endedHandler\"\n            @timeupdate=\"timeupdateHandler\"\n            @click=\"playAndpauseHandler\"></video>   \n        </div>\n        <MediaControl ref=\"mediaControl\"\n            :isPause=\"isPause\"\n            v-show=\"isControl\"\n            :controlStatus=\"controlStatus\"\n            @volume-change=\"mc_volumeHandler\"\n            @play=\"mc_playHandler\"\n            @pause=\"mc_pauseHandler\"\n            @seek=\"mc_seekHandler\" :all=\"all\" @vplayvalue=\"getvalue\" :pvalue=\"pvalue\" :ptailvalue=\"ptailvalue\" @vcurrenttime=\"getcurrenttime\" :twocu=\"twocu\" :threecu=\"threecu\"/>\n    </div>\n</template>\n\n<script>\nimport MediaControl from './MediaControl';\nexport default {\n    components:{MediaControl},\n    props:{\n        url:{\n            type:String,\n            default:''\n        },\n        isControl:{\n            type:Boolean,\n            default: true\n        },\n        toFirstFrame:{\n            type:Boolean,\n            default: false\n        },\n        videourl:{\n            required:true\n        } ,\n        headvideos:{\n            required:true\n        },\n        tailvideos:{\n            required:true\n        },\n        waterimgs:{\n            required:true\n        },\n        waterposx:{\n            required:true\n        },\n        waterposy:{\n            required:true\n        },\n        waterposw:{\n            required:true\n        },\n        waterposh:{\n            required:true\n        },\n        wimg:{\n            required:true \n        },\n        signal:{\n            required:true \n        }\n        \n       \n        \n\n    },\n    data(){\n        return {\n            video:null,\n            isPause:true,\n            controlStatus:'easy',\n            one:false,\n            two:true,\n            three:false,\n            headtime:0,\n            tailtime:0,\n            maintime:0,\n            headcutime:0,\n            all:0,\n            playvalue:0,\n            pvalue:0,\n            ptailvalue:0,\n            cu:0,\n            twocu:0,\n            threecu:0\n            \n        }\n    },\n    \n    watch:{\n       \n        signal: {\n            immediate:true,\n            handler:function(){\n                this.chan()            \n            }\n        },\n        // headcutime:{\n        //     immediate:true,\n        //     handler:function(){\n        //         this.test()            \n        //     }\n        // }\n        \n        \n    },\n    created(){\n        this.$nextTick(()=>{\n            this.video=this.$refs.mainVideo\n            // this.head=this.$refs.headVideo\n            // this.tail=this.$refs.tailVideo\n            \n        })\n        \n    },\n    mounted(){\n         \n\n\n    },\n    destroyed(){\n        \n    },\n    methods:{\n        play(){\n            if(!this.video){\n                this.$nextTick(()=>{\n    \n                    this.video.play()\n\n                 \n                    \n                })\n                return;\n            }\n            this.video.play();\n        },\n        pause(){\n            this.video.pause();\n        },\n        seek(v){\n            this.video.currentTime = v;  \n            \n            \n\n        },\n        playAndpauseHandler(){\n            if(this.video.paused){\n                this.video.play();\n                \n                \n            }else{\n                this.video.pause();\n            }\n\n        },\n        loadedmetadataHandler(){\n            if(!this.$refs.mediaControl) return;\n                if (this.signal==\"ischange\") { \n                    this.headtime=document.getElementsByClassName(\"head\")[0].duration\n                    this.headcutime=document.getElementsByClassName(\"head\")[0].currentTime\n                    this.tailtime=document.getElementsByClassName(\"tail\")[0].duration\n                    this.maintime=document.getElementsByClassName(\"main\")[0].duration\n                    this.all=this.headtime+this.tailtime+this.maintime\n                    this.$refs.mediaControl.setDuration(this.all)\n                   \n                }else{\n                    this.$refs.mediaControl.setDuration(this.video.duration)\n                }\n           \n                \n            \n        },\n        durationchangeHandler(){\n            if(!this.$refs.mediaControl) return;\n                if (this.signal==\"ischange\") {\n                    this.headtime=document.getElementsByClassName(\"head\")[0].duration\n                    this.tailtime=document.getElementsByClassName(\"tail\")[0].duration\n                    this.maintime=document.getElementsByClassName(\"main\")[0].duration\n                    this.all=this.headtime+this.tailtime+this.maintime            \n                   this.$refs.mediaControl.setDuration(this.all) \n                }else{\n                   this.$refs.mediaControl.setDuration(this.video.duration)\n                }\n        },\n        canplaythroughHandler(){\n            //  this.isPause = false;\n        },\n        errorHandler(){\n            this.isPause = true;\n        },\n        playHandler(){\n            this.isPause = false;\n        },\n        playingHandler(){\n            this.isPause = false;\n        },\n        waitingHandler(){\n            this.isPause = true;\n        },\n        pauseHandler(){\n            this.isPause = true;\n        },\n        endedHandler(){\n            this.isPause = true;\n            if(this.toFirstFrame){\n                this.video.currentTime = 0;\n            }\n            \n        },\n        timeupdateHandler(){\n            if(this.$refs.mediaControl){\n                this.$refs.mediaControl.setCurrentTime(this.video.currentTime);\n            }\n        },\n        mc_volumeHandler(v){\n            if(this.video){\n                this.video.volume = v;\n            }\n        },\n        mc_playHandler(v){\n            this.video.play();\n        },\n        mc_pauseHandler(v){\n            this.video.pause();\n        },\n        mc_seekHandler(v){\n            // console.log('v',v);\n            this.video.currentTime = v;\n        },\n        mouseoverHandler(){\n            this.controlStatus = 'all';\n            \n            \n        },\n        mouseoutHandler(){\n            this.controlStatus = 'easy';\n        },\n        chan(){\n            if(this.signal==\"ischange\"){\n                this.headtime=document.getElementsByClassName(\"head\")[0].duration\n                this.headcutime=document.getElementsByClassName(\"head\")[0].currentTime\n                this.tailtime=document.getElementsByClassName(\"tail\")[0].duration\n                this.maintime=document.getElementsByClassName(\"main\")[0].duration\n                this.all=this.headtime+this.tailtime+this.maintime\n                this.one=true\n                this.two=false\n                this.three=false\n                this.video=this.$refs.headVideo  \n                var headend=document.getElementsByClassName(\"head\")[0]\n                headend.addEventListener('ended',()=>{\n\n                    this.one=!this.one\n                    this.two=!this.two\n                    this.video=this.$refs.mainVideo\n                    this.pvalue=this.playvalue\n                    this.twocu= this.headtime\n                    this.play()\n                    \n                })\n                var mainend=document.getElementsByClassName(\"main\")[0]\n                mainend.addEventListener('ended',()=>{\n                    this.pvalue=this.playvalue\n                    this.one=this.one\n                    this.two=!this.two\n                    this.three=!this.three\n                    this.video=this.$refs.tailVideo\n                    this.twocu= this.headtime\n                    this.threecu=this.maintime\n                    this.play()\n                })\n                var tailend=document.getElementsByClassName(\"tail\")[0]\n                mainend.addEventListener('ended',()=>{\n                    \n                })\n                \n            }      \n\n        },\n        getvalue(pv){\n             this.playvalue=pv\n             \n            \n        },\n        getcurrenttime(ctime){\n            this.cu=ctime\n            \n        }\n\n        \n        \n        \n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.video-player{\n    width: 100%;\n    height: 100%;\n    position: relative;\n    .head{\n          position: absolute;\n            width: 829px;\n            height: 470px;\n            object-fit: fill;\n            z-index: 1;  \n           \n    } \n    .tail{\n          position: absolute;\n            width: 829px;\n            height: 460px;\n            object-fit: fill;\n            z-index: 1;  \n            \n    } \n    .watermark-box{\n\n       .main{\n           position: absolute;\n            width: 829px;\n            height: 470px;  \n            object-fit: fill;\n            z-index: 1;\n       }\n\n       .render-img{\n            position: absolute;\n            z-index: 3;\n            \n           \n       }\n       \n    }\n    .media-control{\n        background:gray;\n        \n    }\n\n}\n\n</style>"]}]}