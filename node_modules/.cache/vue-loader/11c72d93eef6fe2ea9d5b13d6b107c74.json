{"remainingRequest":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zbywjq/Desktop/cloudwork/VideoBatches/src/views/components/MediaControl.vue?vue&type=style&index=0&id=682a5528&lang=scss&scoped=true&","dependencies":[{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/src/views/components/MediaControl.vue","mtime":1599805476012},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoubWVkaWEtY29udHJvbHsKICAgIHdpZHRoOiAxMDAlOwogICAgaGVpZ2h0OiAzMHB4OwogICAgYmFja2dyb3VuZDogd2hpdGU7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICB0b3A6IDQ0MHB4OwogICAgcGFkZGluZy10b3A6IDhweDsKICAgIHotaW5kZXg6IDU7CiAgICB1c2VyLXNlbGVjdDogbm9uZTsKICAgIC8vIHRyYW5zZm9ybS1vcmlnaW46IHRvcCBsZWZ0OwogICAgLmNvbnRyb2wtYnRuc3sKICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICBoZWlnaHQ6IGNhbGMoMTAwJSAtIDdweCk7CiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgIC8vIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICAvLyB0b3A6IDE1cHg7CiAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICB6LWluZGV4OiAyOwogICAgICAgIAogICAgICAgIC5jYi1sZWZ0ewogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgICAgICBwYWRkaW5nLWxlZnQ6IDJweDsKICAgICAgICAgICAgZmxleDogMTsKICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4OwogICAgICAgICAgICBjb2xvcjogI2ZmZmZmZjsKICAgICAgICAgICAgLnByb2dyZXNzLWJveHsKICAgICAgICAgICAgICAgIHdpZHRoOiBjYWxjKDEwMCUgLSAzMHB4KTsKICAgICAgICAgICAgICAgIGhlaWdodDogM3B4OwogICAgICAgICAgICAgICAgbGVmdDogMTVweDsKICAgICAgICAgICAgICAgIHRvcDogMTVweDsKICAgICAgICAgICAgICAgIHotaW5kZXg6IDE7CiAgICAgICAgICAgICAgICBtYXJnaW4tbGVmdDogMjBweDsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAuY2ItcmlnaHR7CiAgICAgICAgICAgIHdpZHRoOiA0MHB4OwogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgIH0KCiAgICAgICAgLmNiLWJ0bnsKICAgICAgICAgICAgd2lkdGg6IDMwcHg7CiAgICAgICAgICAgIGhlaWdodDogMzBweDsKICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKCiAgICAgICAgICAgICY6aG92ZXJ7CiAgICAgICAgICAgICAgICAvLyBiYWNrZ3JvdW5kLXBvc2l0aW9uLXg6IC0zMHB4OwogICAgICAgICAgICAgICAgY29sb3I6ICNiZGJkYmQ7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgLmJ0bi12b2x1bWV7CiAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgICAgICAgICAgY29sb3I6ICNmZmZmZmY7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMjJweDsKCiAgICAgICAgICAgIC52b2x1bWUtc2xpZGVyewogICAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICAgICAgICAgICAgYm90dG9tOiAzMHB4OwogICAgICAgICAgICAgICAgbGVmdDogLTZweDsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQoubWVkaWEtY29udHJvbC5lYXN5ewogICAgaGVpZ2h0OiAzcHg7CiAgICAucHJvZ3Jlc3MtYm94ewogICAgICAgIGhlaWdodDogM3B4OwogICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgIGhlaWdodDogM3B4OwogICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICBsZWZ0OiAwcHg7CiAgICAgICAgdG9wOiBpbml0aWFsOwogICAgfQogICAgLmNvbnRyb2wtYnRuc3sKICAgICAgICBkaXNwbGF5OiBub25lOwogICAgfQp9Cg=="},{"version":3,"sources":["MediaControl.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MediaControl.vue","sourceRoot":"src/views/components","sourcesContent":["<template>\n    <div class=\"media-control\" style=\"background:white;\"> \n        <div class=\"control-btns\">\n            <div class=\"cb-left\">\n                <div class=\"cb-btn btn-back\" style=\"margin-left:8px;\" @click=\"goback()\">\n                    <img src=\"../../../public/houtui.png\" style=\"width:22px;height:22px;\" />  \n                </div>\n                <div class=\"cb-btn btn-play\" v-if=\"isPause\" @click=\"playHandler\" id=\"pplay\">\n                    <svg class=\"icon svg-icon\" aria-hidden=\"true\">\n                        <use xlink:href=\"#iconbofang\"></use>\n                    </svg>    \n                </div>\n                <div class=\"cb-btn btn-pause\" v-if=\"!isPause\" @click=\"pauseHandler\" id=\"ppause\">\n                    <svg class=\"icon svg-icon\" aria-hidden=\"true\">\n                        <use xlink:href=\"#iconzantingtingzhi\"></use>\n                    </svg>\n                </div>\n                <div class=\"cb-btn btn-go\"  @click=\"goit()\">\n                    <img src=\"../../../public/qianjin.png\" style=\"width:22px;height:22px;\" />  \n                </div>\n                <div class=\"cb-time\" style=\"margin-left:5px;\">\n                    <span style=\"color:gray;\">{{curTimeStr}}</span>\n                    <span style=\"color:gray;\">/</span>\n                    <span style=\"color:gray;\">{{durTimeStr}}</span>\n                </div>\n                    <div class=\"progress-box\" style=\"width:486px;\">\n                        <MySlider :value=\"progressValue\"  @value_change=\"value_changeHandler\" :goes=\"goes\" />\n                    </div>\n            </div>\n            <div class=\"cb-right\">\n                <div class=\"cb-btn btn-volume\">\n                   <i class=\"el-icon-full-screen\"  style=\"color:#cdcdcd;\" @click=\" clickFullscreen\"></i>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport screenfull from 'screenfull'\nimport MySlider from './MySlider';\nimport Utils from '@/libs/Utils.js';\nexport default {\n    components:{MySlider},\n    props:{\n        isPause:{\n            type:Boolean,\n            default: false\n        },\n       \n        all:{\n            required:true\n        },\n        mainbox:{\n            required:true\n        }\n        \n\n    },\n    watch:{\n        currentTime:{\n            handler:function(newVal){\n                this.cc=newVal\n                \n            }\n        },\n\n    },\n    data(){\n        return {\n            currentTime:0,\n            duration:0,\n            volume:1,\n            recordVolume:1,\n            isMute:false,\n            // curTimeStr:'00:00:00',\n            // durTimeStr:'00:00:00',\n            showVolumeSlider: false,\n            progressValue:0,//0-1\n            gogo:true,\n            goes:0,\n            ttt:0,\n            cc:0,\n            enlarge:false\n        }\n    },\n    \n    computed:{\n        \n        volumeStatus(){\n            if(this.volume === 0) return 'level0';\n            if(this.volume <= 0.2) return 'level1';\n            if(this.volume <= 0.6) return 'level2';\n            return 'level3';\n        },\n        curTimeStr(){\n            return Utils.getFormatHMS(this.currentTime*1000);\n            \n        },\n        durTimeStr(){\n            return Utils.getFormatHMS(this.duration*1000);\n            \n        }\n    },\n    mounted:function () {\n            this.monitor();\n            let that = this\n\t\t\twindow.onresize = function(){\n\t\t\t\tif(!that.checkFull()){\n\t\t\t\t\t// 退出全屏后要执行的动作\n                    var fs=document.getElementsByClassName(\"btn-volume\")[0].getElementsByTagName(\"i\")[0].getAttribute(\"class\")\n                    if(fs==\"el-icon-copy-document\"){\n                        that.$parent.nofull()\n                    }\n\t\t\t\t\tthat.fullscreen = false;\n\t\t\t\t}\n\t\t\t}\n            \n    },\n    \n    methods:{\n        checkFull(){\n            var isFull = document.mozFullScreen||\n            document.fullScreen ||\n            document.webkitIsFullScreen ||\n            document.webkitRequestFullScreen ||\n            document.mozRequestFullScreen ||\n            document.msFullscreenEnabled\n            if(isFull === undefined) {\n            isFull = false\n            }\n            return isFull;\n\t    },\n        setCurrentTime(v){\n            // console.log(\"vvv\", this.progressValue)\n            this.currentTime=v\n            if(this.mainbox==\"nochange\"){\n                this.$emit(\"mainboxtime\",this.currentTime)\n            } \n            this.progressValue = this.duration == 0?0:(v/this.duration);   \n        },\n        monitor:function(){\n                var that = this;  \n                var plays=document.getElementsByClassName(\"cb-left\")[0].getElementsByTagName(\"div\")[1]\n                var backs=document.getElementsByClassName(\"cb-left\")[0].getElementsByTagName(\"div\")[0]\n                var gos=document.getElementsByClassName(\"cb-left\")[0].getElementsByTagName(\"div\")[2]\n                document.onkeydown = function(e) { \n                    let key = window.event.keyCode;\n                    \n                    if (key == 32&&plays.getAttribute(\"id\")==\"pplay\") {\n                        that.playHandler();\n                    }\n                    else if(key == 32&&plays.getAttribute(\"id\")==\"ppause\"){\n                        that.pauseHandler();\n                    }\n                    if (key == 37&&backs.getAttribute(\"class\")==\"cb-btn btn-back\") {\n                        that.goback();\n                    }\n                    else if(key == 39&&gos.getAttribute(\"class\")==\"cb-btn btn-go\"){\n                        that.goit()\n                    }\n                };\n        },\n        goit(){\n            this.ttt=this.ttt+1  \n            this.gogo=true\n            if(this.goes<1){\n                if(this.ttt>=1){\n                   console.log(\"cu\",this.cc)\n                    \n                    this.goes=(this.cc/this.duration)+0.02\n                }  \n            }\n            else if(this.goes>1){\n                 this.goes=1\n            }\n            this.$emit(\"gogov\",this.gogo)  \n            this.$emit(\"gogoes\",this.goes*this.duration)\n            \n                 \n        },\n        goback(){\n            this.ttt=this.ttt+1 \n            this.gogo=false\n            if(this.ttt=1){\n                this.goes=0.015\n            }\n            if(this.goes>=0.015){\n    \n                this.goes=(this.cc/this.duration)-0.015 \n         \n            }\n            if(this.goes<0.015){\n                   this.goes=0 \n            }\n                \n            this.$emit(\"gogov\",this.gogo)  \n            this.$emit(\"gogoes\",this.goes*this.duration)\n        },\n        setDuration(v){\n            this.duration = v;\n        },\n        setVoume(v){\n            this.volume = v;\n        },\n        vbtn_mouseover(){\n            this.showVolumeSlider = true;\n        },\n        vbtn_mouseout(){\n            this.showVolumeSlider = false;\n        },\n        formatTooltipSlider(value){\n            return Math.floor(value*100) + '%'\n        },\n        volumeChangeHandler(v){\n            this.isMute = v==0;\n            this.$emit('volume-change',v);\n        },\n        playHandler(){\n            this.$emit('play');\n            \n        },\n        pauseHandler(){\n            this.$emit('pause');\n        },\n        value_changeHandler(v){\n            // console.log('value_changeHandler',v,event)\n            this.$emit('seek',v*this.duration);    \n        },\n       \n        muteClickHandler(){\n            this.isMute = !this.isMute;\n            if(this.isMute){\n                this.recordVolume = this.volume;\n                this.volume = 0;\n            }else{\n                this.volume = this.recordVolume || 0.5;\n            }\n            this.$emit('volume_change',this.volume);\n        },\n        FullScreen(){\n            this.$parent.goFullScreen()\n        },\n        clickFullscreen(){\n            this.enlarge=true\n            this.$emit(\"fullscreen\",this.enlarge)\n            if (!screenfull.isEnabled) {\n            this.$message({\n                message: 'you browser can not work',\n                type: 'warning'\n            })\n            return false\n            }\n            screenfull.toggle()\n        }\n        \n    }\n}\n</script>\n\n\n<style lang=\"scss\" scoped>\n\n.media-control{\n    width: 100%;\n    height: 30px;\n    background: white;\n    position: absolute;\n    top: 440px;\n    padding-top: 8px;\n    z-index: 5;\n    user-select: none;\n    // transform-origin: top left;\n    .control-btns{\n        width: 100%;\n        height: calc(100% - 7px);\n        position: relative;\n        // position: absolute;\n        // top: 15px;\n        display: flex;\n        z-index: 2;\n        \n        .cb-left{\n            display: flex;\n            align-items: center;\n            padding-left: 2px;\n            flex: 1;\n            font-size: 14px;\n            color: #ffffff;\n            .progress-box{\n                width: calc(100% - 30px);\n                height: 3px;\n                left: 15px;\n                top: 15px;\n                z-index: 1;\n                margin-left: 20px;\n            }\n        }\n        .cb-right{\n            width: 40px;\n            display: flex;\n            align-items: center;\n        }\n\n        .cb-btn{\n            width: 30px;\n            height: 30px;\n            cursor: pointer;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n\n            &:hover{\n                // background-position-x: -30px;\n                color: #bdbdbd;\n            }\n        }\n        .btn-volume{\n            position: relative;\n            color: #ffffff;\n            font-size: 22px;\n\n            .volume-slider{\n                position: absolute;\n                bottom: 30px;\n                left: -6px;\n            }\n        }\n    }\n}\n.media-control.easy{\n    height: 3px;\n    .progress-box{\n        height: 3px;\n        width: 100%;\n        height: 3px;\n        position: absolute;\n        left: 0px;\n        top: initial;\n    }\n    .control-btns{\n        display: none;\n    }\n}\n</style>"]}]}