{"remainingRequest":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zbywjq/Desktop/cloudwork/VideoBatches/src/views/edit/Chat.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/src/views/edit/Chat.vue","mtime":1596777344585},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zbywjq/Desktop/cloudwork/VideoBatches/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKCgkJcHJvcHM6ewkKICAgICAgICAgICAgaXQ6ewogICAgICAgICAgICAgICAgdHlwZTpBcnJheQogICAgICAgICAgICB9ICAgIAoJCX0sCiAgICAgICAgZGF0YSgpewoJCQlyZXR1cm57CgkJCQljVGltZTonMDA6MDAnLAogICAgICAgICAgICAJZFRpbWU6JzAwOjAwJywKICAgICAgICAgICAgCXBsYXk6ZmFsc2UsCiAgICAgICAgICAgICAgICBzdGF0dXM6J2VsLWljb24tdmlkZW8tcGxheScsCQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgIAkKCQkJfQogICAgICAgICAgICAKICAgICAgICB9LAogICAgICAgIG1vdW50ZWQoKXsKICAgICAgICAgICAgY29uc3QgbXVzaWMgPSB0aGlzLiRyZWZzLnBsYXllcjsgIAogICAgICAgICAgICBjb25zdCBtdXNpY0JhciA9IHRoaXMuJHJlZnMucnVuYmFyOyAgLy8g6aKc6Imy6L+b5bqm5p2h5omA5Zyo5a+56LGhCiAgICAgICAgICAgIGNvbnNvbGUubG9nKG11c2ljKQogICAgICAgICAgICBjb25zdCBtdXNpY1dpZHRoID0gdGhpcy4kcmVmcy5ydW5mYXRiYXIub2Zmc2V0V2lkdGg7IC8vIOW6lemDqOi/m+W6puadoeaAu+WuvQogICAgICAgICAgICAKICAgICAgICAKCgogICAgICAgICAgICAKCiAgICAgICAgICAgIC8vIOWIneWni+WMlumfs+mikeS/oeaBrwogICAgICAgICAgICBtdXNpYy5hZGRFdmVudExpc3RlbmVyKCdjYW5wbGF5JywgKCkgPT4gewogICAgICAgICAgICAgICAgY29uc3QgbXVzaWNUaW1lID0gbXVzaWMuZHVyYXRpb247IC8vIOiOt+W+l+mfs+mikeaXtumVvwogICAgICAgICAgICAgICAgY29uc3QgYnJhbmNoID0gTWF0aC5mbG9vcihtdXNpY1RpbWUgLyA2MCk7IC8vIOiuoeeul+mfs+mikeWIhumSnwogICAgICAgICAgICAgICAgY29uc3Qgc2Vjb25kID0gTWF0aC5jZWlsKG11c2ljVGltZSAlIDYwKTsgLy8g6K6h566X6Z+z6aKR56eSCiAgICAgICAgICAgICAgICBpZihicmFuY2ggPCAxMCAmJiBzZWNvbmQgPCAxMCl7ICAvLyDlm5vnp43mg4XlhrXliKTmlq3pn7PpopHmgLvml7bpl7QKICAgICAgICAgICAgICAgICAgICB0aGlzLmRUaW1lID0gYDAke2JyYW5jaH06MCR7c2Vjb25kfWA7CiAgICAgICAgICAgICAgICB9ZWxzZSBpZihicmFuY2ggPCAxMCl7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5kVGltZSA9IGAwJHticmFuY2h9OiR7c2Vjb25kfWA7CiAgICAgICAgICAgICAgICB9ZWxzZSBpZihzZWNvbmQgPCAxMCl7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5kVGltZSA9IGAke2JyYW5jaH06MCR7c2Vjb25kfWA7CiAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICB0aGlzLmRUaW1lID0gYCR7YnJhbmNofToke3NlY29uZH1gOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQoKICAgICAgICAgICAgLy8g6Z+z6aKR5q2j5Zyo5pKt5pS+CiAgICAgICAgICAgIG11c2ljLmFkZEV2ZW50TGlzdGVuZXIoJ3RpbWV1cGRhdGUnLCgpID0+IHsKICAgICAgICAgICAgICAgIGNvbnN0IG11c2ljVGltZSA9IG11c2ljLmR1cmF0aW9uOyAvLyDojrflvpfpn7PpopHml7bplb8KICAgICAgICAgICAgICAgIGNvbnN0IHN0b3BUaW1lID0gbXVzaWMuY3VycmVudFRpbWUgLy8g6I635b6X5bey5pKt5pS+55qE6Z+z6aKR5pe26ZW/CgogICAgICAgICAgICAgICAgbXVzaWNCYXIuc3R5bGUud2lkdGggPSBgJHsoc3RvcFRpbWUgLyBtdXNpY1RpbWUpICogMTAwfSVgOyAvLyDorqHnrpfov5vluqbmnaHmiYDlnKjmr5Tkvovlrr3luqYKICAgICAgICAgICAgICAgIGNvbnN0IGJyYW5jaCA9IE1hdGguZmxvb3Ioc3RvcFRpbWUgLyA2MCk7IC8vIOiuoeeul+W3suaSreaUvueahOmfs+mikeWIhumSnwogICAgICAgICAgICAgICAgY29uc3Qgc2Vjb25kID0gTWF0aC5mbG9vcihzdG9wVGltZSAlIDYwKTsgLy8g6K6h566X5bey5pKt5pS+55qE6Z+z6aKR56eSCgogICAgICAgICAgICAgICAgaWYgKGJyYW5jaCA8IDEwICYmIHNlY29uZCA8IDEwKSB7IC8vIOWbm+enjeaDheWGteWIpOaWreaYvuekuumfs+mikeW3suaSreaUvuaXtumXtAogICAgICAgICAgICAgICAgICAgIHRoaXMuY1RpbWUgPSBgMCR7YnJhbmNofTowJHtzZWNvbmR9YDsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYnJhbmNoIDwgMTApIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmNUaW1lID0gYDAke2JyYW5jaH06JHtzZWNvbmR9YDsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2Vjb25kIDwgMTApIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmNUaW1lID0gYCR7YnJhbmNofTowJHtzZWNvbmR9YDsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5jVGltZSA9IGAke2JyYW5jaH06JHtzZWNvbmR9YDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKCiAgICAgICAgICAgIC8vIOenu+WKqOerr+ebkeWQrOi/m+W6puadoeinpuaRuOaLluWKqAogICAgICAgICAgICBtdXNpY0Jhci5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLChldmVudCkgPT4gewogICAgICAgICAgICAgICAgY29uc3QgZXZlbnRzID0gZXZlbnQudGFyZ2V0VG91Y2hlc1swXS5wYWdlWDsgLy8g6I635b6X6Kem5pG45ouW5Yqo55qE6Led56a7CiAgICAgICAgICAgICAgICBtdXNpY0Jhci5zdHlsZS53aWR0aCA9IGAkeyhldmVudHMgLyBtdXNpY1dpZHRoKSAqIDEwMH0lYDsgLy8g6K6h566X6L+b5bqm5p2h5omA5Zyo5q+U5L6L5a695bqmCiAgICAgICAgICAgICAgICBtdXNpYy5wYXVzZSgpOyAvLyDop6bmkbjmi5bliqjml7blgZzmraLmkq3mlL4KICAgICAgICAgICAgfSkKCiAgICAgICAgICAgIC8vIOenu+WKqOerr+ebkeWQrOi/m+W6puadoeinpuaRuOaLluWKqOe7k+adnwogICAgICAgICAgICBtdXNpY0Jhci5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsKCkgPT4gewogICAgICAgICAgICAgICAgY29uc3QgdG91d2lkdGggPSAobXVzaWNCYXIub2Zmc2V0V2lkdGggLyBtdXNpY1dpZHRoKTsgLy8g6K6h566X6L+b5bqm5p2h5omA5Zyo5q+U5L6LCiAgICAgICAgICAgICAgICBtdXNpYy5jdXJyZW50VGltZSA9IG11c2ljLmR1cmF0aW9uICogdG91d2lkdGg7IC8vIOmAmui/h+aJgOWcqOavlOS+i+i1i+WAvOe7memfs+mikeW6lOWcqOeahOaSreaUvuaXtumXtAogICAgICAgICAgICAgICAgbXVzaWMucGF1c2UoKTsgLy8g5qC55o2u5pKt5pS+5pe26Ze05byA5aeL5pKt5pS+CiAgICAgICAgICAgICAgICB0aGlzLnBsYXkgPSBmYWxzZTsgLy8g5pu05pS55pKt5pS+5pqC5YGc5oyJ6ZKu5Li65pKt5pS+CiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICBtZXRob2RzOnsKICAgICAgICAgICAgLy8g5pKt5pS+5pqC5YGcCiAgICAgICAgICAgIGF1ZGlvU3RhdGUoKXsKICAgICAgICAgICAgICAgIHRoaXMucGxheSA9ICF0aGlzLnBsYXk7CiAgICAgICAgICAgICAgICBjb25zdCBtdXNpYyA9IHRoaXMuJHJlZnMucGxheWVyOwogICAgICAgICAgICAgICAgaWYodGhpcy5wbGF5KXsKICAgICAgICAgICAgICAgICAgICBtdXNpYy5wbGF5KCk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0dXMgPSAnZWwtaWNvbi12aWRlby1wbGF5JzsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn5byA5aeL5pKt5pS+Jyk7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cobXVzaWMpCgkJCQkJCgkJCQkJCiAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICBtdXNpYy5wYXVzZSgpOwogICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdHVzID0gJ2VsLWljb24tdmlkZW8tcGF1c2UnOwogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfmmoLlgZzmkq3mlL4nKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgLy8g54K55Ye76L+b5bqm5p2h5LqL5Lu2CiAgICAgICAgICAgIHBsYXlNdXNpYyhlKXsKICAgICAgICAgICAgICAgIGNvbnN0IG11c2ljID0gdGhpcy4kcmVmcy5wbGF5ZXI7IC8vIOmfs+mikeaJgOWcqOWvueixoQogICAgICAgICAgICAgICAgY29uc3QgYmFyV2lkdGggPSBlLnBhZ2VYIC8gdGhpcy4kcmVmcy5ydW5mYXRiYXIub2Zmc2V0V2lkdGg7IC8vIOiuoeeul+eCueWHu+S9jee9ruebuOWvueeItuWFg+e0oOaAu+WuveeahOavlOS+iwogICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5ydW5iYXIuc3R5bGUud2lkdGggPSBgJHtiYXJXaWR0aCAqIDEwMH0lYDsgLy8g6L+b5bqm5p2h5bqU5omA5Zyo55qE5q+U5L6L5oC75a69CiAgICAgICAgICAgICAgICBtdXNpYy5jdXJyZW50VGltZSA9IG11c2ljLmR1cmF0aW9uICogYmFyV2lkdGg7IC8vIOiuoeeul+eCueWHu+aXtuW6lOaSreaUvuaJgOWcqOeahOaXtumXtAogICAgICAgICAgICAgICAgbXVzaWMucGF1c2UoKTsgLy8g5pKt5pS+6Z+z6aKRCiAgICAgICAgICAgICAgICB0aGlzLnBsYXkgPSBmYWxzZTsgLy8g5pu05pS55pKt5pS+5pqC5YGc5oyJ6ZKu5Li65pKt5pS+CgkJCX0sCgkJCQoJCQkKICAgICAgICB9CiAgICAKCn0K"},{"version":3,"sources":["Chat.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;;AAGA","file":"Chat.vue","sourceRoot":"src/views/edit","sourcesContent":["<template>\n\t<div id=\"play\" >\n        <video :src=\"it[0].url\"  ref=\"player\" class=\"vs\"></video>\n        <div class=\"v-control\">\n            <div class=\"button_menu\">\n                <el-button type=\"primary\" size=\"mini\" icon=\"el-icon-arrow-left\" ></el-button> \n                <el-button type=\"primary\" size=\"mini\" :icon=\"status\" @click=\"audioState\" ></el-button> \n                <el-button type=\"primary\" size=\"mini\" icon=\"el-icon-arrow-right\"></el-button> \n            </div>\n            <div class=\"pro\">\n                <p>{{cTime}}</p>\n                <div class=\"bar\">\n                    <div class=\"progressbar\" ref=\"runfatbar\" @click=\"playMusic\">\n                        <div class=\"greenbar\" ref=\"runbar\">\n                        </div>\n\n                    </div>\n                </div>\n                <p>{{dTime}}</p>\n            </div>\n        </div>\n    </div>\n\n</template>\n\n<script>\nexport default {\n\n\t\tprops:{\t\n            it:{\n                type:Array\n            }    \n\t\t},\n        data(){\n\t\t\treturn{\n\t\t\t\tcTime:'00:00',\n            \tdTime:'00:00',\n            \tplay:false,\n                status:'el-icon-video-play',\t\n                \n               \t\n\t\t\t}\n            \n        },\n        mounted(){\n            const music = this.$refs.player;  \n            const musicBar = this.$refs.runbar;  // 颜色进度条所在对象\n            console.log(music)\n            const musicWidth = this.$refs.runfatbar.offsetWidth; // 底部进度条总宽\n            \n        \n\n\n            \n\n            // 初始化音频信息\n            music.addEventListener('canplay', () => {\n                const musicTime = music.duration; // 获得音频时长\n                const branch = Math.floor(musicTime / 60); // 计算音频分钟\n                const second = Math.ceil(musicTime % 60); // 计算音频秒\n                if(branch < 10 && second < 10){  // 四种情况判断音频总时间\n                    this.dTime = `0${branch}:0${second}`;\n                }else if(branch < 10){\n                    this.dTime = `0${branch}:${second}`;\n                }else if(second < 10){\n                    this.dTime = `${branch}:0${second}`;\n                }else{\n                    this.dTime = `${branch}:${second}`;\n                }\n            })\n\n            // 音频正在播放\n            music.addEventListener('timeupdate',() => {\n                const musicTime = music.duration; // 获得音频时长\n                const stopTime = music.currentTime // 获得已播放的音频时长\n\n                musicBar.style.width = `${(stopTime / musicTime) * 100}%`; // 计算进度条所在比例宽度\n                const branch = Math.floor(stopTime / 60); // 计算已播放的音频分钟\n                const second = Math.floor(stopTime % 60); // 计算已播放的音频秒\n\n                if (branch < 10 && second < 10) { // 四种情况判断显示音频已播放时间\n                    this.cTime = `0${branch}:0${second}`;\n                } else if (branch < 10) {\n                    this.cTime = `0${branch}:${second}`;\n                } else if (second < 10) {\n                    this.cTime = `${branch}:0${second}`;\n                } else {\n                    this.cTime = `${branch}:${second}`;\n                }\n            })\n\n            // 移动端监听进度条触摸拖动\n            musicBar.addEventListener('touchmove',(event) => {\n                const events = event.targetTouches[0].pageX; // 获得触摸拖动的距离\n                musicBar.style.width = `${(events / musicWidth) * 100}%`; // 计算进度条所在比例宽度\n                music.pause(); // 触摸拖动时停止播放\n            })\n\n            // 移动端监听进度条触摸拖动结束\n            musicBar.addEventListener('touchend',() => {\n                const touwidth = (musicBar.offsetWidth / musicWidth); // 计算进度条所在比例\n                music.currentTime = music.duration * touwidth; // 通过所在比例赋值给音频应在的播放时间\n                music.pause(); // 根据播放时间开始播放\n                this.play = false; // 更改播放暂停按钮为播放\n            })\n        },\n        methods:{\n            // 播放暂停\n            audioState(){\n                this.play = !this.play;\n                const music = this.$refs.player;\n                if(this.play){\n                    music.play();\n                    this.status = 'el-icon-video-play';\n                    console.log('开始播放');\n                    console.log(music)\n\t\t\t\t\t\n\t\t\t\t\t\n                }else{\n                    music.pause();\n                    this.status = 'el-icon-video-pause';\n                    console.log('暂停播放');\n                }\n            },\n            // 点击进度条事件\n            playMusic(e){\n                const music = this.$refs.player; // 音频所在对象\n                const barWidth = e.pageX / this.$refs.runfatbar.offsetWidth; // 计算点击位置相对父元素总宽的比例\n                this.$refs.runbar.style.width = `${barWidth * 100}%`; // 进度条应所在的比例总宽\n                music.currentTime = music.duration * barWidth; // 计算点击时应播放所在的时间\n                music.pause(); // 播放音频\n                this.play = false; // 更改播放暂停按钮为播放\n\t\t\t},\n\t\t\t\n\t\t\t\n        }\n    \n\n}\n</script>\n\n<style scoped src=\"../../play.css\">\n\n   \n</style>"]}]}